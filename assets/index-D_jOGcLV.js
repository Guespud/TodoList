function rA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mE={exports:{}},Bc={},vE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),iA=Symbol.for("react.portal"),oA=Symbol.for("react.fragment"),sA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),uA=Symbol.for("react.context"),cA=Symbol.for("react.forward_ref"),dA=Symbol.for("react.suspense"),fA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),Yv=Symbol.iterator;function pA(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var yE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,EE={};function os(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||yE}os.prototype.isReactComponent={};os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=os.prototype;function Gp(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||yE}var qp=Gp.prototype=new wE;qp.constructor=Gp;_E(qp,os.prototype);qp.isPureReactComponent=!0;var Xv=Array.isArray,SE=Object.prototype.hasOwnProperty,Kp={current:null},TE={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)SE.call(e,r)&&!TE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ja,type:t,key:o,ref:s,props:i,_owner:Kp.current}}function gA(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function mA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jv=/\/+/g;function ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mA(""+t.key):e.toString(36)}function mu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ja:case iA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ff(s,0):r,Xv(i)?(n="",t!=null&&(n=t.replace(Jv,"$&/")+"/"),mu(i,e,n,"",function(c){return c})):i!=null&&(Qp(i)&&(i=gA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Jv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Xv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ff(o,a);s+=mu(o,e,n,l,i)}else if(l=pA(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ff(o,a++),s+=mu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ul(t,e,n){if(t==null)return t;var r=[],i=0;return mu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},vu={transition:null},yA={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:vu,ReactCurrentOwner:Kp};function bE(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=os;me.Fragment=oA;me.Profiler=aA;me.PureComponent=Gp;me.StrictMode=sA;me.Suspense=dA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;me.act=bE;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Kp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SE.call(e,l)&&!TE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ja,type:t.type,key:i,ref:o,props:r,_owner:s}};me.createContext=function(t){return t={$$typeof:uA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lA,_context:t},t.Consumer=t};me.createElement=IE;me.createFactory=function(t){var e=IE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:cA,render:t}};me.isValidElement=Qp;me.lazy=function(t){return{$$typeof:hA,_payload:{_status:-1,_result:t},_init:vA}};me.memo=function(t,e){return{$$typeof:fA,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};me.unstable_act=bE;me.useCallback=function(t,e){return Ut.current.useCallback(t,e)};me.useContext=function(t){return Ut.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ut.current.useEffect(t,e)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ut.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};me.useRef=function(t){return Ut.current.useRef(t)};me.useState=function(t){return Ut.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.3.1";vE.exports=me;var N=vE.exports;const G=Wp(N),Mu=rA({__proto__:null,default:G},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A=N,EA=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),SA=Object.prototype.hasOwnProperty,TA=_A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IA={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SA.call(e,r)&&!IA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EA,type:t,key:o,ref:s,props:i,_owner:TA.current}}Bc.Fragment=wA;Bc.jsx=AE;Bc.jsxs=AE;mE.exports=Bc;var fe=mE.exports,CE={exports:{}},fn={},PE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var K=z.length;z.push(X);e:for(;0<K;){var oe=K-1>>>1,le=z[oe];if(0<i(le,X))z[oe]=X,z[K]=le,K=oe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],K=z.pop();if(K!==X){z[0]=K;e:for(var oe=0,le=z.length,_e=le>>>1;oe<_e;){var Qe=2*(oe+1)-1,Oe=z[Qe],Be=Qe+1,ht=z[Be];if(0>i(Oe,K))Be<le&&0>i(ht,Oe)?(z[oe]=ht,z[Be]=K,oe=Be):(z[oe]=Oe,z[Qe]=K,oe=Qe);else if(Be<le&&0>i(ht,K))z[oe]=ht,z[Be]=K,oe=Be;else break e}}return X}function i(z,X){var K=z.sortIndex-X.sortIndex;return K!==0?K:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,v=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=z)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function x(z){if(T=!1,S(z),!v)if(n(l)!==null)v=!0,pe(O);else{var X=n(c);X!==null&&ve(x,X.startTime-z)}}function O(z,X){v=!1,T&&(T=!1,_(E),E=-1),g=!0;var K=h;try{for(S(X),f=n(l);f!==null&&(!(f.expirationTime>X)||z&&!D());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var le=oe(f.expirationTime<=X);X=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(l)&&r(l),S(X)}else r(l);f=n(l)}if(f!==null)var _e=!0;else{var Qe=n(c);Qe!==null&&ve(x,Qe.startTime-X),_e=!1}return _e}finally{f=null,h=K,g=!1}}var M=!1,b=null,E=-1,I=5,P=-1;function D(){return!(t.unstable_now()-P<I)}function R(){if(b!==null){var z=t.unstable_now();P=z;var X=!0;try{X=b(!0,z)}finally{X?A():(M=!1,b=null)}}else M=!1}var A;if(typeof y=="function")A=function(){y(R)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,he=ne.port2;ne.port1.onmessage=R,A=function(){he.postMessage(null)}}else A=function(){C(R,0)};function pe(z){b=z,M||(M=!0,A())}function ve(z,X){E=C(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,pe(O))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var K=h;h=X;try{return z()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=h;h=z;try{return X()}finally{h=K}},t.unstable_scheduleCallback=function(z,X,K){var oe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,z={id:d++,callback:X,priorityLevel:z,startTime:K,expirationTime:le,sortIndex:-1},K>oe?(z.sortIndex=K,e(c,z),n(l)===null&&z===n(c)&&(T?(_(E),E=-1):T=!0,ve(x,K-oe))):(z.sortIndex=le,e(l,z),v||g||(v=!0,pe(O))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var X=h;return function(){var K=h;h=X;try{return z.apply(this,arguments)}finally{h=K}}}})(xE);PE.exports=xE;var bA=PE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=N,un=bA;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DE=new Set,Ea={};function Ji(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(Ea[t]=e,t=0;t<e.length;t++)DE.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,CA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},ey={};function PA(t){return ph.call(ey,t)?!0:ph.call(Zv,t)?!1:CA.test(t)?ey[t]=!0:(Zv[t]=!0,!1)}function xA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DA(t,e,n,r){if(e===null||typeof e>"u"||xA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);Tt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);Tt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yp,Xp);Tt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DA(e,n,i,r)&&(n=null),r||i===null?PA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),vh=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),NE=Symbol.for("react.offscreen"),ty=Symbol.iterator;function ks(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,hf;function Gs(t){if(hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var pf=!1;function gf(t,e){if(!t||pf)return"";pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function RA(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=gf(t.type,!1),t;case 11:return t=gf(t.type.render,!1),t;case 1:return t=gf(t.type,!0),t;default:return""}}function yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case vo:return"Portal";case gh:return"Profiler";case Zp:return"StrictMode";case mh:return"Suspense";case vh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tg:return e=t.displayName||null,e!==null?e:yh(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return yh(t(e))}catch{}}return null}function kA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yh(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NA(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=NA(t))}function VE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _h(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ME(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function Eh(t,e){ME(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wh(t,e.type,n):e.hasOwnProperty("defaultValue")&&wh(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wh(t,e,n){(e!=="number"||Fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qs=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(qs(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function FE(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Th(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,BE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OA=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(t){OA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),na[e]=na[t]})});function $E(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||na.hasOwnProperty(t)&&na[t]?(""+e).trim():e+"px"}function UE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$E(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VA=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(t,e){if(e){if(VA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function bh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ch=null,Ro=null,ko=null;function sy(t){if(t=tl(t)){if(typeof Ch!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Hc(e),Ch(t.stateNode,t.type,e))}}function jE(t){Ro?ko?ko.push(t):ko=[t]:Ro=t}function zE(){if(Ro){var t=Ro,e=ko;if(ko=Ro=null,sy(t),e)for(t=0;t<e.length;t++)sy(e[t])}}function HE(t,e){return t(e)}function WE(){}var mf=!1;function GE(t,e,n){if(mf)return t(e,n);mf=!0;try{return HE(t,e,n)}finally{mf=!1,(Ro!==null||ko!==null)&&(WE(),zE())}}function Sa(t,e){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Ph=!1;if(pr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Ph=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Ph=!1}function MA(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ra=!1,Lu=null,Bu=!1,xh=null,FA={onError:function(t){ra=!0,Lu=t}};function LA(t,e,n,r,i,o,s,a,l){ra=!1,Lu=null,MA.apply(FA,arguments)}function BA(t,e,n,r,i,o,s,a,l){if(LA.apply(this,arguments),ra){if(ra){var c=Lu;ra=!1,Lu=null}else throw Error(j(198));Bu||(Bu=!0,xh=c)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ay(t){if(Zi(t)!==t)throw Error(j(188))}function $A(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ay(i),t;if(o===r)return ay(i),e;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function KE(t){return t=$A(t),t!==null?QE(t):null}function QE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QE(t);if(e!==null)return e;t=t.sibling}return null}var YE=un.unstable_scheduleCallback,ly=un.unstable_cancelCallback,UA=un.unstable_shouldYield,jA=un.unstable_requestPaint,Xe=un.unstable_now,zA=un.unstable_getCurrentPriorityLevel,rg=un.unstable_ImmediatePriority,XE=un.unstable_UserBlockingPriority,$u=un.unstable_NormalPriority,HA=un.unstable_LowPriority,JE=un.unstable_IdlePriority,$c=null,Qn=null;function WA(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:KA,GA=Math.log,qA=Math.LN2;function KA(t){return t>>>=0,t===0?32:31-(GA(t)/qA|0)|0}var Wl=64,Gl=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ks(a):(o&=s,o!==0&&(r=Ks(o)))}else s=n&~i,s!==0?r=Ks(s):o!==0&&(r=Ks(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function QA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ln(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=QA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZE(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function vf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function XA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tw,og,nw,rw,iw,Rh=!1,ql=[],$r=null,Ur=null,jr=null,Ta=new Map,Ia=new Map,Rr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uy(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Os(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=tl(e),e!==null&&og(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZA(t,e,n,r,i){switch(e){case"focusin":return $r=Os($r,t,e,n,r,i),!0;case"dragenter":return Ur=Os(Ur,t,e,n,r,i),!0;case"mouseover":return jr=Os(jr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ta.set(o,Os(Ta.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ia.set(o,Os(Ia.get(o)||null,t,e,n,r,i)),!0}return!1}function ow(t){var e=Di(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=qE(n),e!==null){t.blockedOn=e,iw(t.priority,function(){nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ah=r,n.target.dispatchEvent(r),Ah=null}else return e=tl(n),e!==null&&og(e),t.blockedOn=n,!1;e.shift()}return!0}function cy(t,e,n){yu(t)&&n.delete(e)}function eC(){Rh=!1,$r!==null&&yu($r)&&($r=null),Ur!==null&&yu(Ur)&&(Ur=null),jr!==null&&yu(jr)&&(jr=null),Ta.forEach(cy),Ia.forEach(cy)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Rh||(Rh=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,eC)))}function ba(t){function e(i){return Vs(i,t)}if(0<ql.length){Vs(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&Vs($r,t),Ur!==null&&Vs(Ur,t),jr!==null&&Vs(jr,t),Ta.forEach(e),Ia.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)ow(n),n.blockedOn===null&&Rr.shift()}var No=Sr.ReactCurrentBatchConfig,ju=!0;function tC(t,e,n,r){var i=Pe,o=No.transition;No.transition=null;try{Pe=1,sg(t,e,n,r)}finally{Pe=i,No.transition=o}}function nC(t,e,n,r){var i=Pe,o=No.transition;No.transition=null;try{Pe=4,sg(t,e,n,r)}finally{Pe=i,No.transition=o}}function sg(t,e,n,r){if(ju){var i=kh(t,e,n,r);if(i===null)Cf(t,e,r,zu,n),uy(t,r);else if(ZA(i,t,e,n,r))r.stopPropagation();else if(uy(t,r),e&4&&-1<JA.indexOf(t)){for(;i!==null;){var o=tl(i);if(o!==null&&tw(o),o=kh(t,e,n,r),o===null&&Cf(t,e,r,zu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cf(t,e,r,null,n)}}var zu=null;function kh(t,e,n,r){if(zu=null,t=ng(r),t=Di(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zu=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zA()){case rg:return 1;case XE:return 4;case $u:case HA:return 16;case JE:return 536870912;default:return 16}default:return 16}}var Vr=null,ag=null,_u=null;function aw(){if(_u)return _u;var t,e=ag,n=e.length,r,i="value"in Vr?Vr.value:Vr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return _u=i.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function dy(){return!1}function hn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kl:dy,this.isPropagationStopped=dy,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=hn(ss),el=We({},ss,{view:0,detail:0}),rC=hn(el),yf,_f,Ms,Uc=We({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(yf=t.screenX-Ms.screenX,_f=t.screenY-Ms.screenY):_f=yf=0,Ms=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:_f}}),fy=hn(Uc),iC=We({},Uc,{dataTransfer:0}),oC=hn(iC),sC=We({},el,{relatedTarget:0}),Ef=hn(sC),aC=We({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),lC=hn(aC),uC=We({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cC=hn(uC),dC=We({},ss,{data:0}),hy=hn(dC),fC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pC[t])?!!e[t]:!1}function ug(){return gC}var mC=We({},el,{key:function(t){if(t.key){var e=fC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vC=hn(mC),yC=We({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),py=hn(yC),_C=We({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),EC=hn(_C),wC=We({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=hn(wC),TC=We({},Uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IC=hn(TC),bC=[9,13,27,32],cg=pr&&"CompositionEvent"in window,ia=null;pr&&"documentMode"in document&&(ia=document.documentMode);var AC=pr&&"TextEvent"in window&&!ia,lw=pr&&(!cg||ia&&8<ia&&11>=ia),gy=" ",my=!1;function uw(t,e){switch(t){case"keyup":return bC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function CC(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(my=!0,gy);case"textInput":return t=e.data,t===gy&&my?null:t;default:return null}}function PC(t,e){if(_o)return t==="compositionend"||!cg&&uw(t,e)?(t=aw(),_u=ag=Vr=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lw&&e.locale!=="ko"?null:e.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xC[t.type]:e==="textarea"}function dw(t,e,n,r){jE(r),e=Hu(e,"onChange"),0<e.length&&(n=new lg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oa=null,Aa=null;function DC(t){Sw(t,0)}function jc(t){var e=So(t);if(VE(e))return t}function RC(t,e){if(t==="change")return e}var fw=!1;if(pr){var wf;if(pr){var Sf="oninput"in document;if(!Sf){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Sf=typeof yy.oninput=="function"}wf=Sf}else wf=!1;fw=wf&&(!document.documentMode||9<document.documentMode)}function _y(){oa&&(oa.detachEvent("onpropertychange",hw),Aa=oa=null)}function hw(t){if(t.propertyName==="value"&&jc(Aa)){var e=[];dw(e,Aa,t,ng(t)),GE(DC,e)}}function kC(t,e,n){t==="focusin"?(_y(),oa=e,Aa=n,oa.attachEvent("onpropertychange",hw)):t==="focusout"&&_y()}function NC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(Aa)}function OC(t,e){if(t==="click")return jc(e)}function VC(t,e){if(t==="input"||t==="change")return jc(e)}function MC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:MC;function Ca(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ph.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,e){var n=Ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gw(){for(var t=window,e=Fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fu(t.document)}return e}function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FC(t){var e=gw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pw(n.ownerDocument.documentElement,n)){if(r!==null&&dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wy(n,o);var s=wy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LC=pr&&"documentMode"in document&&11>=document.documentMode,Eo=null,Nh=null,sa=null,Oh=!1;function Sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oh||Eo==null||Eo!==Fu(r)||(r=Eo,"selectionStart"in r&&dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&Ca(sa,r)||(sa=r,r=Hu(Nh,"onSelect"),0<r.length&&(e=new lg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eo)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Tf={},mw={};pr&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function zc(t){if(Tf[t])return Tf[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mw)return Tf[t]=e[n];return t}var vw=zc("animationend"),yw=zc("animationiteration"),_w=zc("animationstart"),Ew=zc("transitionend"),ww=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){ww.set(t,e),Ji(e,[t])}for(var If=0;If<Ty.length;If++){var bf=Ty[If],BC=bf.toLowerCase(),$C=bf[0].toUpperCase()+bf.slice(1);ui(BC,"on"+$C)}ui(vw,"onAnimationEnd");ui(yw,"onAnimationIteration");ui(_w,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(Ew,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BA(r,e,void 0,t),t.currentTarget=null}function Sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Iy(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Iy(i,a,c),o=l}}}if(Bu)throw t=xh,Bu=!1,xh=null,t}function Me(t,e){var n=e[Bh];n===void 0&&(n=e[Bh]=new Set);var r=t+"__bubble";n.has(r)||(Tw(e,t,2,!1),n.add(r))}function Af(t,e,n){var r=0;e&&(r|=4),Tw(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Yl]){t[Yl]=!0,DE.forEach(function(n){n!=="selectionchange"&&(UC.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,Af("selectionchange",!1,e))}}function Tw(t,e,n,r){switch(sw(e)){case 1:var i=tC;break;case 4:i=nC;break;default:i=sg}n=i.bind(null,e,n,t),i=void 0,!Ph||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Di(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}GE(function(){var c=o,d=ng(n),f=[];e:{var h=ww.get(t);if(h!==void 0){var g=lg,v=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":g=vC;break;case"focusin":v="focus",g=Ef;break;case"focusout":v="blur",g=Ef;break;case"beforeblur":case"afterblur":g=Ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EC;break;case vw:case yw:case _w:g=lC;break;case Ew:g=SC;break;case"scroll":g=rC;break;case"wheel":g=IC;break;case"copy":case"cut":case"paste":g=cC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=py}var T=(e&4)!==0,C=!T&&t==="scroll",_=T?h!==null?h+"Capture":null:h;T=[];for(var y=c,S;y!==null;){S=y;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,_!==null&&(x=Sa(y,_),x!=null&&T.push(xa(y,x,S)))),C)break;y=y.return}0<T.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:T}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Ah&&(v=n.relatedTarget||n.fromElement)&&(Di(v)||v[gr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Di(v):null,v!==null&&(C=Zi(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(T=fy,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=py,x="onPointerLeave",_="onPointerEnter",y="pointer"),C=g==null?h:So(g),S=v==null?h:So(v),h=new T(x,y+"leave",g,n,d),h.target=C,h.relatedTarget=S,x=null,Di(d)===c&&(T=new T(_,y+"enter",v,n,d),T.target=S,T.relatedTarget=C,x=T),C=x,g&&v)t:{for(T=g,_=v,y=0,S=T;S;S=co(S))y++;for(S=0,x=_;x;x=co(x))S++;for(;0<y-S;)T=co(T),y--;for(;0<S-y;)_=co(_),S--;for(;y--;){if(T===_||_!==null&&T===_.alternate)break t;T=co(T),_=co(_)}T=null}else T=null;g!==null&&by(f,h,g,T,!1),v!==null&&C!==null&&by(f,C,v,T,!0)}}e:{if(h=c?So(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var O=RC;else if(vy(h))if(fw)O=VC;else{O=NC;var M=kC}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=OC);if(O&&(O=O(t,c))){dw(f,O,n,d);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&wh(h,"number",h.value)}switch(M=c?So(c):window,t){case"focusin":(vy(M)||M.contentEditable==="true")&&(Eo=M,Nh=c,sa=null);break;case"focusout":sa=Nh=Eo=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Sy(f,n,d);break;case"selectionchange":if(LC)break;case"keydown":case"keyup":Sy(f,n,d)}var b;if(cg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _o?uw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(lw&&n.locale!=="ko"&&(_o||E!=="onCompositionStart"?E==="onCompositionEnd"&&_o&&(b=aw()):(Vr=d,ag="value"in Vr?Vr.value:Vr.textContent,_o=!0)),M=Hu(c,E),0<M.length&&(E=new hy(E,t,null,n,d),f.push({event:E,listeners:M}),b?E.data=b:(b=cw(n),b!==null&&(E.data=b)))),(b=AC?CC(t,n):PC(t,n))&&(c=Hu(c,"onBeforeInput"),0<c.length&&(d=new hy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}Sw(f,e)})}function xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sa(t,n),o!=null&&r.unshift(xa(t,o,i)),o=Sa(t,e),o!=null&&r.push(xa(t,o,i))),t=t.return}return r}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function by(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sa(n,o),l!=null&&s.unshift(xa(n,l,a))):i||(l=Sa(n,o),l!=null&&s.push(xa(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(jC,`
`).replace(zC,"")}function Xl(t,e,n){if(e=Ay(e),Ay(t)!==e&&n)throw Error(j(425))}function Wu(){}var Vh=null,Mh=null;function Fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lh=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(GC)}:Lh;function GC(t){setTimeout(function(){throw t})}function Pf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ba(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var as=Math.random().toString(36).slice(2),qn="__reactFiber$"+as,Da="__reactProps$"+as,gr="__reactContainer$"+as,Bh="__reactEvents$"+as,qC="__reactListeners$"+as,KC="__reactHandles$"+as;function Di(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Py(t);t!==null;){if(n=t[qn])return n;t=Py(t)}return e}t=n,n=t.parentNode}return null}function tl(t){return t=t[qn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Hc(t){return t[Da]||null}var $h=[],To=-1;function ci(t){return{current:t}}function Le(t){0>To||(t.current=$h[To],$h[To]=null,To--)}function Ne(t,e){To++,$h[To]=t.current,t.current=e}var ni={},Nt=ci(ni),Kt=ci(!1),$i=ni;function Bo(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Gu(){Le(Kt),Le(Nt)}function xy(t,e,n){if(Nt.current!==ni)throw Error(j(168));Ne(Nt,e),Ne(Kt,n)}function Iw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,kA(t)||"Unknown",i));return We({},n,r)}function qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,$i=Nt.current,Ne(Nt,t),Ne(Kt,Kt.current),!0}function Dy(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Iw(t,e,$i),r.__reactInternalMemoizedMergedChildContext=t,Le(Kt),Le(Nt),Ne(Nt,t)):Le(Kt),Ne(Kt,n)}var lr=null,Wc=!1,xf=!1;function bw(t){lr===null?lr=[t]:lr.push(t)}function QC(t){Wc=!0,bw(t)}function di(){if(!xf&&lr!==null){xf=!0;var t=0,e=Pe;try{var n=lr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,Wc=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),YE(rg,di),i}finally{Pe=e,xf=!1}}return null}var Io=[],bo=0,Ku=null,Qu=0,vn=[],yn=0,Ui=null,cr=1,dr="";function Ti(t,e){Io[bo++]=Qu,Io[bo++]=Ku,Ku=t,Qu=e}function Aw(t,e,n){vn[yn++]=cr,vn[yn++]=dr,vn[yn++]=Ui,Ui=t;var r=cr;t=dr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var o=32-Ln(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,cr=1<<32-Ln(e)+i|n<<i|r,dr=o+t}else cr=1<<o|n<<i|r,dr=t}function fg(t){t.return!==null&&(Ti(t,1),Aw(t,1,0))}function hg(t){for(;t===Ku;)Ku=Io[--bo],Io[bo]=null,Qu=Io[--bo],Io[bo]=null;for(;t===Ui;)Ui=vn[--yn],vn[yn]=null,dr=vn[--yn],vn[yn]=null,cr=vn[--yn],vn[yn]=null}var sn=null,tn=null,$e=!1,Nn=null;function Cw(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ry(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,tn=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:cr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,tn=null,!0):!1;default:return!1}}function Uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jh(t){if($e){var e=tn;if(e){var n=e;if(!Ry(t,e)){if(Uh(t))throw Error(j(418));e=zr(n.nextSibling);var r=sn;e&&Ry(t,e)?Cw(r,n):(t.flags=t.flags&-4097|2,$e=!1,sn=t)}}else{if(Uh(t))throw Error(j(418));t.flags=t.flags&-4097|2,$e=!1,sn=t}}}function ky(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Jl(t){if(t!==sn)return!1;if(!$e)return ky(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fh(t.type,t.memoizedProps)),e&&(e=tn)){if(Uh(t))throw Pw(),Error(j(418));for(;e;)Cw(t,e),e=zr(e.nextSibling)}if(ky(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=sn?zr(t.stateNode.nextSibling):null;return!0}function Pw(){for(var t=tn;t;)t=zr(t.nextSibling)}function $o(){tn=sn=null,$e=!1}function pg(t){Nn===null?Nn=[t]:Nn.push(t)}var YC=Sr.ReactCurrentBatchConfig;function Fs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ny(t){var e=t._init;return e(t._payload)}function xw(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=qr(_,y),_.index=0,_.sibling=null,_}function o(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,S,x){return y===null||y.tag!==6?(y=Mf(S,_.mode,x),y.return=_,y):(y=i(y,S),y.return=_,y)}function l(_,y,S,x){var O=S.type;return O===yo?d(_,y,S.props.children,x,S.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xr&&Ny(O)===y.type)?(x=i(y,S.props),x.ref=Fs(_,y,S),x.return=_,x):(x=Cu(S.type,S.key,S.props,null,_.mode,x),x.ref=Fs(_,y,S),x.return=_,x)}function c(_,y,S,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Ff(S,_.mode,x),y.return=_,y):(y=i(y,S.children||[]),y.return=_,y)}function d(_,y,S,x,O){return y===null||y.tag!==7?(y=Fi(S,_.mode,x,O),y.return=_,y):(y=i(y,S),y.return=_,y)}function f(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Mf(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jl:return S=Cu(y.type,y.key,y.props,null,_.mode,S),S.ref=Fs(_,null,y),S.return=_,S;case vo:return y=Ff(y,_.mode,S),y.return=_,y;case xr:var x=y._init;return f(_,x(y._payload),S)}if(qs(y)||ks(y))return y=Fi(y,_.mode,S,null),y.return=_,y;Zl(_,y)}return null}function h(_,y,S,x){var O=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(_,y,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jl:return S.key===O?l(_,y,S,x):null;case vo:return S.key===O?c(_,y,S,x):null;case xr:return O=S._init,h(_,y,O(S._payload),x)}if(qs(S)||ks(S))return O!==null?null:d(_,y,S,x,null);Zl(_,S)}return null}function g(_,y,S,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(S)||null,a(y,_,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:return _=_.get(x.key===null?S:x.key)||null,l(y,_,x,O);case vo:return _=_.get(x.key===null?S:x.key)||null,c(y,_,x,O);case xr:var M=x._init;return g(_,y,S,M(x._payload),O)}if(qs(x)||ks(x))return _=_.get(S)||null,d(y,_,x,O,null);Zl(y,x)}return null}function v(_,y,S,x){for(var O=null,M=null,b=y,E=y=0,I=null;b!==null&&E<S.length;E++){b.index>E?(I=b,b=null):I=b.sibling;var P=h(_,b,S[E],x);if(P===null){b===null&&(b=I);break}t&&b&&P.alternate===null&&e(_,b),y=o(P,y,E),M===null?O=P:M.sibling=P,M=P,b=I}if(E===S.length)return n(_,b),$e&&Ti(_,E),O;if(b===null){for(;E<S.length;E++)b=f(_,S[E],x),b!==null&&(y=o(b,y,E),M===null?O=b:M.sibling=b,M=b);return $e&&Ti(_,E),O}for(b=r(_,b);E<S.length;E++)I=g(b,_,E,S[E],x),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?E:I.key),y=o(I,y,E),M===null?O=I:M.sibling=I,M=I);return t&&b.forEach(function(D){return e(_,D)}),$e&&Ti(_,E),O}function T(_,y,S,x){var O=ks(S);if(typeof O!="function")throw Error(j(150));if(S=O.call(S),S==null)throw Error(j(151));for(var M=O=null,b=y,E=y=0,I=null,P=S.next();b!==null&&!P.done;E++,P=S.next()){b.index>E?(I=b,b=null):I=b.sibling;var D=h(_,b,P.value,x);if(D===null){b===null&&(b=I);break}t&&b&&D.alternate===null&&e(_,b),y=o(D,y,E),M===null?O=D:M.sibling=D,M=D,b=I}if(P.done)return n(_,b),$e&&Ti(_,E),O;if(b===null){for(;!P.done;E++,P=S.next())P=f(_,P.value,x),P!==null&&(y=o(P,y,E),M===null?O=P:M.sibling=P,M=P);return $e&&Ti(_,E),O}for(b=r(_,b);!P.done;E++,P=S.next())P=g(b,_,E,P.value,x),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?E:P.key),y=o(P,y,E),M===null?O=P:M.sibling=P,M=P);return t&&b.forEach(function(R){return e(_,R)}),$e&&Ti(_,E),O}function C(_,y,S,x){if(typeof S=="object"&&S!==null&&S.type===yo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case jl:e:{for(var O=S.key,M=y;M!==null;){if(M.key===O){if(O=S.type,O===yo){if(M.tag===7){n(_,M.sibling),y=i(M,S.props.children),y.return=_,_=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xr&&Ny(O)===M.type){n(_,M.sibling),y=i(M,S.props),y.ref=Fs(_,M,S),y.return=_,_=y;break e}n(_,M);break}else e(_,M);M=M.sibling}S.type===yo?(y=Fi(S.props.children,_.mode,x,S.key),y.return=_,_=y):(x=Cu(S.type,S.key,S.props,null,_.mode,x),x.ref=Fs(_,y,S),x.return=_,_=x)}return s(_);case vo:e:{for(M=S.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=i(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Ff(S,_.mode,x),y.return=_,_=y}return s(_);case xr:return M=S._init,C(_,y,M(S._payload),x)}if(qs(S))return v(_,y,S,x);if(ks(S))return T(_,y,S,x);Zl(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,S),y.return=_,_=y):(n(_,y),y=Mf(S,_.mode,x),y.return=_,_=y),s(_)):n(_,y)}return C}var Uo=xw(!0),Dw=xw(!1),Yu=ci(null),Xu=null,Ao=null,gg=null;function mg(){gg=Ao=Xu=null}function vg(t){var e=Yu.current;Le(Yu),t._currentValue=e}function zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Xu=t,gg=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(Xu===null)throw Error(j(308));Ao=t,Xu.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var Ri=null;function yg(t){Ri===null?Ri=[t]:Ri.push(t)}function Rw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function _g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}function Oy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ju(t,e,n,r){var i=t.updateQueue;Dr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(h=e,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=We({},f,h);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);zi|=s,t.lanes=s,t.memoizedState=f}}function Vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var nl={},Yn=ci(nl),Ra=ci(nl),ka=ci(nl);function ki(t){if(t===nl)throw Error(j(174));return t}function Eg(t,e){switch(Ne(ka,e),Ne(Ra,t),Ne(Yn,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Th(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Th(e,t)}Le(Yn),Ne(Yn,e)}function jo(){Le(Yn),Le(Ra),Le(ka)}function Nw(t){ki(ka.current);var e=ki(Yn.current),n=Th(e,t.type);e!==n&&(Ne(Ra,t),Ne(Yn,n))}function wg(t){Ra.current===t&&(Le(Yn),Le(Ra))}var je=ci(0);function Zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Df=[];function Sg(){for(var t=0;t<Df.length;t++)Df[t]._workInProgressVersionPrimary=null;Df.length=0}var Su=Sr.ReactCurrentDispatcher,Rf=Sr.ReactCurrentBatchConfig,ji=0,He=null,nt=null,lt=null,ec=!1,aa=!1,Na=0,XC=0;function Ct(){throw Error(j(321))}function Tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function Ig(t,e,n,r,i,o){if(ji=o,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?tP:nP,t=n(r,i),aa){o=0;do{if(aa=!1,Na=0,25<=o)throw Error(j(301));o+=1,lt=nt=null,e.updateQueue=null,Su.current=rP,t=n(r,i)}while(aa)}if(Su.current=tc,e=nt!==null&&nt.next!==null,ji=0,lt=nt=He=null,ec=!1,e)throw Error(j(300));return t}function bg(){var t=Na!==0;return Na=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?He.memoizedState=lt=t:lt=lt.next=t,lt}function In(){if(nt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=lt===null?He.memoizedState:lt.next;if(e!==null)lt=e,nt=t;else{if(t===null)throw Error(j(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?He.memoizedState=lt=t:lt=lt.next=t}return lt}function Oa(t,e){return typeof e=="function"?e(t):e}function kf(t){var e=In(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ji&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,He.lanes|=d,zi|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Un(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,He.lanes|=o,zi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nf(t){var e=In(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Un(o,e.memoizedState)||(qt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Ow(){}function Vw(t,e){var n=He,r=In(),i=e(),o=!Un(r.memoizedState,i);if(o&&(r.memoizedState=i,qt=!0),r=r.queue,Ag(Lw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Va(9,Fw.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(j(349));ji&30||Mw(n,e,i)}return i}function Mw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fw(t,e,n,r){e.value=n,e.getSnapshot=r,Bw(e)&&$w(t)}function Lw(t,e,n){return n(function(){Bw(e)&&$w(t)})}function Bw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function $w(t){var e=mr(t,1);e!==null&&Bn(e,t,1,-1)}function My(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=eP.bind(null,He,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uw(){return In().memoizedState}function Tu(t,e,n,r){var i=Gn();He.flags|=t,i.memoizedState=Va(1|e,n,void 0,r===void 0?null:r)}function Gc(t,e,n,r){var i=In();r=r===void 0?null:r;var o=void 0;if(nt!==null){var s=nt.memoizedState;if(o=s.destroy,r!==null&&Tg(r,s.deps)){i.memoizedState=Va(e,n,o,r);return}}He.flags|=t,i.memoizedState=Va(1|e,n,o,r)}function Fy(t,e){return Tu(8390656,8,t,e)}function Ag(t,e){return Gc(2048,8,t,e)}function jw(t,e){return Gc(4,2,t,e)}function zw(t,e){return Gc(4,4,t,e)}function Hw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ww(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4,4,Hw.bind(null,e,t),n)}function Cg(){}function Gw(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qw(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kw(t,e,n){return ji&21?(Un(n,e)||(n=ZE(),He.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function JC(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Rf.transition;Rf.transition={};try{t(!1),e()}finally{Pe=n,Rf.transition=r}}function Qw(){return In().memoizedState}function ZC(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yw(t))Xw(e,n);else if(n=Rw(t,e,n,r),n!==null){var i=Lt();Bn(n,t,r,i),Jw(n,e,r)}}function eP(t,e,n){var r=Gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yw(t))Xw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,s)){var l=e.interleaved;l===null?(i.next=i,yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Rw(t,e,i,r),n!==null&&(i=Lt(),Bn(n,t,r,i),Jw(n,e,r))}}function Yw(t){var e=t.alternate;return t===He||e!==null&&e===He}function Xw(t,e){aa=ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}var tc={readContext:Tn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},tP={readContext:Tn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:Fy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,Hw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZC.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:My,useDebugValue:Cg,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=My(!1),e=t[0];return t=JC.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Gn();if($e){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ut===null)throw Error(j(349));ji&30||Mw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fy(Lw.bind(null,r,o,t),[t]),r.flags|=2048,Va(9,Fw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Gn(),e=ut.identifierPrefix;if($e){var n=dr,r=cr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nP={readContext:Tn,useCallback:Gw,useContext:Tn,useEffect:Ag,useImperativeHandle:Ww,useInsertionEffect:jw,useLayoutEffect:zw,useMemo:qw,useReducer:kf,useRef:Uw,useState:function(){return kf(Oa)},useDebugValue:Cg,useDeferredValue:function(t){var e=In();return Kw(e,nt.memoizedState,t)},useTransition:function(){var t=kf(Oa)[0],e=In().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Vw,useId:Qw,unstable_isNewReconciler:!1},rP={readContext:Tn,useCallback:Gw,useContext:Tn,useEffect:Ag,useImperativeHandle:Ww,useInsertionEffect:jw,useLayoutEffect:zw,useMemo:qw,useReducer:Nf,useRef:Uw,useState:function(){return Nf(Oa)},useDebugValue:Cg,useDeferredValue:function(t){var e=In();return nt===null?e.memoizedState=t:Kw(e,nt.memoizedState,t)},useTransition:function(){var t=Nf(Oa)[0],e=In().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Vw,useId:Qw,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qc={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Gr(t),o=fr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Hr(t,o,i),e!==null&&(Bn(e,t,i,r),wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Gr(t),o=fr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Hr(t,o,i),e!==null&&(Bn(e,t,i,r),wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Gr(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hr(t,i,r),e!==null&&(Bn(e,t,r,n),wu(e,t,r))}};function Ly(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(i,o):!0}function Zw(t,e,n){var r=!1,i=ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Tn(o):(i=Qt(e)?$i:Nt.current,r=e.contextTypes,o=(r=r!=null)?Bo(t,i):ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function By(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qc.enqueueReplaceState(e,e.state,null)}function Wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_g(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Tn(o):(o=Qt(e)?$i:Nt.current,i.context=Bo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qc.enqueueReplaceState(i,i.state,null),Ju(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=RA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iP=typeof WeakMap=="function"?WeakMap:Map;function eS(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rc||(rc=!0,np=r),Gh(t,e)},n}function tS(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gh(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $y(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yP.bind(null,t,e,n),e.then(t,t))}function Uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,Hr(n,e,1))),n.lanes|=1),t)}var oP=Sr.ReactCurrentOwner,qt=!1;function Mt(t,e,n,r){e.child=t===null?Dw(e,null,n,r):Uo(e,t.child,n,r)}function zy(t,e,n,r,i){n=n.render;var o=e.ref;return Oo(e,i),r=Ig(t,e,n,r,o,i),n=bg(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):($e&&n&&fg(e),e.flags|=1,Mt(t,e,r,i),e.child)}function Hy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nS(t,e,o,r,i)):(t=Cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(s,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=qr(o,r),t.ref=e.ref,t.return=e,e.child=t}function nS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ca(o,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return qh(t,e,n,r,i)}function rS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Po,en),en|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Po,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Po,en),en|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(Po,en),en|=r;return Mt(t,e,i,n),e.child}function iS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qh(t,e,n,r,i){var o=Qt(n)?$i:Nt.current;return o=Bo(e,o),Oo(e,i),n=Ig(t,e,n,r,o,i),r=bg(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):($e&&r&&fg(e),e.flags|=1,Mt(t,e,n,i),e.child)}function Wy(t,e,n,r,i){if(Qt(n)){var o=!0;qu(e)}else o=!1;if(Oo(e,i),e.stateNode===null)Iu(t,e),Zw(e,n,r),Wh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=Qt(n)?$i:Nt.current,c=Bo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&By(e,s,r,c),Dr=!1;var h=e.memoizedState;s.state=h,Ju(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Kt.current||Dr?(typeof d=="function"&&(Hh(e,n,d,r),l=e.memoizedState),(a=Dr||Ly(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rn(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Qt(n)?$i:Nt.current,l=Bo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&By(e,s,r,l),Dr=!1,h=e.memoizedState,s.state=h,Ju(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Kt.current||Dr?(typeof g=="function"&&(Hh(e,n,g,r),v=e.memoizedState),(c=Dr||Ly(e,n,c,r,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Kh(t,e,n,r,o,i)}function Kh(t,e,n,r,i,o){iS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Dy(e,n,!1),vr(t,e,o);r=e.stateNode,oP.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Uo(e,t.child,null,o),e.child=Uo(e,null,a,o)):Mt(t,e,a,o),e.memoizedState=r.state,i&&Dy(e,n,!0),e.child}function oS(t){var e=t.stateNode;e.pendingContext?xy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xy(t,e.context,!1),Eg(t,e.containerInfo)}function Gy(t,e,n,r,i){return $o(),pg(i),e.flags|=256,Mt(t,e,n,r),e.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(t){return{baseLanes:t,cachePool:null,transitions:null}}function sS(t,e,n){var r=e.pendingProps,i=je.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(je,i&1),t===null)return jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yc(s,r,0,null),t=Fi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yh(n),e.memoizedState=Qh,t):Pg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=qr(a,o):(o=Fi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Yh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Qh,r}return o=t.child,t=o.sibling,r=qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pg(t,e){return e=Yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&pg(r),Uo(e,t.child,null,n),t=Pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Of(Error(j(422))),eu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Yc({mode:"visible",children:r.children},i,0,null),o=Fi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Uo(e,t.child,null,s),e.child.memoizedState=Yh(s),e.memoizedState=Qh,o);if(!(e.mode&1))return eu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(j(419)),r=Of(o,r,void 0),eu(t,e,s,r)}if(a=(s&t.childLanes)!==0,qt||a){if(r=ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mr(t,i),Bn(r,t,i,-1))}return Og(),r=Of(Error(j(421))),eu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_P.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,tn=zr(i.nextSibling),sn=e,$e=!0,Nn=null,t!==null&&(vn[yn++]=cr,vn[yn++]=dr,vn[yn++]=Ui,cr=t.id,dr=t.overflow,Ui=e),e=Pg(e,r.children),e.flags|=4096,e)}function qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zh(t.return,e,n)}function Vf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Mt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,n,e);else if(t.tag===19)qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vf(e,!0,n,null,o);break;case"together":Vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aP(t,e,n){switch(e.tag){case 3:oS(e),$o();break;case 5:Nw(e);break;case 1:Qt(e.type)&&qu(e);break;case 4:Eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Yu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?sS(t,e,n):(Ne(je,je.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Ne(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,rS(t,e,n)}return vr(t,e,n)}var lS,Xh,uS,cS;lS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xh=function(){};uS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ki(Yn.current);var o=null;switch(n){case"input":i=_h(t,i),r=_h(t,r),o=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":i=Sh(t,i),r=Sh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wu)}Ih(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ea.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};cS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ls(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lP(t,e,n){var r=e.pendingProps;switch(hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Qt(e.type)&&Gu(),Pt(e),null;case 3:return r=e.stateNode,jo(),Le(Kt),Le(Nt),Sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(op(Nn),Nn=null))),Xh(t,e),Pt(e),null;case 5:wg(e);var i=ki(ka.current);if(n=e.type,t!==null&&e.stateNode!=null)uS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Pt(e),null}if(t=ki(Yn.current),Jl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qn]=e,r[Da]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)Me(Qs[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":ny(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":iy(r,o),Me("invalid",r)}Ih(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",""+a]):Ea.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":zl(r),ry(r,o,!0);break;case"textarea":zl(r),oy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qn]=e,t[Da]=r,lS(t,e,!1,!1),e.stateNode=t;e:{switch(s=bh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)Me(Qs[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":ny(t,r),i=_h(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Me("invalid",t);break;case"textarea":iy(t,r),i=Sh(t,r),Me("invalid",t);break;default:i=r}Ih(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?UE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wa(t,l):typeof l=="number"&&wa(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ea.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Me("scroll",t):l!=null&&Jp(t,o,l,s))}switch(n){case"input":zl(t),ry(t,r,!1);break;case"textarea":zl(t),oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Do(t,!!r.multiple,o,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)cS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ki(ka.current),ki(Yn.current),Jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(o=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Le(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&tn!==null&&e.mode&1&&!(e.flags&128))Pw(),$o(),e.flags|=98560,o=!1;else if(o=Jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[qn]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Nn!==null&&(op(Nn),Nn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?it===0&&(it=3):Og())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return jo(),Xh(t,e),t===null&&Pa(e.stateNode.containerInfo),Pt(e),null;case 10:return vg(e.type._context),Pt(e),null;case 17:return Qt(e.type)&&Gu(),Pt(e),null;case 19:if(Le(je),o=e.memoizedState,o===null)return Pt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ls(o,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zu(t),s!==null){for(e.flags|=128,Ls(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(je,je.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>Ho&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return Pt(e),null}else 2*Xe()-o.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=je.current,Ne(je,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Ng(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function uP(t,e){switch(hg(e),e.tag){case 1:return Qt(e.type)&&Gu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Le(Kt),Le(Nt),Sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wg(e),null;case 13:if(Le(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(je),null;case 4:return jo(),null;case 10:return vg(e.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var tu=!1,Rt=!1,cP=typeof WeakSet=="function"?WeakSet:Set,J=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Jh(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Ky=!1;function dP(t,e){if(Vh=ju,t=gw(),dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mh={focusedElem:t,selectionRange:n},ju=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,C=v.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:Rn(e.type,T),C);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){Ke(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return v=Ky,Ky=!1,v}function la(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jh(e,n,o)}i=i.next}while(i!==r)}}function Kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dS(t){var e=t.alternate;e!==null&&(t.alternate=null,dS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Da],delete e[Bh],delete e[qC],delete e[KC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fS(t){return t.tag===5||t.tag===3||t.tag===4}function Qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wu));else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tp(t,e,n),t=t.sibling;t!==null;)tp(t,e,n),t=t.sibling}var vt=null,kn=!1;function Pr(t,e,n){for(n=n.child;n!==null;)hS(t,e,n),n=n.sibling}function hS(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount($c,n)}catch{}switch(n.tag){case 5:Rt||Co(n,e);case 6:var r=vt,i=kn;vt=null,Pr(t,e,n),vt=r,kn=i,vt!==null&&(kn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(kn?(t=vt,n=n.stateNode,t.nodeType===8?Pf(t.parentNode,n):t.nodeType===1&&Pf(t,n),ba(t)):Pf(vt,n.stateNode));break;case 4:r=vt,i=kn,vt=n.stateNode.containerInfo,kn=!0,Pr(t,e,n),vt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Jh(n,e,s),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!Rt&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Pr(t,e,n),Rt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function Yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cP),e.forEach(function(r){var i=EP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,kn=!1;break e;case 3:vt=a.stateNode.containerInfo,kn=!0;break e;case 4:vt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(vt===null)throw Error(j(160));hS(o,s,i),vt=null,kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pS(e,t),e=e.sibling}function pS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Wn(t),r&4){try{la(3,t,t.return),Kc(3,t)}catch(T){Ke(t,t.return,T)}try{la(5,t,t.return)}catch(T){Ke(t,t.return,T)}}break;case 1:Dn(e,t),Wn(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Dn(e,t),Wn(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{wa(i,"")}catch(T){Ke(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ME(i,o),bh(a,s);var c=bh(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?UE(i,f):d==="dangerouslySetInnerHTML"?BE(i,f):d==="children"?wa(i,f):Jp(i,d,f,c)}switch(a){case"input":Eh(i,o);break;case"textarea":FE(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Do(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Do(i,!!o.multiple,o.defaultValue,!0):Do(i,!!o.multiple,o.multiple?[]:"",!1))}i[Da]=o}catch(T){Ke(t,t.return,T)}}break;case 6:if(Dn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){Ke(t,t.return,T)}}break;case 3:if(Dn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(e.containerInfo)}catch(T){Ke(t,t.return,T)}break;case 4:Dn(e,t),Wn(t);break;case 13:Dn(e,t),Wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rg=Xe())),r&4&&Yy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||d,Dn(e,t),Rt=c):Dn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(f=J=d;J!==null;){switch(h=J,g=h.child,h.tag){case 0:case 11:case 14:case 15:la(4,h,h.return);break;case 1:Co(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Ke(r,n,T)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){Jy(f);continue}}g!==null?(g.return=h,J=g):Jy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$E("display",s))}catch(T){Ke(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){Ke(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),Wn(t),r&4&&Yy(t);break;case 21:break;default:Dn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fS(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wa(i,""),r.flags&=-33);var o=Qy(t);tp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Qy(t);ep(t,a,s);break;default:throw Error(j(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fP(t,e,n){J=t,gS(t)}function gS(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||tu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=tu;var c=Rt;if(tu=s,(Rt=l)&&!c)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?Zy(i):l!==null?(l.return=s,J=l):Zy(i);for(;o!==null;)J=o,gS(o),o=o.sibling;J=i,tu=a,Rt=c}Xy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Xy(t)}}function Xy(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Kc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Rt||e.flags&512&&Zh(e)}catch(h){Ke(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Jy(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Zy(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kc(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var o=e.return;try{Zh(e)}catch(l){Ke(e,o,l)}break;case 5:var s=e.return;try{Zh(e)}catch(l){Ke(e,s,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var hP=Math.ceil,nc=Sr.ReactCurrentDispatcher,xg=Sr.ReactCurrentOwner,wn=Sr.ReactCurrentBatchConfig,Ie=0,ut=null,et=null,wt=0,en=0,Po=ci(0),it=0,Ma=null,zi=0,Qc=0,Dg=0,ua=null,Wt=null,Rg=0,Ho=1/0,ar=null,rc=!1,np=null,Wr=null,nu=!1,Mr=null,ic=0,ca=0,rp=null,bu=-1,Au=0;function Lt(){return Ie&6?Xe():bu!==-1?bu:bu=Xe()}function Gr(t){return t.mode&1?Ie&2&&wt!==0?wt&-wt:YC.transition!==null?(Au===0&&(Au=ZE()),Au):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function Bn(t,e,n,r){if(50<ca)throw ca=0,rp=null,Error(j(185));Za(t,n,r),(!(Ie&2)||t!==ut)&&(t===ut&&(!(Ie&2)&&(Qc|=n),it===4&&kr(t,wt)),Yt(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Ho=Xe()+500,Wc&&di()))}function Yt(t,e){var n=t.callbackNode;YA(t,e);var r=Uu(t,t===ut?wt:0);if(r===0)n!==null&&ly(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ly(n),e===1)t.tag===0?QC(e0.bind(null,t)):bw(e0.bind(null,t)),WC(function(){!(Ie&6)&&di()}),n=null;else{switch(ew(r)){case 1:n=rg;break;case 4:n=XE;break;case 16:n=$u;break;case 536870912:n=JE;break;default:n=$u}n=TS(n,mS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mS(t,e){if(bu=-1,Au=0,Ie&6)throw Error(j(327));var n=t.callbackNode;if(Vo()&&t.callbackNode!==n)return null;var r=Uu(t,t===ut?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oc(t,r);else{e=r;var i=Ie;Ie|=2;var o=yS();(ut!==t||wt!==e)&&(ar=null,Ho=Xe()+500,Mi(t,e));do try{mP();break}catch(a){vS(t,a)}while(!0);mg(),nc.current=o,Ie=i,et!==null?e=0:(ut=null,wt=0,e=it)}if(e!==0){if(e===2&&(i=Dh(t),i!==0&&(r=i,e=ip(t,i))),e===1)throw n=Ma,Mi(t,0),kr(t,r),Yt(t,Xe()),n;if(e===6)kr(t,r);else{if(i=t.current.alternate,!(r&30)&&!pP(i)&&(e=oc(t,r),e===2&&(o=Dh(t),o!==0&&(r=o,e=ip(t,o))),e===1))throw n=Ma,Mi(t,0),kr(t,r),Yt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Ii(t,Wt,ar);break;case 3:if(kr(t,r),(r&130023424)===r&&(e=Rg+500-Xe(),10<e)){if(Uu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lh(Ii.bind(null,t,Wt,ar),e);break}Ii(t,Wt,ar);break;case 4:if(kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ln(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hP(r/1960))-r,10<r){t.timeoutHandle=Lh(Ii.bind(null,t,Wt,ar),r);break}Ii(t,Wt,ar);break;case 5:Ii(t,Wt,ar);break;default:throw Error(j(329))}}}return Yt(t,Xe()),t.callbackNode===n?mS.bind(null,t):null}function ip(t,e){var n=ua;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=oc(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&op(e)),t}function op(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function pP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Un(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kr(t,e){for(e&=~Dg,e&=~Qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function e0(t){if(Ie&6)throw Error(j(327));Vo();var e=Uu(t,0);if(!(e&1))return Yt(t,Xe()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var r=Dh(t);r!==0&&(e=r,n=ip(t,r))}if(n===1)throw n=Ma,Mi(t,0),kr(t,e),Yt(t,Xe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Wt,ar),Yt(t,Xe()),null}function kg(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Ho=Xe()+500,Wc&&di())}}function Hi(t){Mr!==null&&Mr.tag===0&&!(Ie&6)&&Vo();var e=Ie;Ie|=1;var n=wn.transition,r=Pe;try{if(wn.transition=null,Pe=1,t)return t()}finally{Pe=r,wn.transition=n,Ie=e,!(Ie&6)&&di()}}function Ng(){en=Po.current,Le(Po)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HC(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gu();break;case 3:jo(),Le(Kt),Le(Nt),Sg();break;case 5:wg(r);break;case 4:jo();break;case 13:Le(je);break;case 19:Le(je);break;case 10:vg(r.type._context);break;case 22:case 23:Ng()}n=n.return}if(ut=t,et=t=qr(t.current,null),wt=en=e,it=0,Ma=null,Dg=Qc=zi=0,Wt=ua=null,Ri!==null){for(e=0;e<Ri.length;e++)if(n=Ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ri=null}return t}function vS(t,e){do{var n=et;try{if(mg(),Su.current=tc,ec){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ec=!1}if(ji=0,lt=nt=He=null,aa=!1,Na=0,xg.current=null,n===null||n.return===null){it=1,Ma=e,et=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Uy(s);if(g!==null){g.flags&=-257,jy(g,s,a,o,e),g.mode&1&&$y(o,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){$y(o,c,e),Og();break e}l=Error(j(426))}}else if($e&&a.mode&1){var C=Uy(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),jy(C,s,a,o,e),pg(zo(l,a));break e}}o=l=zo(l,a),it!==4&&(it=2),ua===null?ua=[o]:ua.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=eS(o,l,e);Oy(o,_);break e;case 1:a=l;var y=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wr===null||!Wr.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=tS(o,a,e);Oy(o,x);break e}}o=o.return}while(o!==null)}ES(n)}catch(O){e=O,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function yS(){var t=nc.current;return nc.current=tc,t===null?tc:t}function Og(){(it===0||it===3||it===2)&&(it=4),ut===null||!(zi&268435455)&&!(Qc&268435455)||kr(ut,wt)}function oc(t,e){var n=Ie;Ie|=2;var r=yS();(ut!==t||wt!==e)&&(ar=null,Mi(t,e));do try{gP();break}catch(i){vS(t,i)}while(!0);if(mg(),Ie=n,nc.current=r,et!==null)throw Error(j(261));return ut=null,wt=0,it}function gP(){for(;et!==null;)_S(et)}function mP(){for(;et!==null&&!UA();)_S(et)}function _S(t){var e=SS(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?ES(t):et=e,xg.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uP(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}else if(n=lP(n,e,en),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);it===0&&(it=5)}function Ii(t,e,n){var r=Pe,i=wn.transition;try{wn.transition=null,Pe=1,vP(t,e,n,r)}finally{wn.transition=i,Pe=r}return null}function vP(t,e,n,r){do Vo();while(Mr!==null);if(Ie&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(XA(t,o),t===ut&&(et=ut=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,TS($u,function(){return Vo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var s=Pe;Pe=1;var a=Ie;Ie|=4,xg.current=null,dP(t,n),pS(n,t),FC(Mh),ju=!!Vh,Mh=Vh=null,t.current=n,fP(n),jA(),Ie=a,Pe=s,wn.transition=o}else t.current=n;if(nu&&(nu=!1,Mr=t,ic=i),o=t.pendingLanes,o===0&&(Wr=null),WA(n.stateNode),Yt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rc)throw rc=!1,t=np,np=null,t;return ic&1&&t.tag!==0&&Vo(),o=t.pendingLanes,o&1?t===rp?ca++:(ca=0,rp=t):ca=0,di(),null}function Vo(){if(Mr!==null){var t=ew(ic),e=wn.transition,n=Pe;try{if(wn.transition=null,Pe=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,ic=0,Ie&6)throw Error(j(331));var i=Ie;for(Ie|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:la(8,d,o)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var h=d.sibling,g=d.return;if(dS(d),d===c){J=null;break}if(h!==null){h.return=g,J=h;break}J=g}}}var v=o.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var C=T.sibling;T.sibling=null,T=C}while(T!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:la(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,J=_;break e}J=o.return}}var y=t.current;for(J=y;J!==null;){s=J;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,J=S;else e:for(s=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kc(9,a)}}catch(O){Ke(a,a.return,O)}if(a===s){J=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}if(Ie=i,di(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot($c,t)}catch{}r=!0}return r}finally{Pe=n,wn.transition=e}}return!1}function t0(t,e,n){e=zo(n,e),e=eS(t,e,1),t=Hr(t,e,1),e=Lt(),t!==null&&(Za(t,1,e),Yt(t,e))}function Ke(t,e,n){if(t.tag===3)t0(t,t,n);else for(;e!==null;){if(e.tag===3){t0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=zo(n,t),t=tS(e,t,1),e=Hr(e,t,1),t=Lt(),e!==null&&(Za(e,1,t),Yt(e,t));break}}e=e.return}}function yP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(wt&n)===n&&(it===4||it===3&&(wt&130023424)===wt&&500>Xe()-Rg?Mi(t,0):Dg|=n),Yt(t,e)}function wS(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=Lt();t=mr(t,e),t!==null&&(Za(t,e,n),Yt(t,n))}function _P(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wS(t,n)}function EP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),wS(t,n)}var SS;SS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,aP(t,e,n);qt=!!(t.flags&131072)}else qt=!1,$e&&e.flags&1048576&&Aw(e,Qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var i=Bo(e,Nt.current);Oo(e,n),i=Ig(null,e,r,t,i,n);var o=bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(o=!0,qu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_g(e),i.updater=qc,e.stateNode=i,i._reactInternals=e,Wh(e,r,t,n),e=Kh(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&fg(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SP(r),t=Rn(r,t),i){case 0:e=qh(null,e,r,t,n);break e;case 1:e=Wy(null,e,r,t,n);break e;case 11:e=zy(null,e,r,t,n);break e;case 14:e=Hy(null,e,r,Rn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),qh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Wy(t,e,r,i,n);case 3:e:{if(oS(e),t===null)throw Error(j(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kw(t,e),Ju(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zo(Error(j(423)),e),e=Gy(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(j(424)),e),e=Gy(t,e,r,n,i);break e}else for(tn=zr(e.stateNode.containerInfo.firstChild),sn=e,$e=!0,Nn=null,n=Dw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===i){e=vr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return Nw(e),t===null&&jh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fh(r,i)?s=null:o!==null&&Fh(r,o)&&(e.flags|=32),iS(t,e),Mt(t,e,s,n),e.child;case 6:return t===null&&jh(e),null;case 13:return sS(t,e,n);case 4:return Eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),zy(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ne(Yu,r._currentValue),r._currentValue=s,o!==null)if(Un(o.value,s)){if(o.children===i.children&&!Kt.current){e=vr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),zh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=Tn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),Hy(t,e,r,i,n);case 15:return nS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Iu(t,e),e.tag=1,Qt(r)?(t=!0,qu(e)):t=!1,Oo(e,n),Zw(e,r,i),Wh(e,r,i,n),Kh(null,e,r,!0,t,n);case 19:return aS(t,e,n);case 22:return rS(t,e,n)}throw Error(j(156,e.tag))};function TS(t,e){return YE(t,e)}function wP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new wP(t,e,n,r)}function Vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SP(t){if(typeof t=="function")return Vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===tg)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case yo:return Fi(n.children,i,o,e);case Zp:s=8,i|=8;break;case gh:return t=_n(12,n,e,i|2),t.elementType=gh,t.lanes=o,t;case mh:return t=_n(13,n,e,i),t.elementType=mh,t.lanes=o,t;case vh:return t=_n(19,n,e,i),t.elementType=vh,t.lanes=o,t;case NE:return Yc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:s=10;break e;case kE:s=9;break e;case eg:s=11;break e;case tg:s=14;break e;case xr:s=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=_n(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Fi(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function Yc(t,e,n,r){return t=_n(22,t,r,e),t.elementType=NE,t.lanes=n,t.stateNode={isHidden:!1},t}function Mf(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Ff(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vf(0),this.expirationTimes=vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(t,e,n,r,i,o,s,a,l){return t=new TP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(o),t}function IP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return ni;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Qt(n))return Iw(t,n,e)}return e}function bS(t,e,n,r,i,o,s,a,l){return t=Mg(n,r,!0,t,i,o,s,a,l),t.context=IS(null),n=t.current,r=Lt(),i=Gr(n),o=fr(r,i),o.callback=e??null,Hr(n,o,i),t.current.lanes=i,Za(t,i,r),Yt(t,r),t}function Xc(t,e,n,r){var i=e.current,o=Lt(),s=Gr(i);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hr(i,e,s),t!==null&&(Bn(t,i,s,o),wu(t,i,s)),s}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fg(t,e){n0(t,e),(t=t.alternate)&&n0(t,e)}function bP(){return null}var AS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lg(t){this._internalRoot=t}Jc.prototype.render=Lg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Xc(t,e,null,null)};Jc.prototype.unmount=Lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){Xc(null,t,null,null)}),e[gr]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&ow(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r0(){}function AP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=sc(s);o.call(c)}}var s=bS(e,r,t,0,null,!1,!1,"",r0);return t._reactRootContainer=s,t[gr]=s.current,Pa(t.nodeType===8?t.parentNode:t),Hi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sc(l);a.call(c)}}var l=Mg(t,0,!1,null,null,!1,!1,"",r0);return t._reactRootContainer=l,t[gr]=l.current,Pa(t.nodeType===8?t.parentNode:t),Hi(function(){Xc(e,l,n,r)}),l}function ed(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=sc(s);a.call(l)}}Xc(e,s,t,i)}else s=AP(n,e,t,i,r);return sc(s)}tw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ks(e.pendingLanes);n!==0&&(ig(e,n|1),Yt(e,Xe()),!(Ie&6)&&(Ho=Xe()+500,di()))}break;case 13:Hi(function(){var r=mr(t,1);if(r!==null){var i=Lt();Bn(r,t,1,i)}}),Fg(t,1)}};og=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Lt();Bn(e,t,134217728,n)}Fg(t,134217728)}};nw=function(t){if(t.tag===13){var e=Gr(t),n=mr(t,e);if(n!==null){var r=Lt();Bn(n,t,e,r)}Fg(t,e)}};rw=function(){return Pe};iw=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Ch=function(t,e,n){switch(e){case"input":if(Eh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hc(r);if(!i)throw Error(j(90));VE(r),Eh(r,i)}}}break;case"textarea":FE(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};HE=kg;WE=Hi;var CP={usingClientEntryPoint:!1,Events:[tl,So,Hc,jE,zE,kg]},Bs={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PP={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KE(t),t===null?null:t.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{$c=ru.inject(PP),Qn=ru}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CP;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(j(200));return IP(t,e,null,n)};fn.createRoot=function(t,e){if(!Bg(t))throw Error(j(299));var n=!1,r="",i=AS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mg(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Lg(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=KE(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Hi(t)};fn.hydrate=function(t,e,n){if(!Zc(e))throw Error(j(200));return ed(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=AS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bS(e,null,t,1,n??null,i,!1,o,s),t[gr]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jc(e)};fn.render=function(t,e,n){if(!Zc(e))throw Error(j(200));return ed(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(j(40));return t._reactRootContainer?(Hi(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};fn.unstable_batchedUpdates=kg;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ed(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(t){console.error(t)}}CS(),CE.exports=fn;var td=CE.exports;const xP=Wp(td);var PS,i0=td;PS=i0.createRoot,i0.hydrateRoot;function sp(t,e){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sp(t,e)}function xS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sp(t,e)}function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ae.apply(null,arguments)}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function DP(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RP(t){var e=DP(t,"string");return Fa(e)=="symbol"?e:e+""}function kP(t,e,n){return(e=RP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o0(Object(n),!0).forEach(function(r){kP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var a0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Lf=function(){return Math.random().toString(36).substring(7).split("").join(".")},l0={INIT:"@@redux/INIT"+Lf(),REPLACE:"@@redux/REPLACE"+Lf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Lf()}};function NP(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function DS(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(DS)(t,e)}if(typeof t!="function")throw new Error(zt(2));var i=t,o=e,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(zt(3));return o}function f(T){if(typeof T!="function")throw new Error(zt(4));if(l)throw new Error(zt(5));var C=!0;return c(),a.push(T),function(){if(C){if(l)throw new Error(zt(6));C=!1,c();var y=a.indexOf(T);a.splice(y,1),s=null}}}function h(T){if(!NP(T))throw new Error(zt(7));if(typeof T.type>"u")throw new Error(zt(8));if(l)throw new Error(zt(9));try{l=!0,o=i(o,T)}finally{l=!1}for(var C=s=a,_=0;_<C.length;_++){var y=C[_];y()}return T}function g(T){if(typeof T!="function")throw new Error(zt(10));i=T,h({type:l0.REPLACE})}function v(){var T,C=f;return T={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(zt(11));function S(){y.next&&y.next(d())}S();var x=C(S);return{unsubscribe:x}}},T[a0]=function(){return this},T}return h({type:l0.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:g},r[a0]=v,r}function u0(t,e){return function(){return e(t.apply(this,arguments))}}function c0(t,e){if(typeof t=="function")return u0(t,e);if(typeof t!="object"||t===null)throw new Error(zt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=u0(i,e))}return n}function RS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function OP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(zt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=RS.apply(void 0,a)(i.dispatch),s0(s0({},i),{},{dispatch:o})}}}var kS=G.createContext(null);function VP(t){t()}var NS=VP,MP=function(e){return NS=e},FP=function(){return NS};function LP(){var t=FP(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var d0={notify:function(){},get:function(){return[]}};function OS(t,e){var n,r=d0;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=LP())}function c(){n&&(n(),n=void 0,r.clear(),r=d0)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return d}var VS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function BP(t){var e=t.store,n=t.context,r=t.children,i=N.useMemo(function(){var a=OS(e);return{store:e,subscription:a}},[e]),o=N.useMemo(function(){return e.getState()},[e]);VS(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||kS;return G.createElement(s.Provider,{value:i},r)}function ac(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var MS={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=typeof Symbol=="function"&&Symbol.for,$g=ft?Symbol.for("react.element"):60103,Ug=ft?Symbol.for("react.portal"):60106,nd=ft?Symbol.for("react.fragment"):60107,rd=ft?Symbol.for("react.strict_mode"):60108,id=ft?Symbol.for("react.profiler"):60114,od=ft?Symbol.for("react.provider"):60109,sd=ft?Symbol.for("react.context"):60110,jg=ft?Symbol.for("react.async_mode"):60111,ad=ft?Symbol.for("react.concurrent_mode"):60111,ld=ft?Symbol.for("react.forward_ref"):60112,ud=ft?Symbol.for("react.suspense"):60113,$P=ft?Symbol.for("react.suspense_list"):60120,cd=ft?Symbol.for("react.memo"):60115,dd=ft?Symbol.for("react.lazy"):60116,UP=ft?Symbol.for("react.block"):60121,jP=ft?Symbol.for("react.fundamental"):60117,zP=ft?Symbol.for("react.responder"):60118,HP=ft?Symbol.for("react.scope"):60119;function pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $g:switch(t=t.type,t){case jg:case ad:case nd:case id:case rd:case ud:return t;default:switch(t=t&&t.$$typeof,t){case sd:case ld:case dd:case cd:case od:return t;default:return e}}case Ug:return e}}}function FS(t){return pn(t)===ad}xe.AsyncMode=jg;xe.ConcurrentMode=ad;xe.ContextConsumer=sd;xe.ContextProvider=od;xe.Element=$g;xe.ForwardRef=ld;xe.Fragment=nd;xe.Lazy=dd;xe.Memo=cd;xe.Portal=Ug;xe.Profiler=id;xe.StrictMode=rd;xe.Suspense=ud;xe.isAsyncMode=function(t){return FS(t)||pn(t)===jg};xe.isConcurrentMode=FS;xe.isContextConsumer=function(t){return pn(t)===sd};xe.isContextProvider=function(t){return pn(t)===od};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$g};xe.isForwardRef=function(t){return pn(t)===ld};xe.isFragment=function(t){return pn(t)===nd};xe.isLazy=function(t){return pn(t)===dd};xe.isMemo=function(t){return pn(t)===cd};xe.isPortal=function(t){return pn(t)===Ug};xe.isProfiler=function(t){return pn(t)===id};xe.isStrictMode=function(t){return pn(t)===rd};xe.isSuspense=function(t){return pn(t)===ud};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nd||t===ad||t===id||t===rd||t===ud||t===$P||typeof t=="object"&&t!==null&&(t.$$typeof===dd||t.$$typeof===cd||t.$$typeof===od||t.$$typeof===sd||t.$$typeof===ld||t.$$typeof===jP||t.$$typeof===zP||t.$$typeof===HP||t.$$typeof===UP)};xe.typeOf=pn;MS.exports=xe;var WP=MS.exports,zg=WP,GP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hg={};Hg[zg.ForwardRef]=KP;Hg[zg.Memo]=LS;function f0(t){return zg.isMemo(t)?LS:Hg[t.$$typeof]||GP}var QP=Object.defineProperty,YP=Object.getOwnPropertyNames,h0=Object.getOwnPropertySymbols,XP=Object.getOwnPropertyDescriptor,JP=Object.getPrototypeOf,p0=Object.prototype;function BS(t,e,n){if(typeof e!="string"){if(p0){var r=JP(e);r&&r!==p0&&BS(t,r,n)}var i=YP(e);h0&&(i=i.concat(h0(e)));for(var o=f0(t),s=f0(e),a=0;a<i.length;++a){var l=i[a];if(!qP[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=XP(e,l);try{QP(t,l,c)}catch{}}}}return t}var ZP=BS;const g0=Wp(ZP);var $S={exports:{}},ke={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=60103,hd=60106,rl=60107,il=60108,ol=60114,sl=60109,al=60110,ll=60112,ul=60113,Wg=60120,cl=60115,dl=60116,US=60121,jS=60122,zS=60117,HS=60129,WS=60131;if(typeof Symbol=="function"&&Symbol.for){var gt=Symbol.for;fd=gt("react.element"),hd=gt("react.portal"),rl=gt("react.fragment"),il=gt("react.strict_mode"),ol=gt("react.profiler"),sl=gt("react.provider"),al=gt("react.context"),ll=gt("react.forward_ref"),ul=gt("react.suspense"),Wg=gt("react.suspense_list"),cl=gt("react.memo"),dl=gt("react.lazy"),US=gt("react.block"),jS=gt("react.server.block"),zS=gt("react.fundamental"),HS=gt("react.debug_trace_mode"),WS=gt("react.legacy_hidden")}function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fd:switch(t=t.type,t){case rl:case ol:case il:case ul:case Wg:return t;default:switch(t=t&&t.$$typeof,t){case al:case ll:case dl:case cl:case sl:return t;default:return e}}case hd:return e}}}var ex=sl,tx=fd,nx=ll,rx=rl,ix=dl,ox=cl,sx=hd,ax=ol,lx=il,ux=ul;ke.ContextConsumer=al;ke.ContextProvider=ex;ke.Element=tx;ke.ForwardRef=nx;ke.Fragment=rx;ke.Lazy=ix;ke.Memo=ox;ke.Portal=sx;ke.Profiler=ax;ke.StrictMode=lx;ke.Suspense=ux;ke.isAsyncMode=function(){return!1};ke.isConcurrentMode=function(){return!1};ke.isContextConsumer=function(t){return jn(t)===al};ke.isContextProvider=function(t){return jn(t)===sl};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd};ke.isForwardRef=function(t){return jn(t)===ll};ke.isFragment=function(t){return jn(t)===rl};ke.isLazy=function(t){return jn(t)===dl};ke.isMemo=function(t){return jn(t)===cl};ke.isPortal=function(t){return jn(t)===hd};ke.isProfiler=function(t){return jn(t)===ol};ke.isStrictMode=function(t){return jn(t)===il};ke.isSuspense=function(t){return jn(t)===ul};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rl||t===ol||t===HS||t===il||t===ul||t===Wg||t===WS||typeof t=="object"&&t!==null&&(t.$$typeof===dl||t.$$typeof===cl||t.$$typeof===sl||t.$$typeof===al||t.$$typeof===ll||t.$$typeof===zS||t.$$typeof===US||t[0]===jS)};ke.typeOf=jn;$S.exports=ke;var cx=$S.exports,dx=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],fx=["reactReduxForwardedRef"],hx=[],px=[null,null];function gx(t,e){var n=t[1];return[e.payload,n+1]}function m0(t,e,n){VS(function(){return t.apply(void 0,e)},n)}function mx(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function vx(t,e,n,r,i,o,s,a,l,c){if(t){var d=!1,f=null,h=function(){if(!d){var T=e.getState(),C,_;try{C=r(T,i.current)}catch(y){_=y,f=y}_||(f=null),C===o.current?s.current||l():(o.current=C,a.current=C,s.current=!0,c({type:"STORE_UPDATED",payload:{error:_}}))}};n.onStateChange=h,n.trySubscribe(),h();var g=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return g}}var yx=function(){return[null,0]};function _x(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(S){return"ConnectAdvanced("+S+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,c=n.shouldHandleStateChanges,d=c===void 0?!0:c,f=n.storeKey,h=f===void 0?"store":f;n.withRef;var g=n.forwardRef,v=g===void 0?!1:g,T=n.context,C=T===void 0?kS:T,_=ac(n,dx),y=C;return function(x){var O=x.displayName||x.name||"Component",M=i(O),b=ae({},_,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:h,displayName:M,wrappedComponentName:O,WrappedComponent:x}),E=_.pure;function I(ne){return t(ne.dispatch,b)}var P=E?N.useMemo:function(ne){return ne()};function D(ne){var he=N.useMemo(function(){var F=ne.reactReduxForwardedRef,B=ac(ne,fx);return[ne.context,F,B]},[ne]),pe=he[0],ve=he[1],z=he[2],X=N.useMemo(function(){return pe&&pe.Consumer&&cx.isContextConsumer(G.createElement(pe.Consumer,null))?pe:y},[pe,y]),K=N.useContext(X),oe=!!ne.store&&!!ne.store.getState&&!!ne.store.dispatch;K&&K.store;var le=oe?ne.store:K.store,_e=N.useMemo(function(){return I(le)},[le]),Qe=N.useMemo(function(){if(!d)return px;var F=OS(le,oe?null:K.subscription),B=F.notifyNestedSubs.bind(F);return[F,B]},[le,oe,K]),Oe=Qe[0],Be=Qe[1],ht=N.useMemo(function(){return oe?K:ae({},K,{subscription:Oe})},[oe,K,Oe]),zn=N.useReducer(gx,hx,yx),Tr=zn[0],Jt=Tr[0],An=zn[1];if(Jt&&Jt.error)throw Jt.error;var Ir=N.useRef(),Hn=N.useRef(z),Cn=N.useRef(),gi=N.useRef(!1),mi=P(function(){return Cn.current&&z===Hn.current?Cn.current:_e(le.getState(),z)},[le,Jt,z]);m0(mx,[Hn,Ir,gi,z,mi,Cn,Be]),m0(vx,[d,le,Oe,_e,Hn,Ir,gi,Cn,Be,An],[le,Oe,_e]);var ro=N.useMemo(function(){return G.createElement(x,ae({},mi,{ref:ve}))},[ve,x,mi]),k=N.useMemo(function(){return d?G.createElement(X.Provider,{value:ht},ro):ro},[X,ro,ht]);return k}var R=E?G.memo(D):D;if(R.WrappedComponent=x,R.displayName=D.displayName=M,v){var A=G.forwardRef(function(he,pe){return G.createElement(R,ae({},he,{reactReduxForwardedRef:pe}))});return A.displayName=M,A.WrappedComponent=x,g0(A,x)}return g0(R,x)}}function v0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Bf(t,e){if(v0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!v0(t[n[i]],e[n[i]]))return!1;return!0}function Ex(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function Gg(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function y0(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function GS(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=y0(t);var c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=y0(c),c=o(a,l)),c},o}}function wx(t){return typeof t=="function"?GS(t):void 0}function Sx(t){return t?void 0:Gg(function(e){return{dispatch:e}})}function Tx(t){return t&&typeof t=="object"?Gg(function(e){return Ex(t,e)}):void 0}const Ix=[wx,Sx,Tx];function bx(t){return typeof t=="function"?GS(t):void 0}function Ax(t){return t?void 0:Gg(function(){return{}})}const Cx=[bx,Ax];function Px(t,e,n){return ae({},n,t,e)}function xx(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(c,d,f){var h=t(c,d,f);return s?(!i||!o(h,a))&&(a=h):(s=!0,a=h),a}}}function Dx(t){return typeof t=="function"?xx(t):void 0}function Rx(t){return t?void 0:function(){return Px}}const kx=[Dx,Rx];var Nx=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ox(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function Vx(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,c,d,f,h,g;function v(S,x){return c=S,d=x,f=t(c,d),h=e(r,d),g=n(f,h,d),l=!0,g}function T(){return f=t(c,d),e.dependsOnOwnProps&&(h=e(r,d)),g=n(f,h,d),g}function C(){return t.dependsOnOwnProps&&(f=t(c,d)),e.dependsOnOwnProps&&(h=e(r,d)),g=n(f,h,d),g}function _(){var S=t(c,d),x=!a(S,f);return f=S,x&&(g=n(f,h,d)),g}function y(S,x){var O=!s(x,d),M=!o(S,c,x,d);return c=S,d=x,O&&M?T():O?C():M?_():g}return function(x,O){return l?y(x,O):v(x,O)}}function Mx(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=ac(e,Nx),s=n(t,o),a=r(t,o),l=i(t,o),c=o.pure?Vx:Ox;return c(s,a,l,t,o)}var Fx=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function $f(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Lx(t,e){return t===e}function Bx(t){var e={},n=e.connectHOC,r=n===void 0?_x:n,i=e.mapStateToPropsFactories,o=i===void 0?Cx:i,s=e.mapDispatchToPropsFactories,a=s===void 0?Ix:s,l=e.mergePropsFactories,c=l===void 0?kx:l,d=e.selectorFactory,f=d===void 0?Mx:d;return function(g,v,T,C){C===void 0&&(C={});var _=C,y=_.pure,S=y===void 0?!0:y,x=_.areStatesEqual,O=x===void 0?Lx:x,M=_.areOwnPropsEqual,b=M===void 0?Bf:M,E=_.areStatePropsEqual,I=E===void 0?Bf:E,P=_.areMergedPropsEqual,D=P===void 0?Bf:P,R=ac(_,Fx),A=$f(g,o,"mapStateToProps"),ne=$f(v,a,"mapDispatchToProps"),he=$f(T,c,"mergeProps");return r(f,ae({methodName:"connect",getDisplayName:function(ve){return"Connect("+ve+")"},shouldHandleStateChanges:!!g,initMapStateToProps:A,initMapDispatchToProps:ne,initMergeProps:he,pure:S,areStatesEqual:O,areOwnPropsEqual:b,areStatePropsEqual:I,areMergedPropsEqual:D},R))}}const qS=Bx();MP(td.unstable_batchedUpdates);function $x(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function KS(t,e){var n=N.useState(function(){return{inputs:e,result:t()}})[0],r=N.useRef(!0),i=N.useRef(n),o=r.current||!!(e&&i.current.inputs&&$x(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return N.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function Ux(t,e){return KS(function(){return t},e)}var Te=KS,re=Ux,jx="Invariant failed";function zx(t,e){throw new Error(jx)}var Mn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},qg=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},_0=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},Hx=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Uf={top:0,right:0,bottom:0,left:0},Kg=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Uf:r,o=e.border,s=o===void 0?Uf:o,a=e.padding,l=a===void 0?Uf:a,c=Mn(qg(n,i)),d=Mn(_0(n,s)),f=Mn(_0(d,l));return{marginBox:c,borderBox:Mn(n),paddingBox:d,contentBox:f,margin:i,border:s,padding:l}},gn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&zx(),i},Wx=function(){return{x:window.pageXOffset,y:window.pageYOffset}},lc=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=Hx(r,n);return Kg({borderBox:a,border:i,margin:o,padding:s})},uc=function(e,n){return n===void 0&&(n=Wx()),lc(e,n)},QS=function(e,n){var r={top:gn(n.marginTop),right:gn(n.marginRight),bottom:gn(n.marginBottom),left:gn(n.marginLeft)},i={top:gn(n.paddingTop),right:gn(n.paddingRight),bottom:gn(n.paddingBottom),left:gn(n.paddingLeft)},o={top:gn(n.borderTopWidth),right:gn(n.borderRightWidth),bottom:gn(n.borderBottomWidth),left:gn(n.borderLeftWidth)};return Kg({borderBox:e,margin:r,padding:i,border:o})},YS=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return QS(n,r)},E0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Gx(t,e){return!!(t===e||E0(t)&&E0(e))}function qx(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Gx(t[n],e[n]))return!1;return!0}function ct(t,e){e===void 0&&(e=qx);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var La=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function XS(t,e){}XS.bind(null,"warn");XS.bind(null,"error");function Kr(){}function Kx(t,e){return ae({},t,{},e)}function En(t,e,n){var r=e.map(function(i){var o=Kx(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var Qx="Invariant failed";function cc(t){this.message=t}cc.prototype.toString=function(){return this.message};function W(t,e){throw new cc(Qx)}var Yx=function(t){xS(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Kr,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=a.error;c instanceof cc&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=En(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof cc){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(G.Component),Xx=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,dc=function(e){return e+1},Jx=function(e){return`
  You have lifted an item in position `+dc(e.source.index)+`
`},JS=function(e,n){var r=e.droppableId===n.droppableId,i=dc(e.index),o=dc(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},ZS=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Zx=function(e){var n=e.destination;if(n)return JS(e.source,n);var r=e.combine;return r?ZS(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},w0=function(e){return`
  The item has returned to its starting position
  of `+dc(e.index)+`
`},eD=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+w0(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+JS(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+ZS(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+w0(e.source)+`
  `},Pu={dragHandleUsageInstructions:Xx,onDragStart:Jx,onDragUpdate:Zx,onDragEnd:eD},dt={x:0,y:0},Et=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},nn=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Qr=function(e,n){return e.x===n.x&&e.y===n.y},ls=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Wi=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Ba=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},S0=function(e,n){return Math.min.apply(Math,n.map(function(r){return Ba(e,r)}))},e1=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},tD=function(t,e){var n=Mn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},fl=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},T0=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},nD={top:0,right:0,bottom:0,left:0},rD=function(e,n){return n?fl(e,n.scroll.diff.displacement):e},iD=function(e,n,r){if(r&&r.increasedBy){var i;return ae({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},oD=function(e,n){return n&&n.shouldClipSubject?tD(n.pageMarginBox,e):Mn(e)},Wo=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=rD(e.marginBox,i),s=iD(o,r,n),a=oD(s,i);return{page:e,withPlaceholder:n,active:a}},Qg=function(t,e){t.frame||W();var n=t.frame,r=nn(e,n.scroll.initial),i=ls(r),o=ae({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Wo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=ae({},t,{frame:o,subject:s});return a};function fc(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Yg(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function fi(t,e){if(t.find)return t.find(e);var n=Yg(t,e);if(n!==-1)return t[n]}function t1(t){return Array.prototype.slice.call(t)}var n1=ct(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),r1=ct(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),pd=ct(function(t){return fc(t)}),sD=ct(function(t){return fc(t)}),us=ct(function(t,e){var n=sD(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Xg(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function gd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var md=ct(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),aD=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=Xg(o);if(!s)return null;function a(T){var C={type:"COMBINE",combine:{draggableId:T,droppableId:r.descriptor.id}};return ae({},o,{at:C})}var l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;var d=md(n,i);if(!c){if(!d.length)return null;var f=d[d.length-1];return a(f.descriptor.id)}var h=Yg(d,function(T){return T.descriptor.id===c});h===-1&&W();var g=h-1;if(g<0)return null;var v=d[g];return a(v.descriptor.id)},cs=function(t,e){return t.descriptor.droppableId===e.descriptor.id},i1={point:dt,value:0},$a={invisible:{},visible:{},all:[]},lD={displaced:$a,displacedBy:i1,at:null},Sn=function(t,e){return function(n){return t<=n&&n<=e}},o1=function(t){var e=Sn(t.top,t.bottom),n=Sn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right,d=l&&c;if(d)return!0;var f=l&&s||c&&o;return f}},uD=function(t){var e=Sn(t.top,t.bottom),n=Sn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Jg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},s1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},cD=function(t){return function(e){var n=Sn(e.top,e.bottom),r=Sn(e.left,e.right);return function(i){return t===Jg?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},dD=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:dt;return fl(e,r)},fD=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},hD=function(e,n,r){return r(n)(e)},Zg=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?dD(n,r):n;return fD(a,r,s)&&hD(a,i,s)},pD=function(e){return Zg(ae({},e,{isVisibleThroughFrameFn:o1}))},a1=function(e){return Zg(ae({},e,{isVisibleThroughFrameFn:uD}))},gD=function(e){return Zg(ae({},e,{isVisibleThroughFrameFn:cD(e.destination.axis)}))},mD=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function vD(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Mn(qg(n,r))}function Ua(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,c){var d=vD(c,r),f=c.descriptor.id;l.all.push(f);var h=pD({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[c.descriptor.id]=!0,l;var g=mD(f,s,o),v={draggableId:f,shouldAnimate:g};return l.visible[f]=v,l},{all:[],visible:{},invisible:{}})}function yD(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function I0(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=yD(e,{inHomeList:n});return{displaced:$a,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function hc(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,c=cs(e,r);if(a==null)return I0({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=fi(n,function(T){return T.descriptor.index===a});if(!d)return I0({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var f=md(e,n),h=n.indexOf(d),g=f.slice(h),v=Ua({afterDragging:g,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function ri(t,e){return!!e.effected[t]}var _D=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,c=ri(s,o);return c?e?l:l-1:e?l+1:l},ED=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return s<a||s>c?null:s},wD=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,c=t.afterCritical,d=a.at;if(d||W(),d.type==="REORDER"){var f=ED({isMovingForward:e,isInHomeList:n,location:d.destination,insideDestination:s});return f==null?null:hc({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}var h=_D({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:d.combine,afterCritical:c});return h==null?null:hc({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},SD=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return ri(r,n)?o?dt:ls(i.point):o?i.point:dt},TD=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=gd(n);i||W();var o=i.draggableId,s=r[o].page.borderBox.center,a=SD({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Et(s,a)},l1=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},ID=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},em=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},b0=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Wi(n.line,r.marginBox[n.end]+l1(n,i),em(n,r.marginBox,i))},A0=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Wi(n.line,r.marginBox[n.start]-ID(n,i),em(n,r.marginBox,i))},bD=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Wi(n.line,r.contentBox[n.start]+l1(n,i),em(n,r.contentBox,i))},AD=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=us(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return bD({axis:l,moveInto:i.page,isMoving:a});var c=e.displaced,d=e.displacedBy,f=c.all[0];if(f){var h=r[f];if(ri(f,o))return A0({axis:l,moveRelativeTo:h.page,isMoving:a});var g=lc(h.page,d.point);return A0({axis:l,moveRelativeTo:g,isMoving:a})}var v=s[s.length-1];if(v.descriptor.id===n.descriptor.id)return a.borderBox.center;if(ri(v.descriptor.id,o)){var T=lc(v.page,ls(o.displacedBy.point));return b0({axis:l,moveRelativeTo:T,isMoving:a})}return b0({axis:l,moveRelativeTo:v.page,isMoving:a})},ap=function(t,e){var n=t.frame;return n?Et(e,n.scroll.diff.displacement):e},CD=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?AD({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):TD({impact:n,draggables:o,afterCritical:s})},vd=function(t){var e=CD(t),n=t.droppable,r=n?ap(n,e):e;return r},u1=function(t,e){var n=nn(e,t.scroll.initial),r=ls(n),i=Mn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function C0(t,e){return t.map(function(n){return e[n]})}function PD(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var xD=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=u1(n,Et(n.scroll.current,o)),a=r.frame?Qg(r,Et(r.frame.scroll.current,o)):r,l=e.displaced,c=Ua({afterDragging:C0(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Ua({afterDragging:C0(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),f={},h={},g=[l,c,d];l.all.forEach(function(T){var C=PD(T,g);if(C){h[T]=C;return}f[T]=!0});var v=ae({},e,{displaced:{all:l.all,invisible:f,visible:h}});return v},DD=function(t,e){return Et(t.scroll.diff.displacement,e)},tm=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=DD(r,e),o=nn(i,n.page.borderBox.center);return Et(n.client.borderBox.center,o)},c1=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=nn(r,e.page.borderBox.center),c=fl(e.page.borderBox,l),d={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return a?gD(d):a1(d)},RD=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,c=t.afterCritical;if(!r.isEnabled)return null;var d=us(r.descriptor.id,i),f=cs(n,r),h=aD({isMovingForward:e,draggable:n,destination:r,insideDestination:d,previousImpact:o})||wD({isMovingForward:e,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:c});if(!h)return null;var g=vd({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c}),v=c1({draggable:n,destination:r,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var T=tm({pageBorderBoxCenter:g,draggable:n,viewport:s});return{clientSelection:T,impact:h,scrollJumpRequest:null}}var C=nn(g,a),_=xD({impact:h,viewport:s,destination:r,draggables:i,maxScrollChange:C});return{clientSelection:l,impact:_,scrollJumpRequest:C}},Vt=function(e){var n=e.subject.active;return n||W(),n},kD=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=Sn(s[a.start],s[a.end]),c=pd(i).filter(function(f){return f!==r}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return o1(o.frame)(Vt(f))}).filter(function(f){var h=Vt(f);return e?s[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(f){var h=Vt(f),g=Sn(h[a.start],h[a.end]);return l(h[a.start])||l(h[a.end])||g(s[a.start])||g(s[a.end])}).sort(function(f,h){var g=Vt(f)[a.crossAxisStart],v=Vt(h)[a.crossAxisStart];return e?g-v:v-g}).filter(function(f,h,g){return Vt(f)[a.crossAxisStart]===Vt(g[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var d=c.filter(function(f){var h=Sn(Vt(f)[a.start],Vt(f)[a.end]);return h(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return Vt(f)[a.start]-Vt(h)[a.start]})[0]:c.sort(function(f,h){var g=S0(n,T0(Vt(f))),v=S0(n,T0(Vt(h)));return g!==v?g-v:Vt(f)[a.start]-Vt(h)[a.start]})[0]},P0=function(e,n){var r=e.page.borderBox.center;return ri(e.descriptor.id,n)?nn(r,n.displacedBy.point):r},ND=function(e,n){var r=e.page.borderBox;return ri(e.descriptor.id,n)?fl(r,ls(n.displacedBy.point)):r},OD=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return a1({target:ND(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var c=Ba(e,ap(r,P0(a,o))),d=Ba(e,ap(r,P0(l,o)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index});return s[0]||null},hl=ct(function(e,n){var r=n[e.line];return{value:r,point:Wi(e.line,r)}}),VD=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Wi(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=us(e.descriptor.id,r),a=s.reduce(function(d,f){return d+f.client.marginBox[i.size]},0),l=a+n[i.line],c=l-o;return c<=0?null:Wi(i.line,c)},d1=function(e,n){return ae({},e,{scroll:ae({},e.scroll,{max:n})})},f1=function(e,n,r){var i=e.frame;cs(n,e)&&W(),e.subject.withPlaceholder&&W();var o=hl(e.axis,n.displaceBy).point,s=VD(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Wo({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return ae({},e,{subject:l})}var c=s?Et(i.scroll.max,s):i.scroll.max,d=d1(i,c),f=Wo({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:d});return ae({},e,{subject:f,frame:d})},MD=function(e){var n=e.subject.withPlaceholder;n||W();var r=e.frame;if(!r){var i=Wo({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return ae({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||W();var s=d1(r,o),a=Wo({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return ae({},e,{subject:a,frame:s})},FD=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:$a,displacedBy:i1,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=vd({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:l}),f=cs(i,s)?s:f1(s,i,o),h=c1({draggable:i,destination:f,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?c:null}var g=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],v=function(){var C=n.descriptor.index;return n.descriptor.id===i.descriptor.id||g?C:C+1}(),T=hl(s.axis,i.displaceBy);return hc({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:T,last:$a,index:v})},LD=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,c=kD({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var d=us(c.descriptor.id,o),f=OD({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:d,afterCritical:l}),h=FD({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:d,viewport:a,afterCritical:l});if(!h)return null;var g=vd({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l}),v=tm({pageBorderBoxCenter:g,draggable:r,viewport:a});return{clientSelection:v,impact:h,scrollJumpRequest:null}},an=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},BD=function(e,n){var r=an(e);return r?n[r]:null},$D=function(t){var e=t.state,n=t.type,r=BD(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,h=e.dimensions,g=h.draggables,v=h.droppables;return l?RD({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:g,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):LD({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:g,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function bi(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function h1(t){var e=Sn(t.top,t.bottom),n=Sn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function UD(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function jD(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Wi(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ba(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function zD(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=pd(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!UD(e,s))return!1;if(h1(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],c=e[a.crossAxisStart],d=e[a.crossAxisEnd],f=Sn(s[a.crossAxisStart],s[a.crossAxisEnd]),h=f(c),g=f(d);return!h&&!g?!0:h?c<l:d>l});return i.length?i.length===1?i[0].descriptor.id:jD({pageBorderBox:e,draggable:n,candidates:i}):null}var p1=function(e,n){return Mn(fl(e,n))},HD=function(t,e){var n=t.frame;return n?p1(e,n.scroll.diff.value):e};function g1(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function WD(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var GD=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,c=hl(r.axis,n.displaceBy),d=c.value,f=e[l.start],h=e[l.end],g=md(n,i),v=fi(g,function(C){var _=C.descriptor.id,y=C.page.borderBox.center[l.line],S=ri(_,a),x=g1({displaced:o,id:_});return S?x?h<=y:f<y-d:x?h<=y+d:f<y}),T=WD({draggable:n,closest:v,inHomeList:cs(n,r)});return hc({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:T})},qD=4,KD=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=hl(i.axis,e.displaceBy),c=l.value,d=n[a.start],f=n[a.end],h=md(e,o),g=fi(h,function(T){var C=T.descriptor.id,_=T.page.borderBox,y=_[a.size],S=y/qD,x=ri(C,s),O=g1({displaced:r.displaced,id:C});return x?O?f>_[a.start]+S&&f<_[a.end]-S:d>_[a.start]-c+S&&d<_[a.end]-c-S:O?f>_[a.start]+c+S&&f<_[a.end]+c-S:d>_[a.start]+S&&d<_[a.end]-S});if(!g)return null;var v={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:i.descriptor.id}}};return v},m1=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=p1(n.page.borderBox,e),c=zD({pageBorderBox:l,draggable:n,droppables:i});if(!c)return lD;var d=i[c],f=us(d.descriptor.id,r),h=HD(d,l);return KD({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:d,insideDestination:f,afterCritical:a})||GD({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:d,insideDestination:f,last:o.displaced,viewport:s,afterCritical:a})},nm=function(t,e){var n;return ae({},t,(n={},n[e.descriptor.id]=e,n))},QD=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=an(n),s=an(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=MD(a);return nm(i,l)},YD=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=QD({previousImpact:i,impact:o,droppables:r}),a=an(o);if(!a)return s;var l=r[a];if(cs(e,l)||l.subject.withPlaceholder)return s;var c=f1(l,e,n);return nm(s,c)},da=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,c=n||e.current.client.selection,d=nn(c,e.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:Et(e.initial.client.borderBoxCenter,d)},h={selection:Et(f.selection,a.scroll.current),borderBoxCenter:Et(f.borderBoxCenter,a.scroll.current),offset:Et(f.offset,a.scroll.diff.value)},g={client:f,page:h};if(e.phase==="COLLECTING")return ae({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:g});var v=l.draggables[e.critical.draggable.id],T=o||m1({pageOffset:h.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),C=YD({draggable:v,impact:T,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),_=ae({},e,{current:g,dimensions:{draggables:l.draggables,droppables:C},impact:T,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return _};function XD(t,e){return t.map(function(n){return e[n]})}var v1=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=XD(s.all,r),l=Ua({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return ae({},e,{displaced:l})},y1=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=vd({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return tm({pageBorderBoxCenter:a,draggable:n,viewport:o})},_1=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&W();var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,c=a[e.critical.draggable.id],d=an(i);d||W();var f=l[d],h=v1({impact:i,viewport:o,destination:f,draggables:a}),g=y1({impact:h,draggable:c,droppable:f,draggables:a,viewport:o,afterCritical:e.afterCritical});return da({impact:h,clientSelection:g,state:e,dimensions:s,viewport:o})},JD=function(t){return{index:t.index,droppableId:t.droppableId}},E1=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=hl(n.axis,e.displaceBy),s=us(n.descriptor.id,r),a=s.indexOf(e);a===-1&&W();var l=s.slice(a+1),c=l.reduce(function(g,v){return g[v.descriptor.id]=!0,g},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},f=Ua({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:o,at:{type:"REORDER",destination:JD(e.descriptor)}};return{impact:h,afterCritical:d}},ZD=function(t,e){return{draggables:t.draggables,droppables:nm(t.droppables,e)}},eR=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=lc(e.client,n),o=uc(i,r),s=ae({},e,{placeholder:ae({},e.placeholder,{client:i}),client:i,page:o});return s},tR=function(t){var e=t.frame;return e||W(),e},nR=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=tR(a),c=l.scroll.diff.value,d=Et(i,c),f=eR({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return f})},rR=function(t){var e=t.state,n=t.published,r=n.modified.map(function(S){var x=e.dimensions.droppables[S.droppableId],O=Qg(x,S.scroll);return O}),i=ae({},e.dimensions.droppables,{},n1(r)),o=r1(nR({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=ae({},e.dimensions.draggables,{},o);n.removals.forEach(function(S){delete s[S]});var a={droppables:i,draggables:s},l=an(e.impact),c=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],f=a.droppables[e.critical.droppable.id],h=E1({draggable:d,home:f,draggables:s,viewport:e.viewport}),g=h.impact,v=h.afterCritical,T=c&&c.isCombineEnabled?e.impact:g,C=m1({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:T,viewport:e.viewport,afterCritical:v}),_=ae({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:C,onLiftImpact:g,dimensions:a,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return _;var y=ae({phase:"DROP_PENDING"},_,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return y},lp=function(e){return e.movementMode==="SNAP"},jf=function(e,n,r){var i=ZD(e.dimensions,n);return!lp(e)||r?da({state:e,dimensions:i}):_1({state:e,dimensions:i})};function zf(t){return t.isDragging&&t.movementMode==="SNAP"?ae({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var x0={phase:"IDLE",completed:null,shouldFlush:!1},iR=function(t,e){if(t===void 0&&(t=x0),e.type==="FLUSH")return ae({},x0,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&W();var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:dt},f={client:d,page:{selection:Et(d.selection,o.scroll.initial),borderBoxCenter:Et(d.selection,o.scroll.initial),offset:Et(d.selection,o.scroll.diff.value)}},h=pd(s.droppables).every(function(An){return!An.isFixedOnPage}),g=E1({draggable:l,home:c,draggables:s.draggables,viewport:o}),v=g.impact,T=g.afterCritical,C={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:f,current:f,isWindowScrollAllowed:h,impact:v,afterCritical:T,onLiftImpact:v,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return C}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&W();var _=ae({phase:"COLLECTING"},t,{phase:"COLLECTING"});return _}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||W(),rR({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;bi(t)||W();var y=e.payload.client;return Qr(y,t.current.client.selection)?t:da({state:t,clientSelection:y,impact:lp(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return zf(t);bi(t)||W();var S=e.payload,x=S.id,O=S.newScroll,M=t.dimensions.droppables[x];if(!M)return t;var b=Qg(M,O);return jf(t,b,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;bi(t)||W();var E=e.payload,I=E.id,P=E.isEnabled,D=t.dimensions.droppables[I];D||W(),D.isEnabled===P&&W();var R=ae({},D,{isEnabled:P});return jf(t,R,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;bi(t)||W();var A=e.payload,ne=A.id,he=A.isCombineEnabled,pe=t.dimensions.droppables[ne];pe||W(),pe.isCombineEnabled===he&&W();var ve=ae({},pe,{isCombineEnabled:he});return jf(t,ve,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;bi(t)||W(),t.isWindowScrollAllowed||W();var z=e.payload.newScroll;if(Qr(t.viewport.scroll.current,z))return zf(t);var X=u1(t.viewport,z);return lp(t)?_1({state:t,viewport:X}):da({state:t,viewport:X})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!bi(t))return t;var K=e.payload.maxScroll;if(Qr(K,t.viewport.scroll.max))return t;var oe=ae({},t.viewport,{scroll:ae({},t.viewport.scroll,{max:K})});return ae({phase:"DRAGGING"},t,{viewport:oe})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&W();var le=$D({state:t,type:e.type});return le?da({state:t,impact:le.impact,clientSelection:le.clientSelection,scrollJumpRequest:le.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var _e=e.payload.reason;t.phase!=="COLLECTING"&&W();var Qe=ae({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:_e});return Qe}if(e.type==="DROP_ANIMATE"){var Oe=e.payload,Be=Oe.completed,ht=Oe.dropDuration,zn=Oe.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||W();var Tr={phase:"DROP_ANIMATING",completed:Be,dropDuration:ht,newHomeClientOffset:zn,dimensions:t.dimensions};return Tr}if(e.type==="DROP_COMPLETE"){var Jt=e.payload.completed;return{phase:"IDLE",completed:Jt,shouldFlush:!1}}return t},oR=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},sR=function(e){return{type:"LIFT",payload:e}},aR=function(e){return{type:"INITIAL_PUBLISH",payload:e}},lR=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},uR=function(){return{type:"COLLECTION_STARTING",payload:null}},cR=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},dR=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},fR=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},w1=function(e){return{type:"MOVE",payload:e}},hR=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},pR=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},gR=function(){return{type:"MOVE_UP",payload:null}},mR=function(){return{type:"MOVE_DOWN",payload:null}},vR=function(){return{type:"MOVE_RIGHT",payload:null}},yR=function(){return{type:"MOVE_LEFT",payload:null}},rm=function(){return{type:"FLUSH",payload:null}},_R=function(e){return{type:"DROP_ANIMATE",payload:e}},im=function(e){return{type:"DROP_COMPLETE",payload:e}},S1=function(e){return{type:"DROP",payload:e}},ER=function(e){return{type:"DROP_PENDING",payload:e}},T1=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},wR=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,c=s.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(im({completed:d.completed})),n().phase!=="IDLE"&&W(),r(rm()),r(oR({draggableId:a,movementMode:c}));var f={shouldPublishImmediately:c==="SNAP"},h={draggableId:a,scrollOptions:f},g=t.startPublishing(h),v=g.critical,T=g.dimensions,C=g.viewport;r(aR({critical:v,dimensions:T,clientSelection:l,movementMode:c,viewport:C}))}}}},SR=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},om={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ja={opacity:{drop:0,combining:.7},scale:{drop:.75}},sm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Si=sm.outOfTheWay+"s "+om.outOfTheWay,fa={fluid:"opacity "+Si,snap:"transform "+Si+", opacity "+Si,drop:function(e){var n=e+"s "+om.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Si,placeholder:"height "+Si+", width "+Si+", margin "+Si},D0=function(e){return Qr(e,dt)?null:"translate("+e.x+"px, "+e.y+"px)"},up={moveTo:D0,drop:function(e,n){var r=D0(e);return r?n?r+" scale("+ja.scale.drop+")":r:null}},cp=sm.minDropTime,I1=sm.maxDropTime,TR=I1-cp,R0=1500,IR=.6,bR=function(t){var e=t.current,n=t.destination,r=t.reason,i=Ba(e,n);if(i<=0)return cp;if(i>=R0)return I1;var o=i/R0,s=cp+TR*o,a=r==="CANCEL"?s*IR:s;return Number(a.toFixed(2))},AR=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=an(e),c=l?a[l]:null,d=a[n.descriptor.droppableId],f=y1({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:c||d,viewport:i}),h=nn(f,n.client.borderBox.center);return h},CR=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=v1({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=ae({},r,{displaced:$a});return{impact:l,didDropInsideDroppable:!0}},PR=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(ER({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&W(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||W();var l=o.critical,c=o.dimensions,d=c.draggables[o.critical.draggable.id],f=CR({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=f.impact,g=f.didDropInsideDroppable,v=g?Xg(h):null,T=g?gd(h):null,C={index:l.draggable.index,droppableId:l.droppable.id},_={draggableId:d.descriptor.id,type:d.descriptor.type,source:C,reason:s,mode:o.movementMode,destination:v,combine:T},y=AR({impact:h,draggable:d,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:_,impact:h},x=!Qr(o.current.client.offset,y)||!!_.combine;if(!x){n(im({completed:S}));return}var O=bR({current:o.current.client.offset,destination:y,reason:s}),M={newHomeClientOffset:y,dropDuration:O,completed:S};n(_R(M))}}}},b1=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function xR(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function DR(t){var e=t.onWindowScroll;function n(){e(b1())}var r=La(n),i=xR(r),o=Kr;function s(){return o!==Kr}function a(){s()&&W(),o=En(window,[i])}function l(){s()||W(),r.cancel(),o(),o=Kr}return{start:a,stop:l,isActive:s}}var RR=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},kR=function(t){var e=DR({onWindowScroll:function(r){t.dispatch(hR({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&RR(r)&&e.stop(),n(r)}}},NR=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},OR=function(){var t=[],e=function(o){var s=Yg(t,function(c){return c.timerId===o});s===-1&&W();var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},VR=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},MR=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},FR=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},$s=function(e,n){n()},iu=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},Hf=function(e,n,r,i){if(!e){r(i(n));return}var o=NR(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},LR=function(t,e){var n=OR(),r=null,i=function(h,g){r&&W(),$s("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var T={draggableId:h,mode:g};v(T)}})},o=function(h,g){r&&W(),$s("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(iu(h,g))})},s=function(h,g){r&&W();var v=iu(h,g);r={mode:g,lastCritical:h,lastLocation:v.source,lastCombine:null},n.add(function(){$s("onDragStart",function(){return Hf(t().onDragStart,v,e,Pu.onDragStart)})})},a=function(h,g){var v=Xg(g),T=gd(g);r||W();var C=!FR(h,r.lastCritical);C&&(r.lastCritical=h);var _=!VR(r.lastLocation,v);_&&(r.lastLocation=v);var y=!MR(r.lastCombine,T);if(y&&(r.lastCombine=T),!(!C&&!_&&!y)){var S=ae({},iu(h,r.mode),{combine:T,destination:v});n.add(function(){$s("onDragUpdate",function(){return Hf(t().onDragUpdate,S,e,Pu.onDragUpdate)})})}},l=function(){r||W(),n.flush()},c=function(h){r||W(),r=null,$s("onDragEnd",function(){return Hf(t().onDragEnd,h,e,Pu.onDragEnd)})},d=function(){if(r){var h=ae({},iu(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(h)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:d}},BR=function(t,e){var n=LR(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},$R=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&W(),t.dispatch(im({completed:r.completed}))}}},UR=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(T1())}};n=requestAnimationFrame(function(){n=null,e=En(window,[s])})}}}},jR=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},zR=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},HR=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},WR=function(t){return function(e){return function(n){return function(r){if(HR(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&W(),t.start(i);return}n(r),t.scroll(e.getState())}}}},GR=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(S1({reason:r.reason})))}}}},qR=RS,KR=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return DS(iR,qR(OP(SR(r),jR(e),wR(e),PR,$R,UR,GR,WR(s),kR,zR(n),BR(i,o))))},Wf=function(){return{additions:{},removals:{},modified:{}}};function QR(t){var e=t.registry,n=t.callbacks,r=Wf(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,f=d.additions,h=d.removals,g=d.modified,v=Object.keys(f).map(function(_){return e.draggable.getById(_).getDimension(dt)}).sort(function(_,y){return _.descriptor.index-y.descriptor.index}),T=Object.keys(g).map(function(_){var y=e.droppable.getById(_),S=y.callbacks.getScrollWhileDragging();return{droppableId:_,scroll:S}}),C={additions:v,removals:Object.keys(h),modified:T};r=Wf(),n.publish(C)}))},s=function(d){var f=d.descriptor.id;r.additions[f]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],o()},a=function(d){var f=d.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=Wf())};return{add:s,remove:a,stop:l}}var A1=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=nn({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},C1=function(){var t=document.documentElement;return t||W(),t},P1=function(){var t=C1(),e=A1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},YR=function(){var t=b1(),e=P1(),n=t.y,r=t.x,i=C1(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,c=Mn({top:n,left:r,right:a,bottom:l}),d={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:dt,displacement:dt}}};return d},XR=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=YR(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(f){return f.getDimension(o)}),c={draggables:r1(l),droppables:n1(a)},d={dimensions:c,critical:e,viewport:i};return d};function k0(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var JR=function(t,e){var n=null,r=QR({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(g,v){t.droppable.exists(g)||W(),n&&e.updateDroppableIsEnabled({id:g,isEnabled:v})},o=function(g,v){n&&(t.droppable.exists(g)||W(),e.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},s=function(g,v){n&&(t.droppable.exists(g)||W(),e.updateDroppableScroll({id:g,newScroll:v}))},a=function(g,v){n&&t.droppable.getById(g).callbacks.scroll(v)},l=function(){if(n){r.stop();var g=n.critical.droppable;t.droppable.getAllByType(g.type).forEach(function(v){return v.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(g){n||W();var v=n.critical.draggable;g.type==="ADDITION"&&k0(t,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&k0(t,v,g.value)&&r.remove(g.value)},d=function(g){n&&W();var v=t.draggable.getById(g.draggableId),T=t.droppable.getById(v.descriptor.droppableId),C={draggable:v.descriptor,droppable:T.descriptor},_=t.subscribe(c);return n={critical:C,unsubscribe:_},XR({critical:C,registry:t,scrollOptions:g.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:d,stopPublishing:l};return f},x1=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},ZR=function(t){window.scrollBy(t.x,t.y)},ek=ct(function(t){return pd(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),tk=function(e,n){var r=fi(ek(n),function(i){return i.frame||W(),h1(i.frame.pageMarginBox)(e)});return r},nk=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=tk(e,r);return o},Yr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},rk=function(t,e){var n=t[e.size]*Yr.startFromPercentage,r=t[e.size]*Yr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},D1=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},am=1,ik=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Yr.maxPixelScroll;if(t===e.startScrollingFrom)return am;var n=D1({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Yr.maxPixelScroll*Yr.ease(r);return Math.ceil(i)},N0=Yr.durationDampening.accelerateAt,O0=Yr.durationDampening.stopDampeningAt,ok=function(t,e){var n=e,r=O0,i=Date.now(),o=i-n;if(o>=O0)return t;if(o<N0)return am;var s=D1({startOfRange:N0,endOfRange:r,current:o}),a=t*Yr.ease(s);return Math.ceil(a)},V0=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=ik(e,n);return o===0?0:i?Math.max(ok(o,r),am):o},M0=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=rk(e,i),a=n[i.end]<n[i.start];return a?V0({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*V0({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},sk=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},ak=e1(function(t){return t===0?0:t}),R1=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=M0({container:n,distanceToEdges:s,dragStartTime:e,axis:Jg,shouldUseTimeDampening:o}),l=M0({container:n,distanceToEdges:s,dragStartTime:e,axis:s1,shouldUseTimeDampening:o}),c=ak({x:l,y:a});if(Qr(c,dt))return null;var d=sk({container:n,subject:r,proposedScroll:c});return d?Qr(d,dt)?null:d:null},lk=e1(function(t){return t===0?0:t>0?1:-1}),lm=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=Et(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return Qr(s,dt)?null:s}}(),k1=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=lk(i),a=lm({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},um=function(e,n){return k1({current:e.scroll.current,max:e.scroll.max,change:n})},uk=function(e,n){if(!um(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return lm({current:i,max:r,change:n})},cm=function(e,n){var r=e.frame;return r?k1({current:r.scroll.current,max:r.scroll.max,change:n}):!1},ck=function(e,n){var r=e.frame;return!r||!cm(e,n)?null:lm({current:r.scroll.current,max:r.scroll.max,change:n})},dk=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=R1({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&um(e,s)?s:null},fk=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=R1({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&cm(e,a)?a:null},F0=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,d=dk({dragStartTime:n,viewport:c,subject:l,center:s,shouldUseTimeDampening:r});if(d){i(d);return}}var f=nk({center:s,destination:an(e.impact),droppables:e.dimensions.droppables});if(f){var h=fk({dragStartTime:n,droppable:f,subject:l,center:s,shouldUseTimeDampening:r});h&&o(f.descriptor.id,h)}},hk=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=La(e),i=La(n),o=null,s=function(d){o||W();var f=o,h=f.shouldUseTimeDampening,g=f.dragStartTime;F0({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:g,shouldUseTimeDampening:h})},a=function(d){o&&W();var f=Date.now(),h=!1,g=function(){h=!0};F0({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),o={dragStartTime:f,shouldUseTimeDampening:h},h&&s(d)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},pk=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(c,d){var f=Et(c.current.client.selection,d);e({client:f})},o=function(c,d){if(!cm(c,d))return d;var f=ck(c,d);if(!f)return n(c.descriptor.id,d),null;var h=nn(d,f);n(c.descriptor.id,h);var g=nn(d,h);return g},s=function(c,d,f){if(!c||!um(d,f))return f;var h=uk(d,f);if(!h)return r(f),null;var g=nn(f,h);r(g);var v=nn(f,g);return v},a=function(c){var d=c.scrollJumpRequest;if(d){var f=an(c.impact);f||W();var h=o(c.dimensions.droppables[f],d);if(h){var g=c.viewport,v=s(c.isWindowScrollAllowed,g,h);v&&i(c,v)}}};return a},gk=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=hk({scrollWindow:n,scrollDroppable:e}),o=pk({move:r,scrollWindow:n,scrollDroppable:e}),s=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},a={scroll:s,start:i.start,stop:i.stop};return a},Go="data-rbd",qo=function(){var t=Go+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),dp=function(){var t=Go+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),mk=function(){var t=Go+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),L0={contextId:Go+"-scroll-container-context-id"},vk=function(e){return function(n){return"["+n+'="'+e+'"]'}},Us=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},yk="pointer-events: none;",_k=function(t){var e=vk(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(qo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:yk,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+fa.outOfTheWay+`;
    `;return{selector:e(dp.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(mk.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:Us(s,"always"),resting:Us(s,"resting"),dragging:Us(s,"dragging"),dropAnimating:Us(s,"dropAnimating"),userCancel:Us(s,"userCancel")}},ln=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,Gf=function(){var e=document.querySelector("head");return e||W(),e},B0=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function Ek(t,e){var n=Te(function(){return _k(t)},[t]),r=N.useRef(null),i=N.useRef(null),o=re(ct(function(f){var h=i.current;h||W(),h.textContent=f}),[]),s=re(function(f){var h=r.current;h||W(),h.textContent=f},[]);ln(function(){!r.current&&!i.current||W();var f=B0(e),h=B0(e);return r.current=f,i.current=h,f.setAttribute(Go+"-always",t),h.setAttribute(Go+"-dynamic",t),Gf().appendChild(f),Gf().appendChild(h),s(n.always),o(n.resting),function(){var g=function(T){var C=T.current;C||W(),Gf().removeChild(C),T.current=null};g(r),g(i)}},[e,s,o,n.always,n.resting,t]);var a=re(function(){return o(n.dragging)},[o,n.dragging]),l=re(function(f){if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=re(function(){i.current&&o(n.resting)},[o,n.resting]),d=Te(function(){return{dragging:a,dropping:l,resting:c}},[a,l,c]);return d}var N1=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function yd(t){return t instanceof N1(t).HTMLElement}function wk(t,e){var n="["+qo.contextId+'="'+t+'"]',r=t1(document.querySelectorAll(n));if(!r.length)return null;var i=fi(r,function(o){return o.getAttribute(qo.draggableId)===e});return!i||!yd(i)?null:i}function Sk(t){var e=N.useRef({}),n=N.useRef(null),r=N.useRef(null),i=N.useRef(!1),o=re(function(h,g){var v={id:h,focus:g};return e.current[h]=v,function(){var C=e.current,_=C[h];_!==v&&delete C[h]}},[]),s=re(function(h){var g=wk(t,h);g&&g!==document.activeElement&&g.focus()},[t]),a=re(function(h,g){n.current===h&&(n.current=g)},[]),l=re(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&s(h)}))},[s]),c=re(function(h){n.current=null;var g=document.activeElement;g&&g.getAttribute(qo.draggableId)===h&&(n.current=h)},[]);ln(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var d=Te(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,c,l,a]);return d}function Tk(){var t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){var g=e.indexOf(f);g!==-1&&e.splice(g,1)}}function r(f){e.length&&e.forEach(function(h){return h(f)})}function i(f){return t.draggables[f]||null}function o(f){var h=i(f);return h||W(),h}var s={register:function(h){t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,g){var v=t.draggables[g.descriptor.id];v&&v.uniqueId===h.uniqueId&&(delete t.draggables[g.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:function(h){var g=h.descriptor.id,v=i(g);v&&h.uniqueId===v.uniqueId&&(delete t.draggables[g],r({type:"REMOVAL",value:h}))},getById:o,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return fc(t.draggables).filter(function(g){return g.descriptor.type===h})}};function a(f){return t.droppables[f]||null}function l(f){var h=a(f);return h||W(),h}var c={register:function(h){t.droppables[h.descriptor.id]=h},unregister:function(h){var g=a(h.descriptor.id);g&&h.uniqueId===g.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return fc(t.droppables).filter(function(g){return g.descriptor.type===h})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:n,clean:d}}function Ik(){var t=Te(Tk,[]);return N.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var dm=G.createContext(null),pc=function(){var t=document.body;return t||W(),t},bk={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ak=function(e){return"rbd-announcement-"+e};function Ck(t){var e=Te(function(){return Ak(t)},[t]),n=N.useRef(null);N.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ae(o.style,bk),pc().appendChild(o),function(){setTimeout(function(){var l=pc();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=re(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var Pk=0,xk={separator:"::"};function fm(t,e){return e===void 0&&(e=xk),Te(function(){return""+t+e.separator+Pk++},[e.separator,t])}function Dk(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function Rk(t){var e=t.contextId,n=t.text,r=fm("hidden-text",{separator:"-"}),i=Te(function(){return Dk({contextId:e,uniqueId:r})},[r,e]);return N.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",pc().appendChild(s),function(){var l=pc();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var _d=G.createContext(null);function O1(t){var e=N.useRef(t);return N.useEffect(function(){e.current=t}),e}function kk(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&W();var a={abandon:s};return t=a,a}function i(){t||W(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var Nk=9,Ok=13,hm=27,V1=32,Vk=33,Mk=34,Fk=35,Lk=36,Bk=37,$k=38,Uk=39,jk=40,ou,zk=(ou={},ou[Ok]=!0,ou[Nk]=!0,ou),M1=function(t){zk[t.keyCode]&&t.preventDefault()},Ed=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=fi(e,function(r){return"on"+r in document});return n||t}(),F1=0,$0=5;function Hk(t,e){return Math.abs(e.x-t.x)>=$0||Math.abs(e.y-t.y)>=$0}var U0={type:"IDLE"};function Wk(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,c=s.clientY;if(a===F1){var d={x:l,y:c},f=r();if(f.type==="DRAGGING"){s.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&W();var h=f.point;if(Hk(h,d)){s.preventDefault();var g=f.actions.fluidLift(d);i({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===hm){s.preventDefault(),e();return}M1(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&W(),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Ed,fn:e}]}function Gk(t){var e=N.useRef(U0),n=N.useRef(Kr),r=Te(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===F1&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=t.findClosestDraggableId(f);if(h){var g=t.tryGetLock(h,s,{sourceEvent:f});if(g){f.preventDefault();var v={x:f.clientX,y:f.clientY};n.current(),c(g,v)}}}}}},[t]),i=Te(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=t.findClosestDraggableId(f);if(h){var g=t.findOptionsForDraggable(h);g&&(g.shouldRespectForcePress||t.canGetLock(h)&&f.preventDefault())}}}}},[t]),o=re(function(){var f={passive:!1,capture:!0};n.current=En(window,[i,r],f)},[i,r]),s=re(function(){var d=e.current;d.type!=="IDLE"&&(e.current=U0,n.current(),o())},[o]),a=re(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=re(function(){var f={capture:!0,passive:!1},h=Wk({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});n.current=En(window,h,f)},[a,s]),c=re(function(f,h){e.current.type!=="IDLE"&&W(),e.current={type:"PENDING",point:h,actions:f},l()},[l]);ln(function(){return o(),function(){n.current()}},[o])}var fo;function qk(){}var Kk=(fo={},fo[Mk]=!0,fo[Vk]=!0,fo[Lk]=!0,fo[Fk]=!0,fo);function Qk(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===hm){o.preventDefault(),n();return}if(o.keyCode===V1){o.preventDefault(),r();return}if(o.keyCode===jk){o.preventDefault(),t.moveDown();return}if(o.keyCode===$k){o.preventDefault(),t.moveUp();return}if(o.keyCode===Uk){o.preventDefault(),t.moveRight();return}if(o.keyCode===Bk){o.preventDefault(),t.moveLeft();return}if(Kk[o.keyCode]){o.preventDefault();return}M1(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ed,fn:n}]}function Yk(t){var e=N.useRef(qk),n=Te(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==V1)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,c=a.snapLift();e.current();function d(){l||W(),l=!1,e.current(),r()}e.current=En(window,Qk(c,d),{capture:!0,passive:!1})}}},[t]),r=re(function(){var o={passive:!1,capture:!0};e.current=En(window,[n],o)},[n]);ln(function(){return r(),function(){e.current()}},[r])}var qf={type:"IDLE"},Xk=120,Jk=.15;function Zk(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===hm&&i.preventDefault(),e()}},{eventName:Ed,fn:e}]}function eN(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,c=a.clientY,d={x:l,y:c};o.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&W();var a=o.touches[0];if(a){var l=a.force>=Jk;if(l){var c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&e();return}if(c){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:Ed,fn:e}]}function tN(t){var e=N.useRef(qf),n=N.useRef(Kr),r=re(function(){return e.current},[]),i=re(function(g){e.current=g},[]),o=Te(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var v=t.findClosestDraggableId(g);if(v){var T=t.tryGetLock(v,a,{sourceEvent:g});if(T){var C=g.touches[0],_=C.clientX,y=C.clientY,S={x:_,y};n.current(),f(T,S)}}}}}},[t]),s=re(function(){var g={capture:!0,passive:!1};n.current=En(window,[o],g)},[o]),a=re(function(){var h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(qf),n.current(),s())},[s,i]),l=re(function(){var h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=re(function(){var g={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:r},T=En(window,eN(v),g),C=En(window,Zk(v),g);n.current=function(){T(),C()}},[l,r,a]),d=re(function(){var g=r();g.type!=="PENDING"&&W();var v=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),f=re(function(g,v){r().type!=="IDLE"&&W();var T=setTimeout(d,Xk);i({type:"PENDING",point:v,actions:g,longPressTimerId:T}),c()},[c,r,i,d]);ln(function(){return s(),function(){n.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(qf))}},[r,s,i]),ln(function(){var g=En(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var nN={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function L1(t,e){if(e==null)return!1;var n=!!nN[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:L1(t,e.parentElement)}function rN(t,e){var n=e.target;return yd(n)?L1(t,n):!1}var iN=function(t){return Mn(t.getBoundingClientRect()).center};function oN(t){return t instanceof N1(t).Element}var sN=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=fi(e,function(r){return r in Element.prototype});return n||t}();function B1(t,e){return t==null?null:t[sN](e)?t:B1(t.parentElement,e)}function aN(t,e){return t.closest?t.closest(e):B1(t,e)}function lN(t){return"["+qo.contextId+'="'+t+'"]'}function uN(t,e){var n=e.target;if(!oN(n))return null;var r=lN(t),i=aN(n,r);return!i||!yd(i)?null:i}function cN(t,e){var n=uN(t,e);return n?n.getAttribute(qo.draggableId):null}function dN(t,e){var n="["+dp.contextId+'="'+t+'"]',r=t1(document.querySelectorAll(n)),i=fi(r,function(o){return o.getAttribute(dp.id)===e});return!i||!yd(i)?null:i}function fN(t){t.preventDefault()}function su(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function $1(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!x1(n.getState(),i))}function hN(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=$1({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var c=i.draggable.getById(o),d=dN(n,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&rN(d,a))return null;var f=e.claim(s||Kr),h="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function v(){return e.isActive(f)}function T(M,b){su({expected:M,phase:h,isLockActive:v,shouldWarn:!0})&&r.dispatch(b())}var C=T.bind(null,"DRAGGING");function _(M){function b(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(b(),h!=="PRE_DRAG"&&W()),r.dispatch(sR(M.liftActionArgs)),h="DRAGGING";function E(I,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),M.cleanup(),P.shouldBlockNextClick){var D=En(window,[{eventName:"click",fn:fN,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}b(),r.dispatch(S1({reason:I}))}return ae({isActive:function(){return su({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(P){return E("DROP",P)},cancel:function(P){return E("CANCEL",P)}},M.actions)}function y(M){var b=La(function(I){C(function(){return w1({client:I})})}),E=_({liftActionArgs:{id:o,clientSelection:M,movementMode:"FLUID"},cleanup:function(){return b.cancel()},actions:{move:b}});return ae({},E,{move:b})}function S(){var M={moveUp:function(){return C(gR)},moveRight:function(){return C(vR)},moveDown:function(){return C(mR)},moveLeft:function(){return C(yR)}};return _({liftActionArgs:{id:o,clientSelection:iN(d),movementMode:"SNAP"},cleanup:Kr,actions:M})}function x(){var M=su({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0});M&&e.release()}var O={isActive:function(){return su({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:y,snapLift:S,abort:x};return O}var pN=[Gk,Yk,tN];function gN(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?pN:[],i||[]),a=N.useState(function(){return kk()})[0],l=re(function(y,S){y.isDragging&&!S.isDragging&&a.tryAbandon()},[a]);ln(function(){var y=n.getState(),S=n.subscribe(function(){var x=n.getState();l(y,x),y=x});return S},[a,n,l]),ln(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=re(function(_){return $1({lockAPI:a,registry:r,store:n,draggableId:_})},[a,r,n]),d=re(function(_,y,S){return hN({lockAPI:a,registry:r,contextId:e,store:n,draggableId:_,forceSensorStop:y,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[e,a,r,n]),f=re(function(_){return cN(e,_)},[e]),h=re(function(_){var y=r.draggable.findById(_);return y?y.options:null},[r.draggable]),g=re(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(rm()))},[a,n]),v=re(a.isClaimed,[a]),T=Te(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:g,isLockClaimed:v}},[c,d,f,h,g,v]),C=0;C<s.length;C++)s[C](T)}var mN=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function js(t){return t.current||W(),t.current}function vN(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=N.useRef(null),a=O1(t),l=re(function(){return mN(a.current)},[a]),c=Ck(e),d=Rk({contextId:e,text:o}),f=Ek(e,i),h=re(function(I){js(s).dispatch(I)},[]),g=Te(function(){return c0({publishWhileDragging:lR,updateDroppableScroll:cR,updateDroppableIsEnabled:dR,updateDroppableIsCombineEnabled:fR,collectionStarting:uR},h)},[h]),v=Ik(),T=Te(function(){return JR(v,g)},[v,g]),C=Te(function(){return gk(ae({scrollWindow:ZR,scrollDroppable:T.scrollDroppable},c0({move:w1},h)))},[T.scrollDroppable,h]),_=Sk(e),y=Te(function(){return KR({announce:c,autoScroller:C,dimensionMarshal:T,focusMarshal:_,getResponders:l,styleMarshal:f})},[c,C,T,_,l,f]);s.current=y;var S=re(function(){var I=js(s),P=I.getState();P.phase!=="IDLE"&&I.dispatch(rm())},[]),x=re(function(){var I=js(s).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),O=Te(function(){return{isDragging:x,tryAbort:S}},[x,S]);n(O);var M=re(function(I){return x1(js(s).getState(),I)},[]),b=re(function(){return bi(js(s).getState())},[]),E=Te(function(){return{marshal:T,focus:_,contextId:e,canLift:M,isMovementAllowed:b,dragHandleUsageInstructionsId:d,registry:v}},[e,T,d,_,M,b,v]);return gN({contextId:e,store:y,registry:v,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),N.useEffect(function(){return S},[S]),G.createElement(_d.Provider,{value:E},G.createElement(BP,{context:dm,store:y},t.children))}var yN=0;function _N(){return Te(function(){return""+yN++},[])}function EN(t){var e=_N(),n=t.dragHandleUsageInstructions||Pu.dragHandleUsageInstructions;return G.createElement(Yx,null,function(r){return G.createElement(vN,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var U1=function(e){return function(n){return e===n}},wN=U1("scroll"),SN=U1("auto"),j0=function(e,n){return n(e.overflowX)||n(e.overflowY)},TN=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return j0(r,wN)||j0(r,SN)},IN=function(){return!1},bN=function t(e){return e==null?null:e===document.body?IN()?e:null:e===document.documentElement?null:TN(e)?e:t(e.parentElement)},fp=function(t){return{x:t.scrollLeft,y:t.scrollTop}},AN=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},CN=function(t){var e=bN(t),n=AN(t);return{closestScrollable:e,isFixedOnPage:n}},PN=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,c=function(){if(!l)return null;var g=l.scrollSize,v=l.client,T=A1({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:T,diff:{value:dt,displacement:dt}}}}(),d=o==="vertical"?Jg:s1,f=Wo({page:a,withPlaceholder:null,axis:d,frame:c}),h={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:s,page:a,frame:c,subject:f};return h},xN=function(e,n){var r=YS(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},c=qg(l,r.border),d=Kg({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return d},DN=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,c=r.closestScrollable,d=xN(e,c),f=uc(d,i),h=function(){if(!c)return null;var v=YS(c),T={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:uc(v,i),scroll:fp(c),scrollSize:T,shouldClipSubject:l}}(),g=PN({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:f,closest:h});return g},RN={passive:!1},kN={passive:!0},z0=function(t){return t.shouldPublishImmediately?RN:kN};function gc(t){var e=N.useContext(t);return e||W(),e}var au=function(e){return e&&e.env.closestScrollable||null};function NN(t){var e=N.useRef(null),n=gc(_d),r=fm("droppable"),i=n.registry,o=n.marshal,s=O1(t),a=Te(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=N.useRef(a),c=Te(function(){return ct(function(x,O){e.current||W();var M={x,y:O};o.updateDroppableScroll(a.id,M)})},[a.id,o]),d=re(function(){var x=e.current;return!x||!x.env.closestScrollable?dt:fp(x.env.closestScrollable)},[]),f=re(function(){var x=d();c(x.x,x.y)},[d,c]),h=Te(function(){return La(f)},[f]),g=re(function(){var x=e.current,O=au(x);x&&O||W();var M=x.scrollOptions;if(M.shouldPublishImmediately){f();return}h()},[h,f]),v=re(function(x,O){e.current&&W();var M=s.current,b=M.getDroppableRef();b||W();var E=CN(b),I={ref:b,descriptor:a,env:E,scrollOptions:O};e.current=I;var P=DN({ref:b,descriptor:a,env:E,windowScroll:x,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),D=E.closestScrollable;return D&&(D.setAttribute(L0.contextId,n.contextId),D.addEventListener("scroll",g,z0(I.scrollOptions))),P},[n.contextId,a,g,s]),T=re(function(){var x=e.current,O=au(x);return x&&O||W(),fp(O)},[]),C=re(function(){var x=e.current;x||W();var O=au(x);e.current=null,O&&(h.cancel(),O.removeAttribute(L0.contextId),O.removeEventListener("scroll",g,z0(x.scrollOptions)))},[g,h]),_=re(function(x){var O=e.current;O||W();var M=au(O);M||W(),M.scrollTop+=x.y,M.scrollLeft+=x.x},[]),y=Te(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:T,dragStopped:C,scroll:_}},[C,v,T,_]),S=Te(function(){return{uniqueId:r,descriptor:a,callbacks:y}},[y,a,r]);ln(function(){return l.current=S.descriptor,i.droppable.register(S),function(){e.current&&C(),i.droppable.unregister(S)}},[y,a,C,S,o,i.droppable]),ln(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),ln(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function Kf(){}var H0={width:0,height:0,margin:nD},ON=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?H0:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},VN=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=ON({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?fa.placeholder:null}};function MN(t){var e=N.useRef(null),n=re(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=N.useState(t.animate==="open"),l=a[0],c=a[1];N.useEffect(function(){return l?r!=="open"?(n(),c(!1),Kf):e.current?Kf:(e.current=setTimeout(function(){e.current=null,c(!1)}),n):Kf},[r,l,n]);var d=re(function(h){h.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=VN({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return G.createElement(t.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var FN=G.memo(MN),pm=G.createContext(null),LN=function(t){xS(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(G.PureComponent),W0={dragging:5e3,dropAnimating:4500},BN=function(e,n){return n?fa.drop(n.duration):e?fa.snap:fa.fluid},$N=function(e,n){return e?n?ja.opacity.drop:ja.opacity.combining:null},UN=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function jN(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=UN(t),l=!!o,c=l?up.drop(r,s):up.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:BN(a,o),transform:c,opacity:$N(s,l),zIndex:l?W0.dropAnimating:W0.dragging,pointerEvents:"none"};return d}function zN(t){return{transform:up.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function HN(t){return t.type==="DRAGGING"?jN(t):zN(t)}function WN(t,e,n){n===void 0&&(n=dt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=QS(i,r),s=uc(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return c}function GN(t){var e=fm("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=Te(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),c=re(function(g){var v=i();return v||W(),WN(n,v,g)},[n,i]),d=Te(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:c}},[n,c,l,e]),f=N.useRef(d),h=N.useRef(!0);ln(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),ln(function(){if(h.current){h.current=!1;return}var g=f.current;f.current=d,r.draggable.update(d,g)},[d,r.draggable])}function qN(t){t.preventDefault()}function KN(t){var e=N.useRef(null),n=re(function(I){e.current=I},[]),r=re(function(){return e.current},[]),i=gc(_d),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=gc(pm),c=l.type,d=l.droppableId,f=Te(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:d}},[t.draggableId,t.index,c,d]),h=t.children,g=t.draggableId,v=t.isEnabled,T=t.shouldRespectForcePress,C=t.canDragInteractiveElements,_=t.isClone,y=t.mapped,S=t.dropAnimationFinished;if(!_){var x=Te(function(){return{descriptor:f,registry:a,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:T,isEnabled:v}},[f,a,r,C,T,v]);GN(x)}var O=Te(function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:qN}:null},[o,s,g,v]),M=re(function(I){y.type==="DRAGGING"&&y.dropping&&I.propertyName==="transform"&&S()},[S,y]),b=Te(function(){var I=HN(y),P=y.type==="DRAGGING"&&y.dropping?M:null,D={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":g,style:I,onTransitionEnd:P},dragHandleProps:O};return D},[o,O,g,y,M,n]),E=Te(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(b,y.snapshot,E)}var j1=function(t,e){return t===e},z1=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},QN=function(e){return e.combine?e.combine.draggableId:null},YN=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function XN(){var t=ct(function(i,o){return{x:i,y:o}}),e=ct(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=ct(function(i,o,s,a,l,c,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,l,c,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],c=an(o.impact),d=YN(o.impact),f=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,c,d,f)}if(o.phase==="DROP_ANIMATING"){var h=o.completed;if(h.result.draggableId!==s.draggableId)return null;var g=s.isClone,v=o.dimensions.draggables[s.draggableId],T=h.result,C=T.mode,_=z1(T),y=QN(T),S=o.dropDuration,x={duration:S,curve:om.drop,moveTo:o.newHomeClientOffset,opacity:y?ja.opacity.drop:null,scale:y?ja.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:v,dropping:x,draggingOver:_,combineWith:y,mode:C,forceShouldAnimate:null,snapshot:e(C,g,_,y,x)}}}return null};return r}function H1(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var JN={mapped:{type:"SECONDARY",offset:dt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:H1(null)}};function ZN(){var t=ct(function(s,a){return{x:s,y:a}}),e=ct(H1),n=ct(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(dt,a,!0):null},i=function(a,l,c,d){var f=c.displaced.visible[a],h=!!(d.inVirtualList&&d.effected[a]),g=gd(c),v=g&&g.draggableId===a?l:null;if(!f){if(!h)return r(v);if(c.displaced.invisible[a])return null;var T=ls(d.displacedBy.point),C=t(T.x,T.y);return n(C,v,!0)}if(h)return r(v);var _=c.displacedBy.point,y=t(_.x,_.y);return n(y,v,f.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var e2=function(){var e=XN(),n=ZN(),r=function(o,s){return e(o,s)||n(o,s)||JN};return r},t2={dropAnimationFinished:T1},n2=qS(e2,t2,null,{context:dm,pure:!0,areStatePropsEqual:j1})(KN);function W1(t){var e=gc(pm),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:G.createElement(n2,t)}function r2(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return G.createElement(W1,ae({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function i2(t){var e=N.useContext(_d);e||W();var n=e.contextId,r=e.isMovementAllowed,i=N.useRef(null),o=N.useRef(null),s=t.children,a=t.droppableId,l=t.type,c=t.mode,d=t.direction,f=t.ignoreContainerClipping,h=t.isDropDisabled,g=t.isCombineEnabled,v=t.snapshot,T=t.useClone,C=t.updateViewportMaxScroll,_=t.getContainerForClone,y=re(function(){return i.current},[]),S=re(function(D){i.current=D},[]);re(function(){return o.current},[]);var x=re(function(D){o.current=D},[]),O=re(function(){r()&&C({maxScroll:P1()})},[r,C]);NN({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:h,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:y});var M=G.createElement(LN,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(D){var R=D.onClose,A=D.data,ne=D.animate;return G.createElement(FN,{placeholder:A,onClose:R,innerRef:x,animate:ne,contextId:n,onTransitionEnd:O})}),b=Te(function(){return{innerRef:S,placeholder:M,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,M,S]),E=T?T.dragging.draggableId:null,I=Te(function(){return{droppableId:a,type:l,isUsingCloneFor:E}},[a,E,l]);function P(){if(!T)return null;var D=T.dragging,R=T.render,A=G.createElement(W1,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ne,he){return R(ne,he,D)});return xP.createPortal(A,_())}return G.createElement(pm.Provider,{value:I},s(b,v),P())}var Qf=function(e,n){return e===n.droppable.type},G0=function(e,n){return n.draggables[e.draggable.id]},o2=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ae({},e,{shouldAnimatePlaceholder:!1}),r=ct(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=ct(function(s,a,l,c,d,f){var h=d.descriptor.id,g=d.descriptor.droppableId===s;if(g){var v=f?{render:f,dragging:r(d.descriptor)}:null,T={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:v}}if(!a)return n;if(!c)return e;var C={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:C,useClone:null}}),o=function(a,l){var c=l.droppableId,d=l.type,f=!l.isDropDisabled,h=l.renderClone;if(a.isDragging){var g=a.critical;if(!Qf(d,g))return n;var v=G0(g,a.dimensions),T=an(a.impact)===c;return i(c,f,T,T,v,h)}if(a.phase==="DROP_ANIMATING"){var C=a.completed;if(!Qf(d,C.critical))return n;var _=G0(C.critical,a.dimensions);return i(c,f,z1(C.result)===c,an(C.impact)===c,_,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var y=a.completed;if(!Qf(d,y.critical))return n;var S=an(y.impact)===c,x=!!(y.impact.at&&y.impact.at.type==="COMBINE"),O=y.critical.droppable.id===c;return S?x?e:n:O?e:n}return n};return o},s2={updateViewportMaxScroll:pR};function a2(){return document.body||W(),document.body}var l2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:a2},G1=qS(o2,s2,null,{context:dm,pure:!0,areStatePropsEqual:j1})(i2);G1.defaultProps=l2;var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new c2;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d2=function(t){const e=q1(t);return K1.encodeByteArray(e,!0)},mc=function(t){return d2(t).replace(/\./g,"")},f2=function(t){try{return K1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=()=>h2().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof q0>"u")return;const t=q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f2(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return p2()||g2()||m2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},y2=t=>{const e=v2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mc(JSON.stringify(n)),mc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){var t;const e=(t=gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I2(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A2,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y1.prototype.create)}}class Y1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?C2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ds(i,a,r)}}function C2(t,e){return t.replace(P2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P2=/\{\$([^}]+)}/g;function za(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(K0(o)&&K0(s)){if(!za(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function K0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x2=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function D2(t){return t===Ai?void 0:t}function R2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const N2={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},O2=Se.INFO,V2={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},M2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X1{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=M2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const F2=(t,e)=>e.some(n=>t instanceof n);let Q0,Y0;function L2(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B2(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,hp=new WeakMap,Z1=new WeakMap,Yf=new WeakMap,mm=new WeakMap;function $2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&J1.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function U2(t){if(hp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j2(t){pp=t(pp)}function z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return Z1.set(r,e.sort?e.sort():[e]),Xr(r)}:B2().includes(t)?function(...e){return t.apply(Xf(this),e),Xr(J1.get(this))}:function(...e){return Xr(t.apply(Xf(this),e))}}function H2(t){return typeof t=="function"?z2(t):(t instanceof IDBTransaction&&U2(t),F2(t,L2())?new Proxy(t,pp):t)}function Xr(t){if(t instanceof IDBRequest)return $2(t);if(Yf.has(t))return Yf.get(t);const e=H2(t);return e!==t&&(Yf.set(t,e),mm.set(e,t)),e}const Xf=t=>mm.get(t);function W2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Xr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Xr(s.result),l.oldVersion,l.newVersion,Xr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],Jf=new Map;function X0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G2.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jf.set(e,o),o}j2(t=>({...t,get:(e,n,r)=>X0(e,n)||t.get(e,n,r),has:(e,n)=>!!X0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",J0="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new X1("@firebase/app"),Y2="@firebase/app-compat",X2="@firebase/analytics-compat",J2="@firebase/analytics",Z2="@firebase/app-check-compat",eO="@firebase/app-check",tO="@firebase/auth",nO="@firebase/auth-compat",rO="@firebase/database",iO="@firebase/database-compat",oO="@firebase/functions",sO="@firebase/functions-compat",aO="@firebase/installations",lO="@firebase/installations-compat",uO="@firebase/messaging",cO="@firebase/messaging-compat",dO="@firebase/performance",fO="@firebase/performance-compat",hO="@firebase/remote-config",pO="@firebase/remote-config-compat",gO="@firebase/storage",mO="@firebase/storage-compat",vO="@firebase/firestore",yO="@firebase/vertexai-preview",_O="@firebase/firestore-compat",EO="firebase",wO="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",SO={[gp]:"fire-core",[Y2]:"fire-core-compat",[J2]:"fire-analytics",[X2]:"fire-analytics-compat",[eO]:"fire-app-check",[Z2]:"fire-app-check-compat",[tO]:"fire-auth",[nO]:"fire-auth-compat",[rO]:"fire-rtdb",[iO]:"fire-rtdb-compat",[oO]:"fire-fn",[sO]:"fire-fn-compat",[aO]:"fire-iid",[lO]:"fire-iid-compat",[uO]:"fire-fcm",[cO]:"fire-fcm-compat",[dO]:"fire-perf",[fO]:"fire-perf-compat",[hO]:"fire-rc",[pO]:"fire-rc-compat",[gO]:"fire-gcs",[mO]:"fire-gcs-compat",[vO]:"fire-fst",[_O]:"fire-fst-compat",[yO]:"fire-vertex","fire-js":"fire-js",[EO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,TO=new Map,vp=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yc(t){const e=t.name;if(vp.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(const n of vc.values())Z0(n,t);for(const n of TO.values())Z0(n,t);return!0}function IO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Y1("app","Firebase",bO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=wO;function eT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=Q1()),!n)throw Jr.create("no-options");const o=vc.get(i);if(o){if(za(n,o.options)&&za(r,o.config))return o;throw Jr.create("duplicate-app",{appName:i})}const s=new k2(i);for(const l of vp.values())s.addComponent(l);const a=new AO(n,r,s);return vc.set(i,a),a}function PO(t=mp){const e=vc.get(t);if(!e&&t===mp&&Q1())return eT();if(!e)throw Jr.create("no-app",{appName:t});return e}function Mo(t,e,n){var r;let i=(r=SO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}yc(new Ha(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-heartbeat-database",DO=1,Wa="firebase-heartbeat-store";let Zf=null;function tT(){return Zf||(Zf=W2(xO,DO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function RO(t){try{const n=(await tT()).transaction(Wa),r=await n.objectStore(Wa).get(nT(t));return await n.done,r}catch(e){if(e instanceof ds)Gi.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function e_(t,e){try{const r=(await tT()).transaction(Wa,"readwrite");await r.objectStore(Wa).put(e,nT(t)),await r.done}catch(n){if(n instanceof ds)Gi.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function nT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1024,NO=30*24*60*60*1e3;class OO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=NO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:r,unsentEntries:i}=VO(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function t_(){return new Date().toISOString().substring(0,10)}function VO(t,e=kO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I2()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function n_(t){return mc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){yc(new Ha("platform-logger",e=>new K2(e),"PRIVATE")),yc(new Ha("heartbeat",e=>new OO(e),"PRIVATE")),Mo(gp,J0,t),Mo(gp,J0,"esm2017"),Mo("fire-js","")}FO("");var LO="firebase",BO="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(LO,BO,"app");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,rT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function I(){}I.prototype=E.prototype,b.D=E.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(P,D,R){for(var A=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)A[ne-2]=arguments[ne];return E.prototype[D].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,E,I){I||(I=0);var P=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)P[D]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=b.g[0],I=b.g[1],D=b.g[2];var R=b.g[3],A=E+(R^I&(D^R))+P[0]+3614090360&4294967295;E=I+(A<<7&4294967295|A>>>25),A=R+(D^E&(I^D))+P[1]+3905402710&4294967295,R=E+(A<<12&4294967295|A>>>20),A=D+(I^R&(E^I))+P[2]+606105819&4294967295,D=R+(A<<17&4294967295|A>>>15),A=I+(E^D&(R^E))+P[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(R^I&(D^R))+P[4]+4118548399&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(D^E&(I^D))+P[5]+1200080426&4294967295,R=E+(A<<12&4294967295|A>>>20),A=D+(I^R&(E^I))+P[6]+2821735955&4294967295,D=R+(A<<17&4294967295|A>>>15),A=I+(E^D&(R^E))+P[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(R^I&(D^R))+P[8]+1770035416&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(D^E&(I^D))+P[9]+2336552879&4294967295,R=E+(A<<12&4294967295|A>>>20),A=D+(I^R&(E^I))+P[10]+4294925233&4294967295,D=R+(A<<17&4294967295|A>>>15),A=I+(E^D&(R^E))+P[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(R^I&(D^R))+P[12]+1804603682&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(D^E&(I^D))+P[13]+4254626195&4294967295,R=E+(A<<12&4294967295|A>>>20),A=D+(I^R&(E^I))+P[14]+2792965006&4294967295,D=R+(A<<17&4294967295|A>>>15),A=I+(E^D&(R^E))+P[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(D^R&(I^D))+P[1]+4129170786&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^D&(E^I))+P[6]+3225465664&4294967295,R=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(R^E))+P[11]+643717713&4294967295,D=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(D^R))+P[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^R&(I^D))+P[5]+3593408605&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^D&(E^I))+P[10]+38016083&4294967295,R=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(R^E))+P[15]+3634488961&4294967295,D=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(D^R))+P[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^R&(I^D))+P[9]+568446438&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^D&(E^I))+P[14]+3275163606&4294967295,R=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(R^E))+P[3]+4107603335&4294967295,D=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(D^R))+P[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^R&(I^D))+P[13]+2850285829&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^D&(E^I))+P[2]+4243563512&4294967295,R=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(R^E))+P[7]+1735328473&4294967295,D=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(D^R))+P[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(I^D^R)+P[5]+4294588738&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^D)+P[8]+2272392833&4294967295,R=E+(A<<11&4294967295|A>>>21),A=D+(R^E^I)+P[11]+1839030562&4294967295,D=R+(A<<16&4294967295|A>>>16),A=I+(D^R^E)+P[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^R)+P[1]+2763975236&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^D)+P[4]+1272893353&4294967295,R=E+(A<<11&4294967295|A>>>21),A=D+(R^E^I)+P[7]+4139469664&4294967295,D=R+(A<<16&4294967295|A>>>16),A=I+(D^R^E)+P[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^R)+P[13]+681279174&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^D)+P[0]+3936430074&4294967295,R=E+(A<<11&4294967295|A>>>21),A=D+(R^E^I)+P[3]+3572445317&4294967295,D=R+(A<<16&4294967295|A>>>16),A=I+(D^R^E)+P[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^R)+P[9]+3654602809&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^D)+P[12]+3873151461&4294967295,R=E+(A<<11&4294967295|A>>>21),A=D+(R^E^I)+P[15]+530742520&4294967295,D=R+(A<<16&4294967295|A>>>16),A=I+(D^R^E)+P[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(D^(I|~R))+P[0]+4096336452&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~D))+P[7]+1126891415&4294967295,R=E+(A<<10&4294967295|A>>>22),A=D+(E^(R|~I))+P[14]+2878612391&4294967295,D=R+(A<<15&4294967295|A>>>17),A=I+(R^(D|~E))+P[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~R))+P[12]+1700485571&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~D))+P[3]+2399980690&4294967295,R=E+(A<<10&4294967295|A>>>22),A=D+(E^(R|~I))+P[10]+4293915773&4294967295,D=R+(A<<15&4294967295|A>>>17),A=I+(R^(D|~E))+P[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~R))+P[8]+1873313359&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~D))+P[15]+4264355552&4294967295,R=E+(A<<10&4294967295|A>>>22),A=D+(E^(R|~I))+P[6]+2734768916&4294967295,D=R+(A<<15&4294967295|A>>>17),A=I+(R^(D|~E))+P[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~R))+P[4]+4149444226&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~D))+P[11]+3174756917&4294967295,R=E+(A<<10&4294967295|A>>>22),A=D+(E^(R|~I))+P[2]+718787259&4294967295,D=R+(A<<15&4294967295|A>>>17),A=I+(R^(D|~E))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var I=E-this.blockSize,P=this.B,D=this.h,R=0;R<E;){if(D==0)for(;R<=I;)i(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<E;)if(P[D++]=b.charCodeAt(R++),D==this.blockSize){i(this,P),D=0;break}}else for(;R<E;)if(P[D++]=b[R++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var I=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=I&255,I/=256;for(this.u(b),b=Array(16),E=I=0;4>E;++E)for(var P=0;32>P;P+=8)b[I++]=this.g[E]>>>P&255;return b};function o(b,E){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=E(b)}function s(b,E){this.h=E;for(var I=[],P=!0,D=b.length-1;0<=D;D--){var R=b[D]|0;P&&R==E||(I[D]=R,P=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?o(b,function(E){return new s([E|0],0>E?-1:0)}):new s([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return C(c(-b));for(var E=[],I=1,P=0;b>=I;P++)E[P]=b/I|0,I*=4294967296;return new s(E,0)}function d(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return C(d(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),P=f,D=0;D<b.length;D+=8){var R=Math.min(8,b.length-D),A=parseInt(b.substring(D,D+R),E);8>R?(R=c(Math.pow(E,R)),P=P.j(R).add(c(A))):(P=P.j(I),P=P.add(c(A)))}return P}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(T(this))return-C(this).m();for(var b=0,E=1,I=0;I<this.g.length;I++){var P=this.i(I);b+=(0<=P?P:4294967296+P)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(v(this))return"0";if(T(this))return"-"+C(this).toString(b);for(var E=c(Math.pow(b,6)),I=this,P="";;){var D=x(I,E).g;I=_(I,D.j(E));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=D,v(I))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function v(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function T(b){return b.h==-1}t.l=function(b){return b=_(this,b),T(b)?-1:v(b)?0:1};function C(b){for(var E=b.g.length,I=[],P=0;P<E;P++)I[P]=~b.g[P];return new s(I,~b.h).add(h)}t.abs=function(){return T(this)?C(this):this},t.add=function(b){for(var E=Math.max(this.g.length,b.g.length),I=[],P=0,D=0;D<=E;D++){var R=P+(this.i(D)&65535)+(b.i(D)&65535),A=(R>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);P=A>>>16,R&=65535,A&=65535,I[D]=A<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function _(b,E){return b.add(C(E))}t.j=function(b){if(v(this)||v(b))return f;if(T(this))return T(b)?C(this).j(C(b)):C(C(this).j(b));if(T(b))return C(this.j(C(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var E=this.g.length+b.g.length,I=[],P=0;P<2*E;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<b.g.length;D++){var R=this.i(P)>>>16,A=this.i(P)&65535,ne=b.i(D)>>>16,he=b.i(D)&65535;I[2*P+2*D]+=A*he,y(I,2*P+2*D),I[2*P+2*D+1]+=R*he,y(I,2*P+2*D+1),I[2*P+2*D+1]+=A*ne,y(I,2*P+2*D+1),I[2*P+2*D+2]+=R*ne,y(I,2*P+2*D+2)}for(P=0;P<E;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=E;P<2*E;P++)I[P]=0;return new s(I,0)};function y(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function S(b,E){this.g=b,this.h=E}function x(b,E){if(v(E))throw Error("division by zero");if(v(b))return new S(f,f);if(T(b))return E=x(C(b),E),new S(C(E.g),C(E.h));if(T(E))return E=x(b,C(E)),new S(C(E.g),E.h);if(30<b.g.length){if(T(b)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var I=h,P=E;0>=P.l(b);)I=O(I),P=O(P);var D=M(I,1),R=M(P,1);for(P=M(P,2),I=M(I,2);!v(P);){var A=R.add(P);0>=A.l(b)&&(D=D.add(I),R=A),P=M(P,1),I=M(I,1)}return E=_(b,D.j(E)),new S(D,E)}for(D=f;0<=b.l(E);){for(I=Math.max(1,Math.floor(b.m()/E.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=c(I),A=R.j(E);T(A)||0<A.l(b);)I-=P,R=c(I),A=R.j(E);v(R)&&(R=h),D=D.add(R),b=_(b,A)}return new S(D,b)}t.A=function(b){return x(this,b).h},t.and=function(b){for(var E=Math.max(this.g.length,b.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)&b.i(P);return new s(I,this.h&b.h)},t.or=function(b){for(var E=Math.max(this.g.length,b.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)|b.i(P);return new s(I,this.h|b.h)},t.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),I=[],P=0;P<E;P++)I[P]=this.i(P)^b.i(P);return new s(I,this.h^b.h)};function O(b){for(var E=b.g.length+1,I=[],P=0;P<E;P++)I[P]=b.i(P)<<1|b.i(P-1)>>>31;return new s(I,b.h)}function M(b,E){var I=E>>5;E%=32;for(var P=b.g.length-I,D=[],R=0;R<P;R++)D[R]=0<E?b.i(R+I)>>>E|b.i(R+I+1)<<32-E:b.i(R+I);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Li=s}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,oT,Ys,sT,xu,yp,aT,lT,uT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var V=u[w];if(!(V in m))break e;m=m[V]}u=u[u.length-1],w=m[u],p=p(w),p!=w&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function o(u,p){u instanceof String&&(u+="");var m=0,w=!1,V={next:function(){if(!w&&m<u.length){var L=m++;return{value:p(L,u[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return o(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function f(u,p,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function h(u,p,m){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function v(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,V,L){for(var q=Array(arguments.length-2),De=2;De<arguments.length;De++)q[De-2]=arguments[De];return p.prototype[V].apply(w,q)}}function T(u){const p=u.length;if(0<p){const m=Array(p);for(let w=0;w<p;w++)m[w]=u[w];return m}return[]}function C(u,p){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(l(w)){const V=u.length||0,L=w.length||0;u.length=V+L;for(let q=0;q<L;q++)u[V+q]=w[q]}else u.push(w)}}class _{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(u,p,m){for(const w in u)p.call(m,u[w],w,u)}function b(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function E(u){const p={};for(const m in u)p[m]=u[m];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let m,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(m in w)u[m]=w[m];for(let L=0;L<I.length;L++)m=I[L],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function D(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function R(u){a.setTimeout(()=>{throw u},0)}function A(){var u=X;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,m){const w=he.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var he=new _(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,z=!1,X=new ne,K=()=>{const u=a.Promise.resolve(void 0);ve=()=>{u.then(oe)}};var oe=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(m){R(m)}var p=he;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}z=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Oe(u,p){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{x(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}v(Oe,_e);var Be={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Tr(u,p,m,w,V){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=V,this.key=++zn,this.da=this.fa=!1}function Jt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function An(u){this.src=u,this.g={},this.h=0}An.prototype.add=function(u,p,m,w,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var q=Hn(u,p,w,V);return-1<q?(p=u[q],m||(p.fa=!1)):(p=new Tr(p,this.src,L,!!w,V),p.fa=m,u.push(p)),p};function Ir(u,p){var m=p.type;if(m in u.g){var w=u.g[m],V=Array.prototype.indexOf.call(w,p,void 0),L;(L=0<=V)&&Array.prototype.splice.call(w,V,1),L&&(Jt(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Hn(u,p,m,w){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==w)return V}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),gi={};function mi(u,p,m,w,V){if(Array.isArray(p)){for(var L=0;L<p.length;L++)mi(u,p[L],m,w,V);return null}return m=we(m),u&&u[ht]?u.K(p,m,c(w)?!!w.capture:!!w,V):ro(u,p,m,!1,w,V)}function ro(u,p,m,w,V,L){if(!p)throw Error("Invalid event type");var q=c(V)?!!V.capture:!!V,De=H(u);if(De||(u[Cn]=De=new An(u)),m=De.add(p,m,w,q,L),m.proxy)return m;if(w=k(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)Qe||(V=q),V===void 0&&(V=!1),u.addEventListener(p.toString(),w,V);else if(u.attachEvent)u.attachEvent(Y(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function k(){function u(m){return p.call(u.src,u.listener,m)}const p=Q;return u}function F(u,p,m,w,V){if(Array.isArray(p))for(var L=0;L<p.length;L++)F(u,p[L],m,w,V);else w=c(w)?!!w.capture:!!w,m=we(m),u&&u[ht]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],m=Hn(L,m,w,V),-1<m&&(Jt(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=H(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Hn(p,m,w,V)),(m=-1<u?p[u]:null)&&B(m))}function B(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ht])Ir(p.i,u);else{var m=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(m,w,u.capture):p.detachEvent?p.detachEvent(Y(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=H(p))?(Ir(m,u),m.h==0&&(m.src=null,p[Cn]=null)):Jt(u)}}}function Y(u){return u in gi?gi[u]:gi[u]="on"+u}function Q(u,p){if(u.da)u=!0;else{p=new Oe(p,this);var m=u.listener,w=u.ha||u.src;u.fa&&B(u),u=m.call(w,p)}return u}function H(u){return u=u[Cn],u instanceof An?u:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(u){return typeof u=="function"?u:(u[te]||(u[te]=function(p){return u.handleEvent(p)}),u[te])}function ge(){le.call(this),this.i=new An(this),this.M=this,this.F=null}v(ge,le),ge.prototype[ht]=!0,ge.prototype.removeEventListener=function(u,p,m,w){F(this,u,p,m,w)};function Ce(u,p){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new _e(p,u);else if(p instanceof _e)p.target=p.target||u;else{var V=p;p=new _e(w,u),P(p,V)}if(V=!0,m)for(var L=m.length-1;0<=L;L--){var q=p.g=m[L];V=Pn(q,w,!0,p)&&V}if(q=p.g=u,V=Pn(q,w,!0,p)&&V,V=Pn(q,w,!1,p)&&V,m)for(L=0;L<m.length;L++)q=p.g=m[L],V=Pn(q,w,!1,p)&&V}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],w=0;w<m.length;w++)Jt(m[w]);delete u.g[p],u.h--}}this.F=null},ge.prototype.K=function(u,p,m,w){return this.i.add(String(u),p,!1,m,w)},ge.prototype.L=function(u,p,m,w){return this.i.add(String(u),p,!0,m,w)};function Pn(u,p,m,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,L=0;L<p.length;++L){var q=p[L];if(q&&!q.da&&q.capture==m){var De=q.listener,pt=q.ha||q.src;q.fa&&Ir(u.i,q),V=De.call(pt,w)!==!1&&V}}return V&&!w.defaultPrevented}function bl(u,p,m){if(typeof u=="function")m&&(u=h(u,m));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function io(u){u.g=bl(()=>{u.g=null,u.i&&(u.i=!1,io(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class vs extends le{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(u){le.call(this),this.h=u,this.g={}}v(vi,le);var ys=[];function Al(u){M(u.g,function(p,m){this.g.hasOwnProperty(m)&&B(p)},u),u.g={}}vi.prototype.N=function(){vi.aa.N.call(this),Al(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=a.JSON.stringify,kb=a.JSON.parse,Nb=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Yd(){}Yd.prototype.h=null;function ov(u){return u.h||(u.h=u.i())}function sv(){}var _s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xd(){_e.call(this,"d")}v(Xd,_e);function Jd(){_e.call(this,"c")}v(Jd,_e);var yi={},av=null;function Cl(){return av=av||new ge}yi.La="serverreachability";function lv(u){_e.call(this,yi.La,u)}v(lv,_e);function Es(u){const p=Cl();Ce(p,new lv(p))}yi.STAT_EVENT="statevent";function uv(u,p){_e.call(this,yi.STAT_EVENT,u),this.stat=p}v(uv,_e);function Ot(u){const p=Cl();Ce(p,new uv(p,u))}yi.Ma="timingevent";function cv(u,p){_e.call(this,yi.Ma,u),this.size=p}v(cv,_e);function ws(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ss(){this.g=!0}Ss.prototype.xa=function(){this.g=!1};function Ob(u,p,m,w,V,L){u.info(function(){if(u.g)if(L)for(var q="",De=L.split("&"),pt=0;pt<De.length;pt++){var be=De[pt].split("=");if(1<be.length){var bt=be[0];be=be[1];var At=bt.split("_");q=2<=At.length&&At[1]=="type"?q+(bt+"="+be+"&"):q+(bt+"=redacted&")}}else q=null;else q=L;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+p+`
`+m+`
`+q})}function Vb(u,p,m,w,V,L,q){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+p+`
`+m+`
`+L+" "+q})}function so(u,p,m,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fb(u,m)+(w?" "+w:"")})}function Mb(u,p){u.info(function(){return"TIMEOUT: "+p})}Ss.prototype.info=function(){};function Fb(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var q=1;q<V.length;q++)V[q]=""}}}}return oo(m)}catch{return p}}var Pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zd;function xl(){}v(xl,Yd),xl.prototype.g=function(){return new XMLHttpRequest},xl.prototype.i=function(){return{}},Zd=new xl;function br(u,p,m,w){this.j=u,this.i=p,this.l=m,this.R=w||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fv}function fv(){this.i=null,this.g="",this.h=!1}var hv={},ef={};function tf(u,p,m){u.L=1,u.v=Nl(ir(p)),u.m=m,u.P=!0,pv(u,null)}function pv(u,p){u.F=Date.now(),Dl(u),u.A=ir(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Pv(m.i,"t",w),u.C=0,m=u.j.J,u.h=new fv,u.g=Gv(u.j,m?p:null,!u.m),0<u.O&&(u.M=new vs(h(u.Y,u,u.g),u.O)),p=u.U,m=u.g,w=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(ys[0]=V.toString()),V=ys);for(var L=0;L<V.length;L++){var q=mi(m,V[L],w||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Es(),Ob(u.i,u.u,u.A,u.l,u.R,u.m)}br.prototype.ca=function(u){u=u.target;const p=this.M;p&&or(u)==3?p.j():this.Y(u)},br.prototype.Y=function(u){try{if(u==this.g)e:{const At=or(this.g);var p=this.g.Ba();const uo=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Vv(this.g)))){this.J||At!=4||p==7||(p==8||0>=uo?Es(3):Es(2)),nf(this);var m=this.g.Z();this.X=m;t:if(gv(this)){var w=Vv(this.g);u="";var V=w.length,L=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Ts(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(L&&p==V-1)});w.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,Vb(this.i,this.u,this.A,this.l,this.R,At,m),this.o){if(this.T&&!this.K){t:{if(this.g){var De,pt=this.g;if((De=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(De)){var be=De;break t}}be=null}if(m=be)so(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rf(this,m);else{this.o=!1,this.s=3,Ot(12),_i(this),Ts(this);break e}}if(this.P){m=!0;let xn;for(;!this.J&&this.C<q.length;)if(xn=Lb(this,q),xn==ef){At==4&&(this.s=4,Ot(14),m=!1),so(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==hv){this.s=4,Ot(15),so(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else so(this.i,this.l,xn,null),rf(this,xn);if(gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||q.length!=0||this.h.h||(this.s=1,Ot(16),m=!1),this.o=this.o&&m,!m)so(this.i,this.l,q,"[Invalid Chunked Response]"),_i(this),Ts(this);else if(0<q.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),cf(bt),bt.M=!0,Ot(11))}}else so(this.i,this.l,q,null),rf(this,q);At==4&&_i(this),this.o&&!this.J&&(At==4?jv(this.j,this):(this.o=!1,Dl(this)))}else tA(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),_i(this),Ts(this)}}}catch{}finally{}};function gv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lb(u,p){var m=u.C,w=p.indexOf(`
`,m);return w==-1?ef:(m=Number(p.substring(m,w)),isNaN(m)?hv:(w+=1,w+m>p.length?ef:(p=p.slice(w,w+m),u.C=w+m,p)))}br.prototype.cancel=function(){this.J=!0,_i(this)};function Dl(u){u.S=Date.now()+u.I,mv(u,u.I)}function mv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ws(h(u.ba,u),p)}function nf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}br.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Mb(this.i,this.A),this.L!=2&&(Es(),Ot(17)),_i(this),this.s=2,Ts(this)):mv(this,this.S-u)};function Ts(u){u.j.G==0||u.J||jv(u.j,u)}function _i(u){nf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Al(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function rf(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||of(m.h,u))){if(!u.K&&of(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Ll(m),Ml(m);else break e;uf(m),Ot(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=ws(h(m.Za,m),6e3));if(1>=_v(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else wi(m,11)}else if((u.K||m.g==u)&&Ll(m),!y(p))for(V=m.Da.g.parse(p),p=0;p<V.length;p++){let be=V[p];if(m.T=be[0],be=be[1],m.G==2)if(be[0]=="c"){m.K=be[1],m.ia=be[2];const bt=be[3];bt!=null&&(m.la=bt,m.j.info("VER="+m.la));const At=be[4];At!=null&&(m.Aa=At,m.j.info("SVER="+m.Aa));const uo=be[5];uo!=null&&typeof uo=="number"&&0<uo&&(w=1.5*uo,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const xn=u.g;if(xn){const $l=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var L=w.h;L.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(sf(L,L.h),L.h=null))}if(w.D){const df=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;df&&(w.ya=df,Ve(w.I,w.D,df))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var q=u;if(w.qa=Wv(w,w.J?w.ia:null,w.W),q.K){Ev(w.h,q);var De=q,pt=w.L;pt&&(De.I=pt),De.B&&(nf(De),Dl(De)),w.g=q}else $v(w);0<m.i.length&&Fl(m)}else be[0]!="stop"&&be[0]!="close"||wi(m,7);else m.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?wi(m,7):lf(m):be[0]!="noop"&&m.l&&m.l.ta(be),m.v=0)}}Es(4)}catch{}}var Bb=class{constructor(u,p){this.g=u,this.map=p}};function vv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _v(u){return u.h?1:u.g?u.g.size:0}function of(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function sf(u,p){u.g?u.g.add(p):u.h=p}function Ev(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}vv.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return T(u.i)}function $b(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,w=0;w<m;w++)p.push(u[w]);return p}p=[],m=0;for(w in u)p[m++]=u[w];return p}function Ub(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const w in u)p[m++]=w;return p}}}function Sv(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=Ub(u),w=$b(u),V=w.length,L=0;L<V;L++)p.call(void 0,w[L],m&&m[L],u)}var Tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jb(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),V=null;if(0<=w){var L=u[m].substring(0,w);V=u[m].substring(w+1)}else L=u[m];p(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,Rl(this,u.j),this.o=u.o,this.g=u.g,kl(this,u.s),this.l=u.l;var p=u.i,m=new As;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Iv(this,m),this.m=u.m}else u&&(p=String(u).match(Tv))?(this.h=!1,Rl(this,p[1]||"",!0),this.o=Is(p[2]||""),this.g=Is(p[3]||"",!0),kl(this,p[4]),this.l=Is(p[5]||"",!0),Iv(this,p[6]||"",!0),this.m=Is(p[7]||"")):(this.h=!1,this.i=new As(null,this.h))}Ei.prototype.toString=function(){var u=[],p=this.j;p&&u.push(bs(p,bv,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(bs(p,bv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(bs(m,m.charAt(0)=="/"?Wb:Hb,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",bs(m,qb)),u.join("")};function ir(u){return new Ei(u)}function Rl(u,p,m){u.j=m?Is(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function kl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Iv(u,p,m){p instanceof As?(u.i=p,Kb(u.i,u.h)):(m||(p=bs(p,Gb)),u.i=new As(p,u.h))}function Ve(u,p,m){u.i.set(p,m)}function Nl(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Is(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bs(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,zb),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zb(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bv=/[#\/\?@]/g,Hb=/[#\?:]/g,Wb=/[#\?]/g,Gb=/[#\?@]/g,qb=/#/g;function As(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ar(u){u.g||(u.g=new Map,u.h=0,u.i&&jb(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=As.prototype,t.add=function(u,p){Ar(this),this.i=null,u=ao(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Av(u,p){Ar(u),p=ao(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Cv(u,p){return Ar(u),p=ao(u,p),u.g.has(p)}t.forEach=function(u,p){Ar(this),this.g.forEach(function(m,w){m.forEach(function(V){u.call(p,V,w,this)},this)},this)},t.na=function(){Ar(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){const V=u[w];for(let L=0;L<V.length;L++)m.push(p[w])}return m},t.V=function(u){Ar(this);let p=[];if(typeof u=="string")Cv(this,u)&&(p=p.concat(this.g.get(ao(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Ar(this),this.i=null,u=ao(this,u),Cv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Pv(u,p,m){Av(u,p),0<m.length&&(u.i=null,u.g.set(ao(u,p),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];const L=encodeURIComponent(String(w)),q=this.V(w);for(w=0;w<q.length;w++){var V=L;q[w]!==""&&(V+="="+encodeURIComponent(String(q[w]))),u.push(V)}}return this.i=u.join("&")};function ao(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Kb(u,p){p&&!u.j&&(Ar(u),u.i=null,u.g.forEach(function(m,w){var V=w.toLowerCase();w!=V&&(Av(this,w),Pv(this,V,m))},u)),u.j=p}function Qb(u,p){const m=new Ss;if(a.Image){const w=new Image;w.onload=g(Cr,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(Cr,m,"TestLoadImage: error",!1,p,w),w.onabort=g(Cr,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(Cr,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Yb(u,p){const m=new Ss,w=new AbortController,V=setTimeout(()=>{w.abort(),Cr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(L=>{clearTimeout(V),L.ok?Cr(m,"TestPingServer: ok",!0,p):Cr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Cr(m,"TestPingServer: error",!1,p)})}function Cr(u,p,m,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(m)}catch{}}function Xb(){this.g=new Nb}function Jb(u,p,m){const w=m||"";try{Sv(u,function(V,L){let q=V;c(V)&&(q=oo(V)),p.push(w+L+"="+encodeURIComponent(q))})}catch(V){throw p.push(w+"type="+encodeURIComponent("_badmap")),V}}function Cs(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Cs,Yd),Cs.prototype.g=function(){return new Ol(this.l,this.j)},Cs.prototype.i=function(u){return function(){return u}}({});function Ol(u,p){ge.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ol,ge),t=Ol.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,xs(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ps(this):xs(this),this.readyState==3&&xv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},t.Qa=function(u){this.g&&(this.response=u,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xs(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function xs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dv(u){let p="";return M(u,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function af(u,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Dv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ve(u,p,m))}function qe(u){ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(qe,ge);var Zb=/^https?$/i,eA=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zd.g(),this.v=this.o?ov(this.o):ov(Zd),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){Rv(this,L);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)m.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())m.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eA,p,void 0))||w||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of m)this.g.setRequestHeader(L,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ov(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Rv(this,L)}};function Rv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,kv(u),Vl(u)}function kv(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nv(this):this.bb())},t.bb=function(){Nv(this)};function Nv(u){if(u.h&&typeof s<"u"&&(!u.v[1]||or(u)!=4||u.Z()!=2)){if(u.u&&or(u)==4)bl(u.Ea,0,u);else if(Ce(u,"readystatechange"),or(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=q===0){var V=String(u.D).match(Tv)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!Zb.test(V?V.toLowerCase():"")}m=w}if(m)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var L=2<or(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",kv(u)}}finally{Vl(u)}}}}function Vl(u,p){if(u.g){Ov(u);const m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ce(u,"ready");try{m.onreadystatechange=w}catch{}}}function Ov(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),kb(p)}};function Vv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tA(u){const p={};u=(u.g&&2<=or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(y(u[w]))continue;var m=D(u[w]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[V]||[];p[V]=L,L.push(m)}b(p,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Mv(u){this.Aa=0,this.i=[],this.j=new Ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,u),this.cb=Ds("retryDelaySeedMs",1e4,u),this.Wa=Ds("forwardChannelMaxRetries",2,u),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(u&&u.concurrentRequestLimit),this.Da=new Xb,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mv.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,w){Ot(0),this.W=u,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=Wv(this,null,this.W),Fl(this)};function lf(u){if(Fv(u),u.G==3){var p=u.U++,m=ir(u.I);if(Ve(m,"SID",u.K),Ve(m,"RID",p),Ve(m,"TYPE","terminate"),Rs(u,m),p=new br(u,u.j,p),p.L=2,p.v=Nl(ir(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=Gv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Dl(p)}Hv(u)}function Ml(u){u.g&&(cf(u),u.g.cancel(),u.g=null)}function Fv(u){Ml(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ll(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fl(u){if(!yv(u.h)&&!u.s){u.s=!0;var p=u.Ga;ve||K(),z||(ve(),z=!0),X.add(p,u),u.B=0}}function nA(u,p){return _v(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ws(h(u.Ga,u,p),zv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new br(this,this.j,u);let L=this.o;if(this.S&&(L?(L=E(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Bv(this,V,p),m=ir(this.I),Ve(m,"RID",u),Ve(m,"CVER",22),this.D&&Ve(m,"X-HTTP-Session-Id",this.D),Rs(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(Dv(L)))+"&"+p:this.m&&af(m,this.m,L)),sf(this.h,V),this.Ua&&Ve(m,"TYPE","init"),this.P?(Ve(m,"$req",p),Ve(m,"SID","null"),V.T=!0,tf(V,m,null)):tf(V,m,p),this.G=2}}else this.G==3&&(u?Lv(this,u):this.i.length==0||yv(this.h)||Lv(this))};function Lv(u,p){var m;p?m=p.l:m=u.U++;const w=ir(u.I);Ve(w,"SID",u.K),Ve(w,"RID",m),Ve(w,"AID",u.T),Rs(u,w),u.m&&u.o&&af(w,u.m,u.o),m=new br(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Bv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sf(u.h,m),tf(m,w,p)}function Rs(u,p){u.H&&M(u.H,function(m,w){Ve(p,w,m)}),u.l&&Sv({},function(m,w){Ve(p,w,m)})}function Bv(u,p,m){m=Math.min(u.i.length,m);var w=u.l?h(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const q=["count="+m];L==-1?0<m?(L=V[0].g,q.push("ofs="+L)):L=0:q.push("ofs="+L);let De=!0;for(let pt=0;pt<m;pt++){let be=V[pt].g;const bt=V[pt].map;if(be-=L,0>be)L=Math.max(0,V[pt].g-100),De=!1;else try{Jb(bt,q,"req"+be+"_")}catch{w&&w(bt)}}if(De){w=q.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,w}function $v(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ve||K(),z||(ve(),z=!0),X.add(p,u),u.v=0}}function uf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ws(h(u.Fa,u),zv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ws(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Ml(this),Uv(this))};function cf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Uv(u){u.g=new br(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ir(u.qa);Ve(p,"RID","rpc"),Ve(p,"SID",u.K),Ve(p,"AID",u.T),Ve(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(p,"TO",u.ja),Ve(p,"TYPE","xmlhttp"),Rs(u,p),u.m&&u.o&&af(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Nl(ir(p)),m.m=null,m.P=!0,pv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),uf(this),Ot(19))};function Ll(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function jv(u,p){var m=null;if(u.g==p){Ll(u),cf(u),u.g=null;var w=2}else if(of(u.h,p))m=p.D,Ev(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;w=Cl(),Ce(w,new cv(w,m)),Fl(u)}else $v(u);else if(V=p.s,V==3||V==0&&0<p.X||!(w==1&&nA(u,p)||w==2&&uf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),V){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function zv(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function wi(u,p){if(u.j.info("Error code "+p),p==2){var m=h(u.fb,u),w=u.Xa;const V=!w;w=new Ei(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rl(w,"https"),Nl(w),V?Qb(w.toString(),m):Yb(w.toString(),m)}else Ot(2);u.G=0,u.l&&u.l.sa(p),Hv(u),Fv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Hv(u){if(u.G=0,u.ka=[],u.l){const p=wv(u.h);(p.length!=0||u.i.length!=0)&&(C(u.ka,p),C(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Wv(u,p,m){var w=m instanceof Ei?ir(m):new Ei(m);if(w.g!="")p&&(w.g=p+"."+w.g),kl(w,w.s);else{var V=a.location;w=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var L=new Ei(null);w&&Rl(L,w),p&&(L.g=p),V&&kl(L,V),m&&(L.l=m),w=L}return m=u.D,p=u.ya,m&&p&&Ve(w,m,p),Ve(w,"VER",u.la),Rs(u,w),w}function Gv(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new qe(new Cs({eb:m})):new qe(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qv(){}t=qv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bl(){}Bl.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){ge.call(this),this.g=new Mv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new lo(this)}v(Zt,ge),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){lf(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=oo(u),u=m);p.i.push(new Bb(p.Ya++,u)),p.G==3&&Fl(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,Zt.aa.N.call(this)};function Kv(u){Xd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Kv,Xd);function Qv(){Jd.call(this),this.status=1}v(Qv,Jd);function lo(u){this.g=u}v(lo,qv),lo.prototype.ua=function(){Ce(this.g,"a")},lo.prototype.ta=function(u){Ce(this.g,new Kv(u))},lo.prototype.sa=function(u){Ce(this.g,new Qv)},lo.prototype.ra=function(){Ce(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,uT=function(){return new Bl},lT=function(){return Cl()},aT=yi,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,xu=Pl,dv.COMPLETE="complete",sT=dv,sv.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Ys=sv,oT=Cs,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,iT=qe}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fs="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new X1("@firebase/firestore");function zs(){return qi.logLevel}function ee(t,...e){if(qi.logLevel<=Se.DEBUG){const n=e.map(vm);qi.debug(`Firestore (${fs}): ${t}`,...n)}}function _r(t,...e){if(qi.logLevel<=Se.ERROR){const n=e.map(vm);qi.error(`Firestore (${fs}): ${t}`,...n)}}function Ko(t,...e){if(qi.logLevel<=Se.WARN){const n=e.map(vm);qi.warn(`Firestore (${fs}): ${t}`,...n)}}function vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Re(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class UO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jO{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Dt(e)}}class zO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new WO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ot(0,0))}static max(){return new ce(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ga.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ga?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Ga{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ga{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return KO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}function QO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ii(i,se.empty(),e)}function YO(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(ce.min(),se.empty(),-1)}static max(){return new ii(ce.max(),se.empty(),-1)}}function XO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==JO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function eV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ym.oe=-1;function wd(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function tV(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=o??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new rn([])}unionWith(e){let n=new St(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hT("Invalid base64 string: "+o):o}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(Re(!!t),typeof t=="string"){let e=0;const n=nV.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Em(t){const e=t.mapValue.fields.__previous_value__;return _m(e)?Em(e):e}function qa(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ka("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ka&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:iV(t)?9007199254740991:10:ue()}function tr(t,e){if(t===e)return!0;const n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qa(t).isEqual(qa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=oi(i.timestampValue),a=oi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?_c(s)===_c(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(o_(s)!==o_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!tr(s[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function Qa(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Qi(t),r=Qi(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ze(o.integerValue||o.doubleValue),l=Ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(qa(t),qa(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ki(o),l=Ki(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ae(a[c],l[c]);if(d!==0)return d}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ae(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Ae(Ze(o.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Yo(a[c],l[c]);if(d)return d}return Ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cu.mapValue&&s===cu.mapValue)return 0;if(o===cu.mapValue)return 1;if(s===cu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ae(l[f],d[f]);if(h!==0)return h;const g=Yo(a[l[f]],c[d[f]]);if(g!==0)return g}return Ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ue()}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=oi(t),r=oi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Xo(t){return _p(t)}function _p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_p(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_p(n.fields[s])}`;return i+"}"}(t.mapValue):ue()}function Ep(t){return!!t&&"integerValue"in t}function wm(t){return!!t&&"arrayValue"in t}function l_(t){return!!t&&"nullValue"in t}function u_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ha(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Gt(ha(this.value))}}function pT(t){const e=[];return eo(t.fields,(n,r)=>{const i=new _t([n]);if(Du(r)){const o=pT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ce.min(),ce.min(),ce.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ce.min(),ce.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ce.min(),ce.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function c_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(s.referenceValue),n.key):r=Yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function oV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class rt extends gT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aV(e,n,r):n==="array-contains"?new cV(e,r):n==="in"?new dV(e,r):n==="not-in"?new fV(e,r):n==="array-contains-any"?new hV(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lV(e,r):new uV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends gT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mT(t){return t.op==="and"}function vT(t){return sV(t)&&mT(t)}function sV(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function wp(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(vT(t))return t.filters.map(e=>wp(e)).join(",");{const e=t.filters.map(n=>wp(n)).join(",");return`${t.op}(${e})`}}function yT(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yT(s,i.filters[a]),!0):!1}(t,e):void ue()}function _T(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(t):"Filter"}class aV extends rt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class lV extends rt{constructor(e,n){super(e,"in",n),this.keys=ET("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uV extends rt{constructor(e,n){super(e,"not-in",n),this.keys=ET("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ET(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class cV extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wm(n)&&Qa(n.arrayValue,this.value)}}class dV extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}}class fV extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}}class hV extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function f_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pV(t,e,n,r,i,o,s)}function Sm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.ue=n}return e.ue}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function Sp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gV(t,e,n,r,i,o,s,a){return new Sd(t,e,n,r,i,o,s,a)}function Td(t){return new Sd(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mV(t){return t.collectionGroup!==null}function pa(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(_t.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wc(o,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new wc(_t.keyField(),r))}return e.ce}function Xn(t){const e=de(t);return e.le||(e.le=vV(e,pa(t))),e.le}function vV(t,e){if(t.limitType==="F")return f_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new wc(i.field,o)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return f_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tp(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Id(t,e){return Tm(Xn(t),Xn(e))&&t.limitType===e.limitType}function wT(t){return`${Sm(Xn(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_T(i)).join(", ")}]`),wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xo(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of pa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=c_(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,pa(r),i)||r.endAt&&!function(s,a,l){const c=c_(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,pa(r),i))}(t,e)}function yV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ST(t){return(e,n)=>{let r=!1;for(const i of pa(t)){const o=_V(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _V(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Yo(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Ge(se.comparator);function Er(){return EV}const TT=new Ge(se.comparator);function Xs(...t){let e=TT;for(const n of t)e=e.insert(n.key,n);return e}function IT(t){let e=TT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return ga()}function bT(){return ga()}function ga(){return new hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const wV=new Ge(se.comparator),SV=new St(se.comparator);function ye(...t){let e=SV;for(const n of t)e=e.add(n);return e}const TV=new St(Ae);function IV(){return TV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function CT(t){return{integerValue:""+t}}function bV(t,e){return tV(e)?CT(e):AT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function AV(t,e,n){return t instanceof Sc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_m(o)&&(o=Em(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Jo?xT(t,e):t instanceof Zo?DT(t,e):function(i,o){const s=PT(i,o),a=p_(s)+p_(i.Pe);return Ep(s)&&Ep(i.Pe)?CT(a):AT(i.serializer,a)}(t,e)}function CV(t,e,n){return t instanceof Jo?xT(t,e):t instanceof Zo?DT(t,e):n}function PT(t,e){return t instanceof Tc?function(r){return Ep(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Sc extends Ad{}class Jo extends Ad{constructor(e){super(),this.elements=e}}function xT(t,e){const n=RT(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zo extends Ad{constructor(e){super(),this.elements=e}}function DT(t,e){let n=RT(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Tc extends Ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function p_(t){return Ze(t.integerValue||t.doubleValue)}function RT(t){return wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.field=e,this.transform=n}}function PV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jo&&i instanceof Jo||r instanceof Zo&&i instanceof Zo?Qo(r.elements,i.elements,tr):r instanceof Tc&&i instanceof Tc?tr(r.Pe,i.Pe):r instanceof Sc&&i instanceof Sc}(t.transform,e.transform)}class xV{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cd{}function NT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VT(t.key,Jn.none()):new ml(t.key,t.data,Jn.none());{const n=t.data,r=Gt.empty();let i=new St(_t.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hi(t.key,r,new rn(i.toArray()),Jn.none())}}function DV(t,e,n){t instanceof ml?function(i,o,s){const a=i.value.clone(),l=m_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(i,o,s){if(!Ru(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=m_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(OT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof ml?function(o,s,a,l){if(!Ru(o.precondition,s))return a;const c=o.value.clone(),d=v_(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(o,s,a,l){if(!Ru(o.precondition,s))return a;const c=v_(o.fieldTransforms,l,s),d=s.data;return d.setAll(OT(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ru(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function RV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PT(r.transform,i||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,o))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(o,s)=>PV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends Cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hi extends Cd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m_(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,CV(s,a,n[i]))}return r}function v_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,AV(o,s,e))}return r}class VT extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kV extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&DV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=NT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>g_(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>g_(n,r))}}class Im{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return wV}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Im(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Ee;function MV(t){switch(t){default:return ue();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function MT(t){if(t===void 0)return _r("GRPC error has no .code"),$.UNKNOWN;switch(t){case Je.OK:return $.OK;case Je.CANCELLED:return $.CANCELLED;case Je.UNKNOWN:return $.UNKNOWN;case Je.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Je.INTERNAL:return $.INTERNAL;case Je.UNAVAILABLE:return $.UNAVAILABLE;case Je.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Je.NOT_FOUND:return $.NOT_FOUND;case Je.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Je.ABORTED:return $.ABORTED;case Je.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Je.DATA_LOSS:return $.DATA_LOSS;default:return ue()}}(Ee=Je||(Je={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Li([4294967295,4294967295],0);function y_(t){const e=FV().encode(t),n=new rT;return n.update(e),new Uint8Array(n.digest())}function __(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,o],0)]}class bm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Js(`Invalid padding: ${n}`);if(r<0)throw new Js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Js(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Li.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(LV)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=y_(e),[r,i]=__(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new bm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=y_(e),[r,i]=__(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pd(ce.min(),i,new Ge(Ae),Er(),ye())}}class vl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FT{constructor(e,n){this.targetId=e,this.me=n}}class LT{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.fe=0,this.ge=S_(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new vl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=S_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=w_(),this.Qe=new Ge(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Sp(o))if(r===0){const s=new se(o.path);this.Ue(n,s,kt.newNoDocument(s,ce.min()))}else Re(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ki(r).toUint8Array()}catch(l){if(l instanceof hT)return Ko("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bm(s,i,o)}catch(l){return Ko(l instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Sp(a.target)){const l=new se(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,kt.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Pd(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=w_(),this.Qe=new Ge(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new E_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new E_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w_(){return new Ge(se.comparator)}function S_(){return new Ge(se.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},UV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jV={and:"AND",or:"OR"};class zV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ip(t,e){return t.useProto3Json||wd(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HV(t,e){return Ic(t,e.toTimestamp())}function Zn(t){return Re(!!t),ce.fromTimestamp(function(n){const r=oi(n);return new ot(r.seconds,r.nanos)}(t))}function Am(t,e){return bp(t,e).canonicalString()}function bp(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $T(t){const e=Ue.fromString(t);return Re(WT(e)),e}function Ap(t,e){return Am(t.databaseId,e.path)}function eh(t,e){const n=$T(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(jT(n))}function UT(t,e){return Am(t.databaseId,e)}function WV(t){const e=$T(t);return e.length===4?Ue.emptyPath():jT(e)}function Cp(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jT(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T_(t,e,n){return{name:Ap(t,e),fields:n.value.mapValue.fields}}function GV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Re(d===void 0||typeof d=="string"),It.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array),It.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?$.UNKNOWN:MT(c.code);return new ie(d,c.message||"")}(s);n=new LT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eh(t,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):ce.min(),a=new Gt({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ku(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eh(t,r.document),o=r.readTime?Zn(r.readTime):ce.min(),s=kt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ku([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eh(t,r.document),o=r.removedTargetIds||[];n=new ku([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new VV(i,o),a=r.targetId;n=new FT(a,s)}}return n}function qV(t,e){let n;if(e instanceof ml)n={update:T_(t,e.key,e.value)};else if(e instanceof VT)n={delete:Ap(t,e.key)};else if(e instanceof hi)n={update:T_(t,e.key,e.data),updateMask:nM(e.fieldMask)};else{if(!(e instanceof kV))return ue();n={verify:Ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:HV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(t,e.precondition)),n}function KV(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zn(i.updateTime):Zn(o);return s.isEqual(ce.min())&&(s=Zn(o)),new xV(s,i.transformResults||[])}(n,e))):[]}function QV(t,e){return{documents:[UT(t,e.path)]}}function YV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UT(t,i);const o=function(c){if(c.length!==0)return HT(nr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:go(h.field),direction:ZV(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ip(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function XV(t){let e=WV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=zT(f);return h instanceof nr&&vT(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new wc(mo(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,wd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Ec(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Ec(g,h)}(n.endAt)),gV(e,i,s,o,a,"F",l,c)}function JV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mo(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mo(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>zT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function ZV(t){return $V[t]}function eM(t){return UV[t]}function tM(t){return jV[t]}function go(t){return{fieldPath:t.canonicalString()}}function mo(t){return _t.fromServerFormat(t.fieldPath)}function HT(t){return t instanceof rt?function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:eM(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>HT(i));return r.length===1?r[0]:{compositeFilter:{op:tM(n.op),filters:r}}}(t):ue()}function nM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.ct=e}}function iM(t){const e=XV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.an=new sM}addToCollectionParentIndex(e,n){return this.an.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ii.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new es(0)}static Bn(){return new es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ma(r.mutation,i,rn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Er();const s=ga(),a=function(){return ga()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof hi)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),ma(d.mutation,c,d.mutation.getFieldMask(),ot.now())):s.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new lM(d,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ga();let i=new Ge((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||rn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=bT();d.forEach(h=>{if(!o.has(h)){const g=NT(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Ni());let a=-1,l=o;return s.next(c=>U.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ye())).next(d=>({batchId:a,changes:IT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Xs();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,l=>{const c=function(f,h){return new Sd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,kt.newInvalidDocument(d)))});let a=Xs();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&ma(d.mutation,c,rn.empty(),ot.now()),bd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return U.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:iM(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.overlays=new Ge(se.comparator),this.Pr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ni(),o=n.length+1,s=new se(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Ni(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ni(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new OV(n,r));let o=this.Pr.get(n);o===void 0&&(o=ye(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.Ir=new St(at.Tr),this.Er=new St(at.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new at(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new at(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new se(new Ue([])),r=new at(n,e),i=new at(n,e+1),o=[];return this.Er.forEachInRange([r,i],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new se(new Ue([])),r=new at(n,e),i=new at(n,e+1);let o=ye();return this.Er.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new at(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return se.comparator(e.key,n.key)||Ae(e.yr,n.yr)}static dr(e,n){return Ae(e.yr,n.yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new St(at.Tr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new NV(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Sr=this.Sr.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],s=>{const a=this.br(s.yr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Ae);return n.forEach(i=>{const o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],a=>{r=r.add(a.yr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const s=new at(new se(o),0);let a=new St(Ae);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.yr)),!0)},s),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return U.forEach(n.mutations,i=>{const o=new at(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new at(n,0),i=this.Sr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.Fr=e,this.docs=function(){return new Ge(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const s=n.path,a=new se(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||XO(YO(d),r)<=0||(i.has(d.key)||bd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Mr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gM(this)}getSize(e){return U.resolve(this.size)}}class gM extends aM{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.persistence=e,this.Or=new hs(n=>Sm(n),Tm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Cm,this.targetCount=0,this.Br=es.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),U.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new es(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Qn(n),U.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.kr={},this.overlays={},this.qr=new ym(0),this.Qr=!1,this.Qr=!0,this.Kr=new fM,this.referenceDelegate=e(this),this.$r=new mM(this),this.indexManager=new oM,this.remoteDocumentCache=function(i){return new pM(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new rM(n),this.Wr=new cM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new hM(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new yM(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(o=>this.referenceDelegate.zr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}jr(e,n){return U.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class yM extends ZO{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Hr=new Cm,this.Jr=null}static Yr(e){return new Pm(e)}get Zr(){if(this.Jr)return this.Jr;throw ue()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Zr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Zr,r=>{const i=se.fromPath(r);return this.Xr(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return U.or([()=>U.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=ye(),i=ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return T2()?8:eV(w2())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _M;return this.Zi(e,n,s).next(a=>{if(o.result=a,this.Gi)return this.Xi(e,n,s,a.size)})}).next(()=>o.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(zs()<=Se.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),U.resolve()):(zs()<=Se.DEBUG&&ee("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(zs()<=Se.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):U.resolve())}Ji(e,n){if(h_(n))return U.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tp(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ye(...o);return this.Hi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.es(n,a);return this.ts(n,c,s,l.readTime)?this.Ji(e,Tp(n,null,"F")):this.ns(e,c,n,l)}))})))}Yi(e,n,r,i){return h_(n)||i.isEqual(ce.min())?U.resolve(null):this.Hi.getDocuments(e,r).next(o=>{const s=this.es(n,o);return this.ts(n,s,r,i)?U.resolve(null):(zs()<=Se.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),po(n)),this.ns(e,s,n,QO(i,-1)).next(a=>a))})}es(e,n){let r=new St(ST(e));return n.forEach((i,o)=>{bd(e,o)&&(r=r.add(o))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Zi(e,n,r){return zs()<=Se.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",po(n)),this.Hi.getDocumentsMatchingQuery(e,n,ii.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new Ge(Ae),this.os=new hs(o=>Sm(o),Tm),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uM(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function SM(t,e,n,r){return new wM(t,e,n,r)}async function GT(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ye();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function TM(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let g=U.resolve();return h.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(T=>{const C=c.docVersions.get(v);Re(C!==null),T.version.compareTo(C)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qT(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function IM(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.$r.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.$r.addMatchingKeys(o,d.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(T,C,_){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,d)&&a.push(n.$r.updateTargetData(o,g))});let l=Er(),c=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(bM(o,s,e.documentUpdates).next(d=>{l=d.hs,c=d.Ps})),!r.isEqual(ce.min())){const d=n.$r.getLastRemoteSnapshotVersion(o).next(f=>n.$r.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ss=i,o))}function bM(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:s,Ps:i}})}function AM(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CM(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.$r.allocateTargetId(r).next(s=>(i=new Fr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Pp(t,e,n){const r=de(t),i=r.ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gl(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function I_(t,e,n){const r=de(t);let i=ce.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=de(l),h=f.os.get(d);return h!==void 0?U.resolve(f.ss.get(h)):f.$r.getTargetData(c,d)}(r,s,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.rs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ye())).next(a=>(PM(r,yV(e),a),{documents:a,Is:o})))}function PM(t,e,n){let r=t._s.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t._s.set(e,r)}class b_{constructor(){this.activeTargetIds=IV()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xM{constructor(){this.io=new b_,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new b_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function th(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class NM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get vo(){return!1}Fo(n,r,i,o,s){const a=th(),l=this.Mo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,o,s),this.Oo(n,l,c,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ko("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}No(n,r,i,o,s,a){return this.Fo(n,r,i,o,s)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Mo(n,r){const i=RM[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const o=th();return new Promise((s,a)=>{const l=new iT;l.setWithCredentials(!0),l.listenOnce(sT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xu.NO_ERROR:const d=l.getResponseJson();ee(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case xu.TIMEOUT:ee(xt,`RPC '${e}' ${o} timed out`),a(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const f=l.getStatus();if(ee(xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const v=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(g.status);a(new ie(v,g.message))}else a(new ie($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie($.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(xt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ee(xt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=th(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uT(),a=lT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new oT({})),this.xo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ee(xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let h=!1,g=!1;const v=new kM({Po:C=>{g?ee(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(h||(ee(xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ee(xt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Io:()=>f.close()}),T=(C,_,y)=>{C.listen(_,S=>{try{y(S)}catch(x){setTimeout(()=>{throw x},0)}})};return T(f,Ys.EventType.OPEN,()=>{g||(ee(xt,`RPC '${e}' stream ${i} transport opened.`),v.po())}),T(f,Ys.EventType.CLOSE,()=>{g||(g=!0,ee(xt,`RPC '${e}' stream ${i} transport closed`),v.wo())}),T(f,Ys.EventType.ERROR,C=>{g||(g=!0,Ko(xt,`RPC '${e}' stream ${i} transport errored:`,C),v.wo(new ie($.UNAVAILABLE,"The operation could not be completed")))}),T(f,Ys.EventType.MESSAGE,C=>{var _;if(!g){const y=C.data[0];Re(!!y);const S=y,x=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(x){ee(xt,`RPC '${e}' stream ${i} received error:`,x);const O=x.status;let M=function(I){const P=Je[I];if(P!==void 0)return MT(P)}(O),b=x.message;M===void 0&&(M=$.INTERNAL,b="Unknown error status: "+O+" with message "+x.message),g=!0,v.wo(new ie(M,b)),f.close()}else ee(xt,`RPC '${e}' stream ${i} received:`,y),v.So(y)}}),T(a,aT.STAT_EVENT,C=>{C.stat===yp.PROXY?ee(xt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===yp.NOPROXY&&ee(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.yo()},0),v}}function nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new zV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,o,s,a,l){this.ai=e,this.jo=r,this.Ho=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new KT(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OM extends QT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=GV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Zn(s.readTime):ce.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Cp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Sp(l)?{documents:QV(o,l)}:{query:YV(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BT(o,s.resumeToken);const c=Ip(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Ic(o,s.snapshotVersion.toTimestamp());const c=Ip(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=JV(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Cp(this.serializer),n.removeTarget=e,this.__(n)}}class VM extends QT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=KV(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Cp(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qV(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(e,bp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}No(e,n,r,i,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.No(e,bp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class FM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(_r(n),this.b_=!1):ee("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(s=>{r.enqueueAndForget(async()=>{to(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.N_.add(4),await yl(c),c.k_.set("Unknown"),c.N_.delete(4),await Dd(c)}(this))})}),this.k_=new FM(r,i)}}async function Dd(t){if(to(t))for(const e of t.L_)await e(!0)}async function yl(t){for(const e of t.L_)await e(!1)}function YT(t,e){const n=de(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),Nm(n)?km(n):ps(n).n_()&&Rm(n,e))}function Dm(t,e){const n=de(t),r=ps(n);n.O_.delete(e),r.n_()&&XT(n,e),n.O_.size===0&&(r.n_()?r.s_():to(n)&&n.k_.set("Unknown"))}function Rm(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).d_(e)}function XT(t,e){t.q_.xe(e),ps(t).A_(e)}function km(t){t.q_=new BV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.k_.D_()}function Nm(t){return to(t)&&!ps(t).t_()&&t.O_.size>0}function to(t){return de(t).N_.size===0}function JT(t){t.q_=void 0}async function BM(t){t.k_.set("Online")}async function $M(t){t.O_.forEach((e,n)=>{Rm(t,e)})}async function UM(t,e){JT(t),Nm(t)?(t.k_.F_(e),km(t)):t.k_.set("Unknown")}async function jM(t,e,n){if(t.k_.set("Online"),e instanceof LT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.O_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.O_.delete(a),i.q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bc(t,r)}else if(e instanceof ku?t.q_.Ke(e):e instanceof FT?t.q_.He(e):t.q_.We(e),!n.isEqual(ce.min()))try{const r=await qT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.O_.get(c);d&&o.O_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.O_.get(l);if(!d)return;o.O_.set(l,d.withResumeToken(It.EMPTY_BYTE_STRING,d.snapshotVersion)),XT(o,l);const f=new Fr(d.target,l,c,d.sequenceNumber);Rm(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await bc(t,r)}}async function bc(t,e,n){if(!gl(e))throw e;t.N_.add(1),await yl(t),t.k_.set("Offline"),n||(n=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Dd(t)})}function ZT(t,e){return e().catch(n=>bc(t,n,e))}async function Rd(t){const e=de(t),n=si(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;zM(e);)try{const i=await AM(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,HM(e,i)}catch(i){await bc(e,i)}eI(e)&&tI(e)}function zM(t){return to(t)&&t.x_.length<10}function HM(t,e){t.x_.push(e);const n=si(t);n.n_()&&n.R_&&n.V_(e.mutations)}function eI(t){return to(t)&&!si(t).t_()&&t.x_.length>0}function tI(t){si(t).start()}async function WM(t){si(t).g_()}async function GM(t){const e=si(t);for(const n of t.x_)e.V_(n.mutations)}async function qM(t,e,n){const r=t.x_.shift(),i=Im.from(r,e,n);await ZT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rd(t)}async function KM(t,e){e&&si(t).R_&&await async function(r,i){if(function(s){return MV(s)&&s!==$.ABORTED}(i.code)){const o=r.x_.shift();si(r).i_(),await ZT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Rd(r)}}(t,e),eI(t)&&tI(t)}async function C_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=to(n);n.N_.add(3),await yl(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Dd(n)}async function QM(t,e){const n=de(t);e?(n.N_.delete(2),await Dd(n)):e||(n.N_.add(2),await yl(n),n.k_.set("Unknown"))}function ps(t){return t.Q_||(t.Q_=function(n,r,i){const o=de(n);return o.y_(),new OM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:BM.bind(null,t),Ao:$M.bind(null,t),Vo:UM.bind(null,t),E_:jM.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),Nm(t)?km(t):t.k_.set("Unknown")):(await t.Q_.stop(),JT(t))})),t.Q_}function si(t){return t.K_||(t.K_=function(n,r,i){const o=de(n);return o.y_(),new VM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:WM.bind(null,t),Vo:KM.bind(null,t),m_:GM.bind(null,t),f_:qM.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Rd(t)):(await t.K_.stop(),t.x_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Om(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(t,e){if(_r("AsyncQueue",`${e}: ${t}`),gl(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Xs(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.U_=new Ge(se.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):ue():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ts{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ts(e,n,Fo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class XM{constructor(){this.queries=x_(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=de(n),o=i.queries;i.queries=x_(),o.forEach((s,a)=>{for(const l of a.z_)l.onError(r)})})(this,new ie($.ABORTED,"Firestore shutting down"))}}function x_(){return new hs(t=>wT(t),Id)}async function nI(t,e){const n=de(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.j_()&&e.H_()&&(r=2):(o=new YM,r=e.H_()?0:1);try{switch(r){case 0:o.G_=await n.onListen(i,!0);break;case 1:o.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Vm(s,`Initialization of query '${po(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.z_.push(e),e.Y_(n.onlineState),o.G_&&e.Z_(o.G_)&&Mm(n)}async function rI(t,e){const n=de(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.z_.indexOf(e);s>=0&&(o.z_.splice(s,1),o.z_.length===0?i=e.H_()?0:1:!o.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JM(t,e){const n=de(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.z_)a.Z_(i)&&(r=!0);s.G_=i}}r&&Mm(n)}function ZM(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const o of i.z_)o.onError(n);r.queries.delete(e)}function Mm(t){t.J_.forEach(e=>{e.next()})}var xp,D_;(D_=xp||(xp={})).X_="default",D_.Cache="cache";class iI{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class eF{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=ye(),this.mutatedKeys=ye(),this.da=ST(e),this.Aa=new Fo(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new P_,i=n?n.Aa:this.Aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=bd(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;h&&g?h.data.isEqual(g.data)?v!==T&&(r.track({type:3,doc:g}),C=!0):this.fa(h,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.da(g,l)>0||c&&this.da(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),C=!0):h&&!g&&(r.track({type:1,doc:h}),C=!0,(l||c)&&(a=!0)),C&&(g?(s=s.add(g),o=T?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Aa:s,ma:r,ts:a,mutatedKeys:o}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const s=e.ma.W_();s.sort((d,f)=>function(g,v){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return T(g)-T(v)}(d.type,f.type)||this.da(d.doc,f.doc)),this.ga(r),i=i!=null&&i;const a=n&&!i?this.pa():[],l=this.Ea.size===0&&this.current&&!i?1:0,c=l!==this.Ta;return this.Ta=l,s.length!==0||c?{snapshot:new ts(this.query,e.Aa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new P_,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=ye(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new sI(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new oI(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=ye();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return ts.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class tF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nF{constructor(e){this.key=e,this.Da=!1}}class rF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new hs(a=>wT(a),Id),this.Fa=new Map,this.Ma=new Set,this.xa=new Ge(se.comparator),this.Oa=new Map,this.Na=new Cm,this.La={},this.Ba=new Map,this.ka=es.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function iF(t,e,n=!0){const r=fI(t);let i;const o=r.va.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ba()):i=await aI(r,e,n,!0),i}async function oF(t,e){const n=fI(t);await aI(n,e,!0,!1)}async function aI(t,e,n,r){const i=await CM(t.localStore,Xn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await sF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&YT(t.remoteStore,i),a}async function sF(t,e,n,r,i){t.Qa=(f,h,g)=>async function(T,C,_,y){let S=C.view.Va(_);S.ts&&(S=await I_(T.localStore,C.query,!1).then(({documents:b})=>C.view.Va(b,S)));const x=y&&y.targetChanges.get(C.targetId),O=y&&y.targetMismatches.get(C.targetId)!=null,M=C.view.applyChanges(S,T.isPrimaryClient,x,O);return k_(T,C.targetId,M.ya),M.snapshot}(t,f,h,g);const o=await I_(t.localStore,e,!0),s=new eF(e,o.Is),a=s.Va(o.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);k_(t,n,c.ya);const d=new tF(e,n,s);return t.va.set(e,d),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function aF(t,e,n){const r=de(t),i=r.va.get(e),o=r.Fa.get(i.targetId);if(o.length>1)return r.Fa.set(i.targetId,o.filter(s=>!Id(s,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dm(r.remoteStore,i.targetId),Dp(r,i.targetId)}).catch(pl)):(Dp(r,i.targetId),await Pp(r.localStore,i.targetId,!0))}async function lF(t,e){const n=de(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(n.remoteStore,r.targetId))}async function uF(t,e,n){const r=mF(t);try{const i=await function(s,a){const l=de(s),c=ot.now(),d=a.reduce((g,v)=>g.add(v.key),ye());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Er(),T=ye();return l.us.getEntries(g,d).next(C=>{v=C,v.forEach((_,y)=>{y.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(C=>{f=C;const _=[];for(const y of a){const S=RV(y,f.get(y.key).overlayedDocument);S!=null&&_.push(new hi(y.key,S,pT(S.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(C=>{h=C;const _=C.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(g,C.batchId,_)})}).then(()=>({batchId:h.batchId,changes:IT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.La[s.currentUser.toKey()];c||(c=new Ge(Ae)),c=c.insert(a,l),s.La[s.currentUser.toKey()]=c}(r,i.batchId,n),await _l(r,i.changes),await Rd(r.remoteStore)}catch(i){const o=Vm(i,"Failed to persist write");n.reject(o)}}async function lI(t,e){const n=de(t);try{const r=await IM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Oa.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Da=!0:i.modifiedDocuments.size>0?Re(s.Da):i.removedDocuments.size>0&&(Re(s.Da),s.Da=!1))}),await _l(n,r,e)}catch(r){await pl(r)}}function R_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((o,s)=>{const a=s.view.Y_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=de(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.z_)h.Y_(a)&&(c=!0)}),c&&Mm(l)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cF(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),o=i&&i.key;if(o){let s=new Ge(se.comparator);s=s.insert(o,kt.newNoDocument(o,ce.min()));const a=ye().add(o),l=new Pd(ce.min(),new Map,new Ge(Ae),s,a);await lI(r,l),r.xa=r.xa.remove(o),r.Oa.delete(e),Fm(r)}else await Pp(r.localStore,e,!1).then(()=>Dp(r,e,n)).catch(pl)}async function dF(t,e){const n=de(t),r=e.batch.batchId;try{const i=await TM(n.localStore,e);cI(n,r,null),uI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _l(n,i)}catch(i){await pl(i)}}async function fF(t,e,n){const r=de(t);try{const i=await function(s,a){const l=de(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Re(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cI(r,e,n),uI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _l(r,i)}catch(i){await pl(i)}}function uI(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function cI(t,e,n){const r=de(t);let i=r.La[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function Dp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||dI(t,r)})}function dI(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Dm(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),Fm(t))}function k_(t,e,n){for(const r of n)r instanceof oI?(t.Na.addReference(r.key,e),hF(t,r)):r instanceof sI?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||dI(t,r.key)):ue()}function hF(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Ma.add(r),Fm(t))}function Fm(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new se(Ue.fromString(e)),r=t.ka.next();t.Oa.set(r,new nF(n)),t.xa=t.xa.insert(n,r),YT(t.remoteStore,new Fr(Xn(Td(n.path)),r,"TargetPurposeLimboResolution",ym.oe))}}async function _l(t,e,n){const r=de(t),i=[],o=[],s=[];r.va.isEmpty()||(r.va.forEach((a,l)=>{s.push(r.Qa(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=xm.Ui(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ca.E_(i),await async function(l,c){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,h=>U.forEach(h.Ki,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>U.forEach(h.$i,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!gl(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=d.ss.get(h),v=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(v);d.ss=d.ss.insert(h,T)}}}(r.localStore,o))}async function pF(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await GT(n.localStore,e);n.currentUser=e,function(o,s){o.Ba.forEach(a=>{a.forEach(l=>{l.reject(new ie($.CANCELLED,s))})}),o.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _l(n,r.ls)}}function gF(t,e){const n=de(t),r=n.Oa.get(e);if(r&&r.Da)return ye().add(r.key);{let i=ye();const o=n.Fa.get(e);if(!o)return i;for(const s of o){const a=n.va.get(s);i=i.unionWith(a.view.Ra)}return i}}function fI(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cF.bind(null,e),e.Ca.E_=JM.bind(null,e.eventManager),e.Ca.Ka=ZM.bind(null,e.eventManager),e}function mF(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fF.bind(null,e),e}class N_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SM(this.persistence,new EM,e.initialUser,this.serializer)}createPersistence(e){return new vM(Pm.Yr,this.serializer)}createSharedClientState(e){return new xM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pF.bind(null,this.syncEngine),await QM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XM}()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=function(o){return new NM(o)}(e.databaseInfo);return function(o,s,a,l){return new MM(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new LM(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>R_(this.syncEngine,n,0),function(){return A_.D()?new A_:new DM}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new rF(i,o,s,a,l,c);return d&&(f.qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=de(i);ee("RemoteStore","RemoteStore shutting down."),o.N_.add(5),await yl(o),o.B_.shutdown(),o.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=dT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rh(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function O_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EF(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>C_(e.remoteStore,i)),t._onlineComponents=e}function _F(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function EF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_F(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await rh(t,new N_)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await rh(t,new N_);return t._offlineComponents}async function pI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await O_(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await O_(t,new vF))),t._onlineComponents}function wF(t){return pI(t).then(e=>e.syncEngine)}async function Rp(t){const e=await pI(t),n=e.eventManager;return n.onListen=iF.bind(null,e.syncEngine),n.onUnlisten=aF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lF.bind(null,e.syncEngine),n}function SF(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new hI({next:h=>{s.enqueueAndForget(()=>rI(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new ie($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new ie($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new iI(Td(a.path),d,{includeMetadataChanges:!0,oa:!0});return nI(o,f)}(await Rp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TF(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $O;switch(r.type){case"firstParty":return new HO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V_.get(n);r&&(ee("ComponentProvider","Removing Datastore"),V_.delete(n),r.terminate())}(this),Promise.resolve()}}function IF(t,e,n,r={}){var i;const o=(t=er(t,kd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=E2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(c)}t._authCredentials=new UO(new cT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nd(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class ei extends Nd{constructor(e,n,r){super(e,n,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new se(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function bF(t,e,...n){if(t=yr(t),mI("collection","path",e),t instanceof kd){const r=Ue.fromString(e,...n);return F_(r),new ei(t,null,r)}{if(!(t instanceof Bt||t instanceof ei))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return F_(r),new ei(t.firestore,null,r)}}function ih(t,e,...n){if(t=yr(t),arguments.length===1&&(e=dT.newId()),mI("doc","path",e),t instanceof kd){const r=Ue.fromString(e,...n);return M_(r),new Bt(t,null,new se(r))}{if(!(t instanceof Bt||t instanceof ei))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return M_(r),new Bt(t.firestore,t instanceof ei?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new KT(this,"async_queue_retry"),this.Tu=()=>{const n=nh();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=nh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Zr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!gl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=Om.createAndSchedule(this,e,n,r,o=>this.Ru(o));return this.cu.push(i),i}Eu(){this.lu&&ue()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function B_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ns extends kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new AF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vI(this),this._firestoreClient.terminate()}}function CF(t,e){const n=typeof t=="object"?t:PO(),r=typeof t=="string"?t:"(default)",i=IO(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=y2("firestore");o&&IF(i,...o)}return i}function Bm(t){return t._firestoreClient||vI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new rV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(It.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=/^__.*__$/;class xF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class yI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _I(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Vd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Ac(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(_I(this.yu)&&PF.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class DF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}Ou(e,n,r,i=!1){return new Vd({yu:e,methodName:n,xu:r,path:_t.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EI(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new DF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RF(t,e,n,r,i,o={}){const s=t.Ou(o.merge||o.mergeFields?2:0,e,n,i);zm("Data must be an object, but it was:",s,r);const a=SI(r,s);let l,c;if(o.merge)l=new rn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=kp(e,f,n);if(!s.contains(h))throw new ie($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);II(d,h)||d.push(h)}l=new rn(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new xF(new Gt(a),l,c)}class Md extends El{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function wI(t,e,n){return new Vd({yu:3,xu:e.settings.xu,methodName:t._methodName,bu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Um extends El{constructor(e,n){super(e),this.Nu=n}_toFieldTransform(e){const n=wI(this,e,!0),r=this.Nu.map(o=>gs(o,n)),i=new Jo(r);return new kT(e.path,i)}isEqual(e){return e instanceof Um&&za(this.Nu,e.Nu)}}class jm extends El{constructor(e,n){super(e),this.Nu=n}_toFieldTransform(e){const n=wI(this,e,!0),r=this.Nu.map(o=>gs(o,n)),i=new Zo(r);return new kT(e.path,i)}isEqual(e){return e instanceof jm&&za(this.Nu,e.Nu)}}function kF(t,e,n,r){const i=t.Ou(1,e,n);zm("Data must be an object, but it was:",i,r);const o=[],s=Gt.empty();eo(r,(l,c)=>{const d=Hm(e,l,n);c=yr(c);const f=i.Cu(d);if(c instanceof Md)o.push(d);else{const h=gs(c,f);h!=null&&(o.push(d),s.set(d,h))}});const a=new rn(o);return new yI(s,a,i.fieldTransforms)}function NF(t,e,n,r,i,o){const s=t.Ou(1,e,n),a=[kp(e,r,n)],l=[i];if(o.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(kp(e,o[h])),l.push(o[h+1]);const c=[],d=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!II(c,a[h])){const g=a[h];let v=l[h];v=yr(v);const T=s.Cu(g);if(v instanceof Md)c.push(g);else{const C=gs(v,T);C!=null&&(c.push(g),d.set(g,C))}}const f=new rn(c);return new yI(d,f,s.fieldTransforms)}function gs(t,e){if(TI(t=yr(t)))return zm("Unsupported field value:",e,t),SI(t,e);if(t instanceof El)return function(r,i){if(!_I(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=gs(a,i.vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:Ic(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,o)}}if(r instanceof $m)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:BT(i.serializer,r._byteString)};if(r instanceof Bt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Am(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Lm(r)}`)}(t,e)}function SI(t,e){const n={};return fT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,i)=>{const o=gs(i,e.Su(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof $m||t instanceof rs||t instanceof Bt||t instanceof El)}function zm(t,e,n){if(!TI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lm(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function kp(t,e,n){if((e=yr(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Hm(t,e);throw Ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const OF=new RegExp("[~\\*/\\[\\]]");function Hm(t,e,n){if(e.search(OF)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ac(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ie($.INVALID_ARGUMENT,a+t+l)}function II(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VF extends bI{data(){return super.data()}}function AI(t,e){return typeof e=="string"?Hm(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FF{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new $m(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qa(e));default:return null}}convertTimestamp(e){const n=oi(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Re(WT(r));const i=new Ka(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||_r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CI extends bI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nu extends CI{data(e={}){return super.data(e)}}class BF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nu(this._firestore,this._userDataWriter,r.key,r,new Zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:$F(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){t=er(t,Bt);const e=er(t.firestore,ns);return SF(Bm(e),t._key).then(n=>DI(e,t,n))}class PI extends FF{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function UF(t,e,n){t=er(t,Bt);const r=er(t.firestore,ns),i=LF(t.converter,e,n);return xI(r,[RF(EI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function U_(t,e,n,...r){t=er(t,Bt);const i=er(t.firestore,ns),o=EI(i);let s;return s=typeof(e=yr(e))=="string"||e instanceof Od?NF(o,"updateDoc",t._key,e,n,r):kF(o,"updateDoc",t._key,e),xI(i,[s.toMutation(t._key,Jn.exists(!0))])}function jF(t,...e){var n,r,i;t=yr(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(B_(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Bt)c=er(t.firestore,ns),d=Td(t._key.path),l={next:f=>{e[s]&&e[s](DI(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=er(t,Nd);c=er(f.firestore,ns),d=f._query;const h=new PI(c);l={next:g=>{e[s]&&e[s](new BF(c,h,f,g))},error:e[s+1],complete:e[s+2]},MF(t._query)}return function(h,g,v,T){const C=new hI(T),_=new iI(g,C,v);return h.asyncQueue.enqueueAndForget(async()=>nI(await Rp(h),_)),()=>{C.Ga(),h.asyncQueue.enqueueAndForget(async()=>rI(await Rp(h),_))}}(Bm(c),d,a,l)}function xI(t,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget(async()=>uF(await wF(r),i,o)),o.promise}(Bm(t),e)}function DI(t,e,n){const r=n.docs.get(e._key),i=new PI(t);return new CI(t,i,e._key,r,new Zs(n.hasPendingWrites,n.fromCache),e.converter)}function zF(...t){return new Um("arrayUnion",t)}function HF(...t){return new jm("arrayRemove",t)}(function(e,n=!0){(function(i){fs=i})(CO),yc(new Ha("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ns(new jO(r.getProvider("auth-internal")),new GO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Mo(i_,"4.6.5",e),Mo(i_,"4.6.5","esm2017")})();const WF={apiKey:"AIzaSyDUeE8ZDCWUQTkr_hBxacZaxqNCXjo6YJ4",authDomain:"todolist-ada53.firebaseapp.com",projectId:"todolist-ada53",storageBucket:"todolist-ada53.appspot.com",messagingSenderId:"641405580408",appId:"1:641405580408:web:620f1545ff6e689489e98d",measurementId:"G-NXNDLRNL7M"},GF=eT(WF),fu=CF(GF);var RI={exports:{}},kI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=N;function qF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KF=typeof Object.is=="function"?Object.is:qF,QF=wl.useSyncExternalStore,YF=wl.useRef,XF=wl.useEffect,JF=wl.useMemo,ZF=wl.useDebugValue;kI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=YF(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=JF(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&s.hasValue){var v=s.value;if(i(v,g))return f=v}return f=g}if(v=f,KF(d,g))return v;var T=r(g);return i!==void 0&&i(v,T)?v:(d=g,f=T)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=QF(t,o[0],o[1]);return XF(function(){s.hasValue=!0,s.value=a},[a]),ZF(a),a};RI.exports=kI;var eL=RI.exports,on="default"in Mu?G:Mu,j_=Symbol.for("react-redux-context"),z_=typeof globalThis<"u"?globalThis:{};function tL(){if(!on.createContext)return{};const t=z_[j_]??(z_[j_]=new Map);let e=t.get(on.createContext);return e||(e=on.createContext(null),t.set(on.createContext,e)),e}var ai=tL(),nL=()=>{throw new Error("uSES not initialized!")};function Wm(t=ai){return function(){return on.useContext(t)}}var NI=Wm(),OI=nL,rL=t=>{OI=t},iL=(t,e)=>t===e;function oL(t=ai){const e=t===ai?NI:Wm(t),n=(r,i={})=>{const{equalityFn:o=iL,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();on.useRef(!0);const h=on.useCallback({[r.name](v){return r(v)}}[r.name],[r,d,s.stabilityCheck]),g=OI(l.addNestedSub,a.getState,c||a.getState,h,o);return on.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var VI=oL();function sL(t){t()}function aL(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sL(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var H_={notify(){},get:()=>[]};function lL(t,e){let n,r=H_,i=0,o=!1;function s(T){d();const C=r.subscribe(T);let _=!1;return()=>{_||(_=!0,C(),f())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return o}function d(){i++,n||(n=t.subscribe(l),r=aL())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=H_)}function h(){o||(o=!0,d())}function g(){o&&(o=!1,f())}const v={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:g,getListeners:()=>r};return v}var uL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cL=typeof navigator<"u"&&navigator.product==="ReactNative",dL=uL||cL?on.useLayoutEffect:on.useEffect;function fL({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=on.useMemo(()=>{const c=lL(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[t,r,i,o]),a=on.useMemo(()=>t.getState(),[t]);dL(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||ai;return on.createElement(l.Provider,{value:s},n)}var hL=fL;function MI(t=ai){const e=t===ai?NI:Wm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var pL=MI();function gL(t=ai){const e=t===ai?pL:MI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var mL=gL();rL(eL.useSyncExternalStoreWithSelector);function mt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vL=typeof Symbol=="function"&&Symbol.observable||"@@observable",W_=vL,oh=()=>Math.random().toString(36).substring(7).split("").join("."),yL={INIT:`@@redux/INIT${oh()}`,REPLACE:`@@redux/REPLACE${oh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oh()}`},Cc=yL;function Gm(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function FI(t,e,n){if(typeof t!="function")throw new Error(mt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mt(1));return n(FI)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((C,_)=>{s.set(_,C)}))}function d(){if(l)throw new Error(mt(3));return i}function f(C){if(typeof C!="function")throw new Error(mt(4));if(l)throw new Error(mt(5));let _=!0;c();const y=a++;return s.set(y,C),function(){if(_){if(l)throw new Error(mt(6));_=!1,c(),s.delete(y),o=null}}}function h(C){if(!Gm(C))throw new Error(mt(7));if(typeof C.type>"u")throw new Error(mt(8));if(typeof C.type!="string")throw new Error(mt(17));if(l)throw new Error(mt(9));try{l=!0,i=r(i,C)}finally{l=!1}return(o=s).forEach(y=>{y()}),C}function g(C){if(typeof C!="function")throw new Error(mt(10));r=C,h({type:Cc.REPLACE})}function v(){const C=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(mt(11));function y(){const x=_;x.next&&x.next(d())}return y(),{unsubscribe:C(y)}},[W_](){return this}}}return h({type:Cc.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:g,[W_]:v}}function _L(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cc.INIT})>"u")throw new Error(mt(12));if(typeof n(void 0,{type:Cc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function EL(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{_L(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],g=s[f],v=h(g,a);if(typeof v>"u")throw a&&a.type,new Error(mt(14));c[f]=v,l=l||v!==g}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Pc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function wL(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(mt(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=t.map(l=>l(s));return o=Pc(...a)(i.dispatch),{...i,dispatch:o}}}function SL(t){return Gm(t)&&"type"in t&&typeof t.type=="string"}var LI=Symbol.for("immer-nothing"),G_=Symbol.for("immer-draftable"),cn=Symbol.for("immer-state");function On(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var is=Object.getPrototypeOf;function Yi(t){return!!t&&!!t[cn]}function wr(t){var e;return t?BI(t)||Array.isArray(t)||!!t[G_]||!!((e=t.constructor)!=null&&e[G_])||Ld(t)||Bd(t):!1}var TL=Object.prototype.constructor.toString();function BI(t){if(!t||typeof t!="object")return!1;const e=is(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===TL}function xc(t,e){Fd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Fd(t){const e=t[cn];return e?e.type_:Array.isArray(t)?1:Ld(t)?2:Bd(t)?3:0}function Np(t,e){return Fd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $I(t,e,n){const r=Fd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ld(t){return t instanceof Map}function Bd(t){return t instanceof Set}function Ci(t){return t.copy_||t.base_}function Op(t,e){if(Ld(t))return new Map(t);if(Bd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[cn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(is(t),r)}else{const r=is(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function qm(t,e=!1){return $d(t)||Yi(t)||!wr(t)||(Fd(t)>1&&(t.set=t.add=t.clear=t.delete=bL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>qm(r,!0))),t}function bL(){On(2)}function $d(t){return Object.isFrozen(t)}var AL={};function Xi(t){const e=AL[t];return e||On(0,t),e}var Ya;function UI(){return Ya}function CL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function q_(t,e){e&&(Xi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Vp(t){Mp(t),t.drafts_.forEach(PL),t.drafts_=null}function Mp(t){t===Ya&&(Ya=t.parent_)}function K_(t){return Ya=CL(Ya,t)}function PL(t){const e=t[cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Q_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[cn].modified_&&(Vp(e),On(4)),wr(t)&&(t=Dc(e,t),e.parent_||Rc(e,t)),e.patches_&&Xi("Patches").generateReplacementPatches_(n[cn].base_,t,e.patches_,e.inversePatches_)):t=Dc(e,n,[]),Vp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LI?t:void 0}function Dc(t,e,n){if($d(e))return e;const r=e[cn];if(!r)return xc(e,(i,o)=>Y_(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Rc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),xc(o,(a,l)=>Y_(t,r,i,a,l,n,s)),Rc(t,i,!1),n&&t.patches_&&Xi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Y_(t,e,n,r,i,o,s){if(Yi(i)){const a=o&&e&&e.type_!==3&&!Np(e.assigned_,r)?o.concat(r):void 0,l=Dc(t,i,a);if($I(n,r,l),Yi(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(wr(i)&&!$d(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Rc(t,i)}}function Rc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qm(e,n)}function xL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:UI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Km;n&&(i=[r],o=Xa);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Km={get(t,e){if(e===cn)return t;const n=Ci(t);if(!Np(n,e))return DL(t,n,e);const r=n[e];return t.finalized_||!wr(r)?r:r===sh(t.base_,e)?(ah(t),t.copy_[e]=Lp(r,t)):r},has(t,e){return e in Ci(t)},ownKeys(t){return Reflect.ownKeys(Ci(t))},set(t,e,n){const r=jI(Ci(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=sh(Ci(t),e),o=i==null?void 0:i[cn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IL(n,i)&&(n!==void 0||Np(t.base_,e)))return!0;ah(t),Fp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return sh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ah(t),Fp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ci(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){On(11)},getPrototypeOf(t){return is(t.base_)},setPrototypeOf(){On(12)}},Xa={};xc(Km,(t,e)=>{Xa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xa.deleteProperty=function(t,e){return Xa.set.call(this,t,e,void 0)};Xa.set=function(t,e,n){return Km.set.call(this,t[0],e,n,t[0])};function sh(t,e){const n=t[cn];return(n?Ci(n):t)[e]}function DL(t,e,n){var i;const r=jI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function jI(t,e){if(!(e in t))return;let n=is(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=is(n)}}function Fp(t){t.modified_||(t.modified_=!0,t.parent_&&Fp(t.parent_))}function ah(t){t.copy_||(t.copy_=Op(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var RL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&On(6),r!==void 0&&typeof r!="function"&&On(7);let i;if(wr(e)){const o=K_(this),s=Lp(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Vp(o):Mp(o)}return q_(o,r),Q_(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===LI&&(i=void 0),this.autoFreeze_&&qm(i,!0),r){const o=[],s=[];Xi("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else On(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wr(t)||On(8),Yi(t)&&(t=kL(t));const e=K_(this),n=Lp(t,void 0);return n[cn].isManual_=!0,Mp(e),n}finishDraft(t,e){const n=t&&t[cn];(!n||!n.isManual_)&&On(9);const{scope_:r}=n;return q_(r,e),Q_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xi("Patches").applyPatches_;return Yi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Lp(t,e){const n=Ld(t)?Xi("MapSet").proxyMap_(t,e):Bd(t)?Xi("MapSet").proxySet_(t,e):xL(t,e);return(e?e.scope_:UI()).drafts_.push(n),n}function kL(t){return Yi(t)||On(10,t),zI(t)}function zI(t){if(!wr(t)||$d(t))return t;const e=t[cn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Op(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Op(t,!0);return xc(n,(r,i)=>{$I(n,r,zI(i))}),e&&(e.finalized_=!1),n}var dn=new RL,HI=dn.produce;dn.produceWithPatches.bind(dn);dn.setAutoFreeze.bind(dn);dn.setUseStrictShallowCopy.bind(dn);dn.applyPatches.bind(dn);dn.createDraft.bind(dn);dn.finishDraft.bind(dn);function WI(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var NL=WI(),OL=WI,VL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pc:Pc.apply(null,arguments)};function X_(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error($n(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>SL(r)&&r.type===t,n}var GI=class ea extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ea.prototype)}static get[Symbol.species](){return ea}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ea(...e[0].concat(this)):new ea(...e.concat(this))}};function J_(t){return wr(t)?HI(t,()=>{}):t}function Z_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error($n(10));const r=n.insert(e,t);return t.set(e,r),r}function ML(t){return typeof t=="boolean"}var FL=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new GI;return n&&(ML(n)?s.push(NL):s.push(OL(n.extraArgument))),s},LL="RTK_autoBatch",qI=t=>e=>{setTimeout(e,t)},BL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qI(10),$L=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?BL:t.type==="callback"?t.queueNotification:qI(t.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return a.add(d),()=>{h(),a.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[LL]),o=!i,o&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},UL=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new GI(t);return r&&i.push($L(typeof r=="object"?r:void 0)),i};function jL(t){const e=FL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Gm(n))a=EL(n);else throw new Error($n(1));let l;typeof r=="function"?l=r(e):l=e();let c=Pc;i&&(c=VL({trace:!1,...typeof i=="object"&&i}));const d=wL(...l),f=UL(d);let h=typeof s=="function"?s(f):f();const g=c(...h);return FI(a,o,g)}function KI(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error($n(28));if(a in e)throw new Error($n(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function zL(t){return typeof t=="function"}function HL(t,e){let[n,r,i]=KI(e),o;if(zL(t))o=()=>J_(t());else{const a=J_(t);o=()=>a}function s(a=o(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Yi(d)){const g=f(d,l);return g===void 0?d:g}else{if(wr(d))return HI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw new Error($n(9))}return h}}return d},a)}return s.getInitialState=o,s}var WL=Symbol.for("rtk-slice-createasyncthunk");function GL(t,e){return`${t}/${e}`}function qL({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[WL];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error($n(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(YL()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,x){const O=typeof S=="string"?S:S.type;if(!O)throw new Error($n(12));if(O in c.sliceCaseReducersByType)throw new Error($n(13));return c.sliceCaseReducersByType[O]=x,d},addMatcher(S,x){return c.sliceMatchers.push({matcher:S,reducer:x}),d},exposeAction(S,x){return c.actionCreators[S]=x,d},exposeCaseReducer(S,x){return c.sliceCaseReducersByName[S]=x,d}};l.forEach(S=>{const x=a[S],O={reducerName:S,type:GL(o,S),createNotation:typeof i.reducers=="function"};JL(x)?e4(O,x,d,e):XL(O,x,d)});function f(){const[S={},x=[],O=void 0]=typeof i.extraReducers=="function"?KI(i.extraReducers):[i.extraReducers],M={...S,...c.sliceCaseReducersByType};return HL(i.initialState,b=>{for(let E in M)b.addCase(E,M[E]);for(let E of c.sliceMatchers)b.addMatcher(E.matcher,E.reducer);for(let E of x)b.addMatcher(E.matcher,E.reducer);O&&b.addDefaultCase(O)})}const h=S=>S,g=new Map;let v;function T(S,x){return v||(v=f()),v(S,x)}function C(){return v||(v=f()),v.getInitialState()}function _(S,x=!1){function O(b){let E=b[S];return typeof E>"u"&&x&&(E=C()),E}function M(b=h){const E=Z_(g,x,{insert:()=>new WeakMap});return Z_(E,b,{insert:()=>{const I={};for(const[P,D]of Object.entries(i.selectors??{}))I[P]=KL(D,b,C,x);return I}})}return{reducerPath:S,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const y={name:o,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,..._(s),injectInto(S,{reducerPath:x,...O}={}){const M=x??s;return S.inject({reducerPath:M,reducer:T},O),{...y,..._(M,!0)}}};return y}}function KL(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var QL=qL();function YL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XL({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!ZL(r))throw new Error($n(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?X_(t,s):X_(t))}function JL(t){return t._reducerDefinitionType==="asyncThunk"}function ZL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function e4({type:t,reducerName:e},n,r,i){if(!i)throw new Error($n(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:d}=n,f=i(t,o,d);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:s||hu,pending:a||hu,rejected:l||hu,settled:c||hu})}function hu(){}function $n(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const QI=QL({name:"listSlice",initialState:{data:{todo:[],inProgress:[],done:[]}},reducers:{setlistSlice:(t,e)=>{t.data=e.payload}}}),{setlistSlice:eE}=QI.actions,t4=QI.reducer,lh="ElZ6qoBnDKFBnzcYtkBZ",YI=()=>{const t=VI(s=>{var a;return(a=s==null?void 0:s.setlistSlice)==null?void 0:a.data}),e=mL();G.useEffect(()=>{const s=jF(bF(fu,"data"),a=>{const l=a.docs.reduce((c,d)=>{const f=d.data();return c.todo=f.todo||[],c.inProgress=f.inProgress||[],c.done=f.done||[],c},{});e(eE(l))});return()=>s()},[e]);const n=async s=>{const{source:a,destination:l}=s;if(!l||a.droppableId===l.droppableId&&a.index===l.index)return;const c=Array.from(t[a.droppableId]),d=Array.from(t[l.droppableId]),[f]=c.splice(a.index,1);d.some(g=>g.id===f.id)||d.splice(l.index,0,f);const h={...t,[a.droppableId]:c,[l.droppableId]:d};e(eE(h)),await r({todo:h.todo,inProgress:h.inProgress,done:h.done})},r=async s=>{try{await UF(ih(fu,"data",lh),s,{merge:!0})}catch(a){console.error("Error updating Firestore:",a)}};return{onDragEnd:n,createNewTodo:async s=>{try{const l=ih(fu,"data",lh),c=await $_(l);if(c.exists()){const d=c.data(),f=d.todo?d.todo.length:0,h=d.inProgress?d.inProgress.length:0,g=d.done?d.done.length:0,v=f+h+g;let T={...s,id:`list${v+1}`,status:"todo"};await U_(l,{todo:zF(T)}),console.log("Nueva tarea aadida a todo exitosamente!")}else console.log("No existe el documento en Firestore.")}catch(a){console.error("Error al aadir la tarea:",a)}},deleteTodo:async s=>{try{const l=ih(fu,"data",lh),c=await $_(l);if(c.exists()){const d=c.data(),f=["todo","inProgress","done"];let h=!1;for(const g of f){const T=(d[g]||[]).find(C=>C.id===s.id);if(T){await U_(l,{[g]:HF(T)}),h=!0;break}}h||console.error("Tarea no encontrada en ninguna lista.")}else console.error("Documento no encontrado en Firestore.")}catch(a){console.error("Error al eliminar la tarea:",a)}}}},n4="https://github.com/Guespud/TodoList/assets/delete-qgnSiAOY.png",r4=()=>{const t=VI(r=>{var i;return(i=r==null?void 0:r.setlistSlice)==null?void 0:i.data}),{onDragEnd:e,deleteTodo:n}=YI();return fe.jsx(EN,{onDragEnd:e,children:fe.jsx("div",{className:"flex flex-col md:flex-row md:space-x-6 bg-slate-300 p-4 space-y-6 md:space-y-0",children:Object.keys(t).map(r=>fe.jsx(G1,{droppableId:r,children:i=>fe.jsxs("div",{...i.droppableProps,ref:i.innerRef,className:"bg-gray-100 p-4 rounded-lg shadow-lg w-full md:w-72",children:[fe.jsx("h2",{className:"font-bold text-xl text-gray-700 mb-4 text-center",children:r==="todo"?"Tareas":r==="inProgress"?"En Progreso":"Realizado"}),t[r].map((o,s)=>fe.jsx(r2,{draggableId:o.id,index:s,children:a=>fe.jsxs("div",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,className:"bg-white p-4 rounded-lg shadow mb-4 cursor-pointer hover:bg-gray-50 transition flex items-center justify-between w-full",children:[fe.jsxs("div",{className:"flex-1 overflow-hidden",children:[fe.jsx("div",{className:"font-semibold text-gray-800 truncate",children:o.title}),fe.jsx("div",{className:"text-gray-600 mt-1 truncate",children:o.description})]}),fe.jsx("button",{className:"text-red-600 bg-transparent border-none cursor-pointer hover:text-red-800",onClick:()=>n(o),children:fe.jsx("img",{src:n4,width:30,alt:"Eliminar"})})]})},o.id)),i.placeholder]})},r))})})},i4="https://github.com/Guespud/TodoList/assets/expediente-DHERQfud.png";var Sl=t=>t.type==="checkbox",xo=t=>t instanceof Date,Ft=t=>t==null;const XI=t=>typeof t=="object";var st=t=>!Ft(t)&&!Array.isArray(t)&&XI(t)&&!xo(t),o4=t=>st(t)&&t.target?Sl(t.target)?t.target.checked:t.target.value:t,s4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,a4=(t,e)=>t.has(s4(e)),l4=t=>{const e=t.constructor&&t.constructor.prototype;return st(e)&&e.hasOwnProperty("isPrototypeOf")},Qm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Qm&&(t instanceof Blob||t instanceof FileList))&&(n||st(t)))if(e=n?[]:{},!n&&!l4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=mn(t[r]));else return t;return e}var Ud=t=>Array.isArray(t)?t.filter(Boolean):[],Ye=t=>t===void 0,Z=(t,e,n)=>{if(!e||!st(t))return n;const r=Ud(e.split(/[,[\].]+?/)).reduce((i,o)=>Ft(i)?i:i[o],t);return Ye(r)||r===t?Ye(t[e])?n:t[e]:r},Nr=t=>typeof t=="boolean",Ym=t=>/^\w*$/.test(t),JI=t=>Ud(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,n)=>{let r=-1;const i=Ym(e)?[e]:JI(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const c=t[a];l=st(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const tE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};G.createContext(null);var u4=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Vn.all&&(e._proxyFormState[s]=!r||Vn.all),t[s]}});return i},Ht=t=>st(t)&&!Object.keys(t).length,c4=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Ht(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===Vn.all)},Ou=t=>Array.isArray(t)?t:[t];function d4(t){const e=G.useRef(t);e.current=t,G.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Kn=t=>typeof t=="string",f4=(t,e,n,r,i)=>Kn(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Z(n,o))):(r&&(e.watchAll=!0),n),h4=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nE=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched}),rE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const va=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=Z(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)break;if(s.ref&&e(s.ref,s.name)&&!r)break;va(a,e)}else st(a)&&va(a,e)}}};var p4=(t,e,n)=>{const r=Ou(Z(t,n));return Fe(r,"root",e[n]),Fe(t,n,r),t},Xm=t=>t.type==="file",Lr=t=>typeof t=="function",kc=t=>{if(!Qm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vu=t=>Kn(t),Jm=t=>t.type==="radio",Nc=t=>t instanceof RegExp;const iE={value:!1,isValid:!1},oE={value:!0,isValid:!0};var ZI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ye(t[0].attributes.value)?Ye(t[0].value)||t[0].value===""?oE:{value:t[0].value,isValid:!0}:oE:iE}return iE};const sE={isValid:!1,value:null};var eb=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sE):sE;function aE(t,e,n="validate"){if(Vu(t)||Array.isArray(t)&&t.every(Vu)||Nr(t)&&!t)return{type:n,message:Vu(t)?t:"",ref:e}}var ho=t=>st(t)&&!Nc(t)?t:{value:t,message:""},lE=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:d,max:f,pattern:h,validate:g,name:v,valueAsNumber:T,mount:C,disabled:_}=t._f,y=Z(e,v);if(!C||_)return{};const S=s?s[0]:o,x=R=>{r&&S.reportValidity&&(S.setCustomValidity(Nr(R)?"":R||""),S.reportValidity())},O={},M=Jm(o),b=Sl(o),E=M||b,I=(T||Xm(o))&&Ye(o.value)&&Ye(y)||kc(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=h4.bind(null,v,n,O),D=(R,A,ne,he=sr.maxLength,pe=sr.minLength)=>{const ve=R?A:ne;O[v]={type:R?he:pe,message:ve,ref:o,...P(R?he:pe,ve)}};if(i?!Array.isArray(y)||!y.length:a&&(!E&&(I||Ft(y))||Nr(y)&&!y||b&&!ZI(s).isValid||M&&!eb(s).isValid)){const{value:R,message:A}=Vu(a)?{value:!!a,message:a}:ho(a);if(R&&(O[v]={type:sr.required,message:A,ref:S,...P(sr.required,A)},!n))return x(A),O}if(!I&&(!Ft(d)||!Ft(f))){let R,A;const ne=ho(f),he=ho(d);if(!Ft(y)&&!isNaN(y)){const pe=o.valueAsNumber||y&&+y;Ft(ne.value)||(R=pe>ne.value),Ft(he.value)||(A=pe<he.value)}else{const pe=o.valueAsDate||new Date(y),ve=K=>new Date(new Date().toDateString()+" "+K),z=o.type=="time",X=o.type=="week";Kn(ne.value)&&y&&(R=z?ve(y)>ve(ne.value):X?y>ne.value:pe>new Date(ne.value)),Kn(he.value)&&y&&(A=z?ve(y)<ve(he.value):X?y<he.value:pe<new Date(he.value))}if((R||A)&&(D(!!R,ne.message,he.message,sr.max,sr.min),!n))return x(O[v].message),O}if((l||c)&&!I&&(Kn(y)||i&&Array.isArray(y))){const R=ho(l),A=ho(c),ne=!Ft(R.value)&&y.length>+R.value,he=!Ft(A.value)&&y.length<+A.value;if((ne||he)&&(D(ne,R.message,A.message),!n))return x(O[v].message),O}if(h&&!I&&Kn(y)){const{value:R,message:A}=ho(h);if(Nc(R)&&!y.match(R)&&(O[v]={type:sr.pattern,message:A,ref:o,...P(sr.pattern,A)},!n))return x(A),O}if(g){if(Lr(g)){const R=await g(y,e),A=aE(R,S);if(A&&(O[v]={...A,...P(sr.validate,A.message)},!n))return x(A.message),O}else if(st(g)){let R={};for(const A in g){if(!Ht(R)&&!n)break;const ne=aE(await g[A](y,e),S,A);ne&&(R={...ne,...P(A,ne.message)},x(ne.message),n&&(O[v]=R))}if(!Ht(R)&&(O[v]={ref:S,...R},!n))return O}}return x(!0),O};function g4(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ye(t)?r++:t[e[r++]];return t}function m4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ye(t[e]))return!1;return!0}function tt(t,e){const n=Array.isArray(e)?e:Ym(e)?[e]:JI(e),r=n.length===1?t:g4(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(st(r)&&Ht(r)||Array.isArray(r)&&m4(r))&&tt(t,n.slice(0,-1)),t}var uh=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Oc=t=>Ft(t)||!XI(t);function Oi(t,e){if(Oc(t)||Oc(e))return t===e;if(xo(t)&&xo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(xo(o)&&xo(s)||st(o)&&st(s)||Array.isArray(o)&&Array.isArray(s)?!Oi(o,s):o!==s)return!1}}return!0}var tb=t=>t.type==="select-multiple",v4=t=>Jm(t)||Sl(t),ch=t=>kc(t)&&t.isConnected,nb=t=>{for(const e in t)if(Lr(t[e]))return!0;return!1};function Vc(t,e={}){const n=Array.isArray(t);if(st(t)||n)for(const r in t)Array.isArray(t[r])||st(t[r])&&!nb(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Vc(t[r],e[r])):Ft(t[r])||(e[r]=!0);return e}function rb(t,e,n){const r=Array.isArray(t);if(st(t)||r)for(const i in t)Array.isArray(t[i])||st(t[i])&&!nb(t[i])?Ye(e)||Oc(n[i])?n[i]=Array.isArray(t[i])?Vc(t[i],[]):{...Vc(t[i])}:rb(t[i],Ft(e)?{}:e[i],n[i]):n[i]=!Oi(t[i],e[i]);return n}var pu=(t,e)=>rb(t,e,Vc(e)),ib=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ye(t)?t:e?t===""?NaN:t&&+t:n&&Kn(t)?new Date(t):r?r(t):t;function dh(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Xm(e)?e.files:Jm(e)?eb(t.refs).value:tb(e)?[...e.selectedOptions].map(({value:n})=>n):Sl(e)?ZI(t.refs).value:ib(Ye(e.value)?t.ref.value:e.value,t)}var y4=(t,e,n,r)=>{const i={};for(const o of t){const s=Z(e,o);s&&Fe(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Hs=t=>Ye(t)?t:Nc(t)?t.source:st(t)?Nc(t.value)?t.value.source:t.value:t,_4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function uE(t,e,n){const r=Z(t,n);if(r||Ym(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=Z(e,o),a=Z(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var E4=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,w4=(t,e)=>!Ud(Z(t,e)).length&&tt(t,e);const S4={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function T4(t={}){let e={...S4,...t},n={submitCount:0,isDirty:!1,isLoading:Lr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=st(e.defaultValues)||st(e.values)?mn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:mn(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:uh(),array:uh(),state:uh()},h=nE(e.mode),g=nE(e.reValidateMode),v=e.criteriaMode===Vn.all,T=k=>F=>{clearTimeout(c),c=setTimeout(k,F)},C=async k=>{if(d.isValid||k){const F=e.resolver?Ht((await E()).errors):await P(r,!0);F!==n.isValid&&f.state.next({isValid:F})}},_=(k,F)=>{(d.isValidating||d.validatingFields)&&((k||Array.from(a.mount)).forEach(B=>{B&&(F?Fe(n.validatingFields,B,F):tt(n.validatingFields,B))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Ht(n.validatingFields)}))},y=(k,F=[],B,Y,Q=!0,H=!0)=>{if(Y&&B){if(s.action=!0,H&&Array.isArray(Z(r,k))){const te=B(Z(r,k),Y.argA,Y.argB);Q&&Fe(r,k,te)}if(H&&Array.isArray(Z(n.errors,k))){const te=B(Z(n.errors,k),Y.argA,Y.argB);Q&&Fe(n.errors,k,te),w4(n.errors,k)}if(d.touchedFields&&H&&Array.isArray(Z(n.touchedFields,k))){const te=B(Z(n.touchedFields,k),Y.argA,Y.argB);Q&&Fe(n.touchedFields,k,te)}d.dirtyFields&&(n.dirtyFields=pu(i,o)),f.state.next({name:k,isDirty:R(k,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fe(o,k,F)},S=(k,F)=>{Fe(n.errors,k,F),f.state.next({errors:n.errors})},x=k=>{n.errors=k,f.state.next({errors:n.errors,isValid:!1})},O=(k,F,B,Y)=>{const Q=Z(r,k);if(Q){const H=Z(o,k,Ye(B)?Z(i,k):B);Ye(H)||Y&&Y.defaultChecked||F?Fe(o,k,F?H:dh(Q._f)):he(k,H),s.mount&&C()}},M=(k,F,B,Y,Q)=>{let H=!1,te=!1;const we={name:k},ge=!!(Z(r,k)&&Z(r,k)._f&&Z(r,k)._f.disabled);if(!B||Y){d.isDirty&&(te=n.isDirty,n.isDirty=we.isDirty=R(),H=te!==we.isDirty);const Ce=ge||Oi(Z(i,k),F);te=!!(!ge&&Z(n.dirtyFields,k)),Ce||ge?tt(n.dirtyFields,k):Fe(n.dirtyFields,k,!0),we.dirtyFields=n.dirtyFields,H=H||d.dirtyFields&&te!==!Ce}if(B){const Ce=Z(n.touchedFields,k);Ce||(Fe(n.touchedFields,k,B),we.touchedFields=n.touchedFields,H=H||d.touchedFields&&Ce!==B)}return H&&Q&&f.state.next(we),H?we:{}},b=(k,F,B,Y)=>{const Q=Z(n.errors,k),H=d.isValid&&Nr(F)&&n.isValid!==F;if(t.delayError&&B?(l=T(()=>S(k,B)),l(t.delayError)):(clearTimeout(c),l=null,B?Fe(n.errors,k,B):tt(n.errors,k)),(B?!Oi(Q,B):Q)||!Ht(Y)||H){const te={...Y,...H&&Nr(F)?{isValid:F}:{},errors:n.errors,name:k};n={...n,...te},f.state.next(te)}},E=async k=>{_(k,!0);const F=await e.resolver(o,e.context,y4(k||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(k),F},I=async k=>{const{errors:F}=await E(k);if(k)for(const B of k){const Y=Z(F,B);Y?Fe(n.errors,B,Y):tt(n.errors,B)}else n.errors=F;return F},P=async(k,F,B={valid:!0})=>{for(const Y in k){const Q=k[Y];if(Q){const{_f:H,...te}=Q;if(H){const we=a.array.has(H.name);_([Y],!0);const ge=await lE(Q,o,v,e.shouldUseNativeValidation&&!F,we);if(_([Y]),ge[H.name]&&(B.valid=!1,F))break;!F&&(Z(ge,H.name)?we?p4(n.errors,ge,H.name):Fe(n.errors,H.name,ge[H.name]):tt(n.errors,H.name))}!Ht(te)&&await P(te,F,B)}}return B.valid},D=()=>{for(const k of a.unMount){const F=Z(r,k);F&&(F._f.refs?F._f.refs.every(B=>!ch(B)):!ch(F._f.ref))&&Be(k)}a.unMount=new Set},R=(k,F)=>(k&&F&&Fe(o,k,F),!Oi(oe(),i)),A=(k,F,B)=>f4(k,a,{...s.mount?o:Ye(F)?i:Kn(k)?{[k]:F}:F},B,F),ne=k=>Ud(Z(s.mount?o:i,k,t.shouldUnregister?Z(i,k,[]):[])),he=(k,F,B={})=>{const Y=Z(r,k);let Q=F;if(Y){const H=Y._f;H&&(!H.disabled&&Fe(o,k,ib(F,H)),Q=kc(H.ref)&&Ft(F)?"":F,tb(H.ref)?[...H.ref.options].forEach(te=>te.selected=Q.includes(te.value)):H.refs?Sl(H.ref)?H.refs.length>1?H.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(Q)?!!Q.find(we=>we===te.value):Q===te.value)):H.refs[0]&&(H.refs[0].checked=!!Q):H.refs.forEach(te=>te.checked=te.value===Q):Xm(H.ref)?H.ref.value="":(H.ref.value=Q,H.ref.type||f.values.next({name:k,values:{...o}})))}(B.shouldDirty||B.shouldTouch)&&M(k,Q,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&K(k)},pe=(k,F,B)=>{for(const Y in F){const Q=F[Y],H=`${k}.${Y}`,te=Z(r,H);(a.array.has(k)||!Oc(Q)||te&&!te._f)&&!xo(Q)?pe(H,Q,B):he(H,Q,B)}},ve=(k,F,B={})=>{const Y=Z(r,k),Q=a.array.has(k),H=mn(F);Fe(o,k,H),Q?(f.array.next({name:k,values:{...o}}),(d.isDirty||d.dirtyFields)&&B.shouldDirty&&f.state.next({name:k,dirtyFields:pu(i,o),isDirty:R(k,H)})):Y&&!Y._f&&!Ft(H)?pe(k,H,B):he(k,H,B),rE(k,a)&&f.state.next({...n}),f.values.next({name:s.mount?k:void 0,values:{...o}})},z=async k=>{s.mount=!0;const F=k.target;let B=F.name,Y=!0;const Q=Z(r,B),H=()=>F.type?dh(Q._f):o4(k),te=we=>{Y=Number.isNaN(we)||we===Z(o,B,we)};if(Q){let we,ge;const Ce=H(),Pn=k.type===tE.BLUR||k.type===tE.FOCUS_OUT,bl=!_4(Q._f)&&!e.resolver&&!Z(n.errors,B)&&!Q._f.deps||E4(Pn,Z(n.touchedFields,B),n.isSubmitted,g,h),io=rE(B,a,Pn);Fe(o,B,Ce),Pn?(Q._f.onBlur&&Q._f.onBlur(k),l&&l(0)):Q._f.onChange&&Q._f.onChange(k);const vs=M(B,Ce,Pn,!1),vi=!Ht(vs)||io;if(!Pn&&f.values.next({name:B,type:k.type,values:{...o}}),bl)return d.isValid&&C(),vi&&f.state.next({name:B,...io?{}:vs});if(!Pn&&io&&f.state.next({...n}),e.resolver){const{errors:ys}=await E([B]);if(te(Ce),Y){const Al=uE(n.errors,r,B),oo=uE(ys,r,Al.name||B);we=oo.error,B=oo.name,ge=Ht(ys)}}else _([B],!0),we=(await lE(Q,o,v,e.shouldUseNativeValidation))[B],_([B]),te(Ce),Y&&(we?ge=!1:d.isValid&&(ge=await P(r,!0)));Y&&(Q._f.deps&&K(Q._f.deps),b(B,ge,we,vs))}},X=(k,F)=>{if(Z(n.errors,F)&&k.focus)return k.focus(),1},K=async(k,F={})=>{let B,Y;const Q=Ou(k);if(e.resolver){const H=await I(Ye(k)?k:Q);B=Ht(H),Y=k?!Q.some(te=>Z(H,te)):B}else k?(Y=(await Promise.all(Q.map(async H=>{const te=Z(r,H);return await P(te&&te._f?{[H]:te}:te)}))).every(Boolean),!(!Y&&!n.isValid)&&C()):Y=B=await P(r);return f.state.next({...!Kn(k)||d.isValid&&B!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:B}:{},errors:n.errors}),F.shouldFocus&&!Y&&va(r,X,k?Q:a.mount),Y},oe=k=>{const F={...s.mount?o:i};return Ye(k)?F:Kn(k)?Z(F,k):k.map(B=>Z(F,B))},le=(k,F)=>({invalid:!!Z((F||n).errors,k),isDirty:!!Z((F||n).dirtyFields,k),error:Z((F||n).errors,k),isValidating:!!Z(n.validatingFields,k),isTouched:!!Z((F||n).touchedFields,k)}),_e=k=>{k&&Ou(k).forEach(F=>tt(n.errors,F)),f.state.next({errors:k?n.errors:{}})},Qe=(k,F,B)=>{const Y=(Z(r,k,{_f:{}})._f||{}).ref,Q=Z(n.errors,k)||{},{ref:H,message:te,type:we,...ge}=Q;Fe(n.errors,k,{...ge,...F,ref:Y}),f.state.next({name:k,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&Y&&Y.focus&&Y.focus()},Oe=(k,F)=>Lr(k)?f.values.subscribe({next:B=>k(A(void 0,F),B)}):A(k,F,!0),Be=(k,F={})=>{for(const B of k?Ou(k):a.mount)a.mount.delete(B),a.array.delete(B),F.keepValue||(tt(r,B),tt(o,B)),!F.keepError&&tt(n.errors,B),!F.keepDirty&&tt(n.dirtyFields,B),!F.keepTouched&&tt(n.touchedFields,B),!F.keepIsValidating&&tt(n.validatingFields,B),!e.shouldUnregister&&!F.keepDefaultValue&&tt(i,B);f.values.next({values:{...o}}),f.state.next({...n,...F.keepDirty?{isDirty:R()}:{}}),!F.keepIsValid&&C()},ht=({disabled:k,name:F,field:B,fields:Y,value:Q})=>{if(Nr(k)&&s.mount||k){const H=k?void 0:Ye(Q)?dh(B?B._f:Z(Y,F)._f):Q;Fe(o,F,H),M(F,H,!1,!1,!0)}},zn=(k,F={})=>{let B=Z(r,k);const Y=Nr(F.disabled);return Fe(r,k,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:k}},name:k,mount:!0,...F}}),a.mount.add(k),B?ht({field:B,disabled:F.disabled,name:k,value:F.value}):O(k,!0,F.value),{...Y?{disabled:F.disabled}:{},...e.progressive?{required:!!F.required,min:Hs(F.min),max:Hs(F.max),minLength:Hs(F.minLength),maxLength:Hs(F.maxLength),pattern:Hs(F.pattern)}:{},name:k,onChange:z,onBlur:z,ref:Q=>{if(Q){zn(k,F),B=Z(r,k);const H=Ye(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,te=v4(H),we=B._f.refs||[];if(te?we.find(ge=>ge===H):H===B._f.ref)return;Fe(r,k,{_f:{...B._f,...te?{refs:[...we.filter(ch),H,...Array.isArray(Z(i,k))?[{}]:[]],ref:{type:H.type,name:k}}:{ref:H}}}),O(k,!1,void 0,H)}else B=Z(r,k,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(a4(a.array,k)&&s.action)&&a.unMount.add(k)}}},Tr=()=>e.shouldFocusError&&va(r,X,a.mount),Jt=k=>{Nr(k)&&(f.state.next({disabled:k}),va(r,(F,B)=>{const Y=Z(r,B);Y&&(F.disabled=Y._f.disabled||k,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(Q=>{Q.disabled=Y._f.disabled||k}))},0,!1))},An=(k,F)=>async B=>{let Y;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let Q=mn(o);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:te}=await E();n.errors=H,Q=te}else await P(r);if(tt(n.errors,"root"),Ht(n.errors)){f.state.next({errors:{}});try{await k(Q,B)}catch(H){Y=H}}else F&&await F({...n.errors},B),Tr(),setTimeout(Tr);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ht(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},Ir=(k,F={})=>{Z(r,k)&&(Ye(F.defaultValue)?ve(k,mn(Z(i,k))):(ve(k,F.defaultValue),Fe(i,k,mn(F.defaultValue))),F.keepTouched||tt(n.touchedFields,k),F.keepDirty||(tt(n.dirtyFields,k),n.isDirty=F.defaultValue?R(k,mn(Z(i,k))):R()),F.keepError||(tt(n.errors,k),d.isValid&&C()),f.state.next({...n}))},Hn=(k,F={})=>{const B=k?mn(k):i,Y=mn(B),Q=Ht(k),H=Q?i:Y;if(F.keepDefaultValues||(i=B),!F.keepValues){if(F.keepDirtyValues)for(const te of a.mount)Z(n.dirtyFields,te)?Fe(H,te,Z(o,te)):ve(te,Z(H,te));else{if(Qm&&Ye(k))for(const te of a.mount){const we=Z(r,te);if(we&&we._f){const ge=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(kc(ge)){const Ce=ge.closest("form");if(Ce){Ce.reset();break}}}}r={}}o=t.shouldUnregister?F.keepDefaultValues?mn(i):{}:mn(H),f.array.next({values:{...H}}),f.values.next({values:{...H}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:Q?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Oi(k,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Q?{}:F.keepDirtyValues?F.keepDefaultValues&&o?pu(i,o):n.dirtyFields:F.keepDefaultValues&&k?pu(i,k):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Cn=(k,F)=>Hn(Lr(k)?k(o):k,F);return{control:{register:zn,unregister:Be,getFieldState:le,handleSubmit:An,setError:Qe,_executeSchema:E,_getWatch:A,_getDirty:R,_updateValid:C,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:ht,_getFieldArray:ne,_reset:Hn,_resetDefaultValues:()=>Lr(e.defaultValues)&&e.defaultValues().then(k=>{Cn(k,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:k=>{n={...n,...k}},_disableForm:Jt,_subjects:f,_proxyFormState:d,_setErrors:x,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(k){s=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return n},set _formState(k){n=k},get _options(){return e},set _options(k){e={...e,...k}}},trigger:K,register:zn,handleSubmit:An,watch:Oe,setValue:ve,getValues:oe,reset:Cn,resetField:Ir,clearErrors:_e,unregister:Be,setError:Qe,setFocus:(k,F={})=>{const B=Z(r,k),Y=B&&B._f;if(Y){const Q=Y.refs?Y.refs[0]:Y.ref;Q.focus&&(Q.focus(),F.shouldSelect&&Q.select())}},getFieldState:le}}function I4(t={}){const e=G.useRef(),n=G.useRef(),[r,i]=G.useState({isDirty:!1,isValidating:!1,isLoading:Lr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Lr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...T4(t),formState:r});const o=e.current.control;return o._options=t,d4({subject:o._subjects.state,next:s=>{c4(s,o._proxyFormState,o._updateFormState)&&i({...o._formState})}}),G.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),G.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),G.useEffect(()=>{t.values&&!Oi(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),G.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),G.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),G.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=u4(r,o),e.current}var b4=Object.defineProperty,A4=(t,e,n)=>e in t?b4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fh=(t,e,n)=>(A4(t,typeof e!="symbol"?e+"":e,n),n);let C4=class{constructor(){fh(this,"current",this.detect()),fh(this,"handoffState","pending"),fh(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Bi=new C4;function jd(t){return Bi.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function zd(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function pi(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return zd(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=pi();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Zm(){let[t]=N.useState(pi);return N.useEffect(()=>()=>t.dispose(),[t]),t}let $t=(t,e)=>{Bi.isServer?N.useEffect(t,e):N.useLayoutEffect(t,e)};function no(t){let e=N.useRef(t);return $t(()=>{e.current=t},[t]),e}let ze=function(t){let e=no(t);return G.useCallback((...n)=>e.current(...n),[e])},P4=N.createContext(void 0);function x4(){return N.useContext(P4)}function Bp(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function li(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,li),r}var Mc=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Mc||{}),Br=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Br||{});function bn({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??D4;let l=ob(e,t);if(o)return gu(l,n,r,s,a);let c=i??0;if(c&2){let{static:d=!1,...f}=l;if(d)return gu(f,n,r,s,a)}if(c&1){let{unmount:d=!0,...f}=l;return li(d?0:1,{0(){return null},1(){return gu({...f,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return gu(l,n,r,s,a)}function gu(t,e={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=hh(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof s=="function"?s(e):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let h=!1,g=[];for(let[v,T]of Object.entries(e))typeof T=="boolean"&&(h=!0),T===!0&&g.push(v.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(h){f["data-headlessui-state"]=g.join(" ");for(let v of g)f[`data-${v}`]=""}}if(o===N.Fragment&&(Object.keys(Pi(l)).length>0||Object.keys(Pi(f)).length>0))if(!N.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Pi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Pi(l)).concat(Object.keys(Pi(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,g=h==null?void 0:h.className,v=typeof g=="function"?(..._)=>Bp(g(..._),l.className):Bp(g,l.className),T=v?{className:v}:{},C=ob(d.props,Pi(hh(l,["ref"])));for(let _ in f)_ in C&&delete f[_];return N.cloneElement(d,Object.assign({},C,f,c,{ref:i(d.ref,c.ref)},T))}return N.createElement(o,Object.assign({},hh(l,["ref"]),o!==N.Fragment&&c,o!==N.Fragment&&f),d)}function D4(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ob(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return e}function Xt(t){var e;return Object.assign(N.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Pi(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function hh(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let R4="span";var Fc=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Fc||{});function k4(t,e){var n;let{features:r=1,...i}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return bn({ourProps:o,theirProps:i,slot:{},defaultTag:R4,name:"Hidden"})}let $p=Xt(k4),sb=Symbol();function N4(t,e=!0){return Object.assign(t,{[sb]:e})}function rr(...t){let e=N.useRef(t);N.useEffect(()=>{e.current=t},[t]);let n=ze(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[sb]))?void 0:n}let ev=N.createContext(null);ev.displayName="DescriptionContext";function ab(){let t=N.useContext(ev);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ab),e}return t}function O4(){let[t,e]=N.useState([]);return[t.length>0?t.join(" "):void 0,N.useMemo(()=>function(n){let r=ze(o=>(e(s=>[...s,o]),()=>e(s=>{let a=s.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a}))),i=N.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return G.createElement(ev.Provider,{value:i},n.children)},[e])]}let V4="p";function M4(t,e){let n=N.useId(),r=x4(),{id:i=`headlessui-description-${n}`,...o}=t,s=ab(),a=rr(e);$t(()=>s.register(i),[i,s.register]);let l=r||!1,c=N.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:a,...s.props,id:i};return bn({ourProps:d,theirProps:o,slot:c,defaultTag:V4,name:s.name||"Description"})}let F4=Xt(M4),L4=Object.assign(F4,{});var lb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(lb||{});let B4=N.createContext(()=>{});function $4({value:t,children:e}){return G.createElement(B4.Provider,{value:t},e)}let U4=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function ub(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=e[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function cb(t){return N.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let j4=new U4(()=>ub(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function ms(t,e){let n=j4.get(e),r=N.useId(),i=cb(n);if($t(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let Up=new Map,ya=new Map;function cE(t){var e;let n=(e=ya.get(t))!=null?e:0;return ya.set(t,n+1),n!==0?()=>dE(t):(Up.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>dE(t))}function dE(t){var e;let n=(e=ya.get(t))!=null?e:1;if(n===1?ya.delete(t):ya.set(t,n-1),n!==1)return;let r=Up.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Up.delete(t))}function z4(t,{allowed:e,disallowed:n}={}){let r=ms(t,"inert-others");$t(()=>{var i,o;if(!r)return;let s=pi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(cE(l));let a=(o=e==null?void 0:e())!=null?o:[];for(let l of a){if(!l)continue;let c=jd(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let f of d.children)a.some(h=>f.contains(h))||s.add(cE(f));d=d.parentElement}}return s.dispose},[r,e,n])}function db(t,e,n){let r=no(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});N.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let o=pi();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[e,r,t])}let Lc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),H4=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ur=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ur||{}),jp=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(jp||{}),W4=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(W4||{});function G4(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Lc)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function q4(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(H4)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var fb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(fb||{});function K4(t,e=0){var n;return t===((n=jd(t))==null?void 0:n.body)?!1:li(e,{0(){return t.matches(Lc)},1(){let r=t;for(;r!==null;){if(r.matches(Lc))return!0;r=r.parentElement}return!1}})}var Q4=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Q4||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function hr(t){t==null||t.focus({preventScroll:!0})}let Y4=["textarea","input"].join(",");function X4(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Y4))!=null?n:!1}function J4(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _a(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?n?J4(t):t:e&64?q4(t):G4(t);i.length>0&&s.length>1&&(s=s.filter(g=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===g:v===g))),r=r??o.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,f=s.length,h;do{if(d>=f||d+f<=0)return 0;let g=l+d;if(e&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}h=s[g],h==null||h.focus(c),d+=a}while(h!==o.activeElement);return e&6&&X4(h)&&h.select(),2}function hb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Z4(){return/Android/gi.test(window.navigator.userAgent)}function eB(){return hb()||Z4()}function Ws(t,e,n,r){let i=no(n);N.useEffect(()=>{if(!t)return;function o(s){i.current(s)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function pb(t,e,n,r){let i=no(n);N.useEffect(()=>{if(!t)return;function o(s){i.current(s)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const fE=30;function tB(t,e,n){let r=ms(t,"outside-click"),i=no(n),o=N.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function h(g){return typeof g=="function"?h(g()):Array.isArray(g)||g instanceof Set?g:[g]}(e);for(let h of f){if(h===null)continue;let g=h instanceof HTMLElement?h:h.current;if(g!=null&&g.contains(d)||l.composed&&l.composedPath().includes(g))return}return!K4(d,fb.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i]),s=N.useRef(null);Ws(r,"pointerdown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),Ws(r,"mousedown",l=>{var c,d;s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),Ws(r,"click",l=>{eB()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=N.useRef({x:0,y:0});Ws(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Ws(r,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=fE||Math.abs(c.y-a.current.y)>=fE))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),pb(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Tl(...t){return N.useMemo(()=>jd(...t),[...t])}function gb(t,e,n,r){let i=no(n);N.useEffect(()=>{t=t??window;function o(s){i.current(s)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function nB(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function rB(){return hb()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=pi();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=t.querySelector(c);d&&!r(d)&&(s=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function iB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function oB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Vi=ub(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:pi(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:oB(n)},i=[rB(),nB(),iB()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Vi.subscribe(()=>{let t=Vi.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Vi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Vi.dispatch("TEARDOWN",n)}});function sB(t,e,n=()=>({containers:[]})){let r=cb(Vi),i=e?r.get(e):void 0,o=i?i.count>0:!1;return $t(()=>{if(!(!e||!t))return Vi.dispatch("PUSH",e,n),()=>Vi.dispatch("POP",e,n)},[t,e]),o}function aB(t,e,n=()=>[document.body]){let r=ms(t,"scroll-lock");sB(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function lB(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function uB(t=0){let[e,n]=N.useState(t),r=N.useCallback(l=>n(l),[e]),i=N.useCallback(l=>n(c=>c|l),[e]),o=N.useCallback(l=>(e&l)===l,[e]),s=N.useCallback(l=>n(c=>c&~l),[n]),a=N.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var cB=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(cB||{});function dB(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function fB(t,e,n,r){let[i,o]=N.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=uB(t&&i?3:0),c=N.useRef(!1),d=N.useRef(!1),f=Zm();return $t(function h(){var g;if(!t)return;n&&o(!0);let v=e.current;return v?((g=r==null?void 0:r.start)==null||g.call(r,n),hB(v,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var T;d.current&&typeof v.getAnimations=="function"&&v.getAnimations().length>0||(c.current=!1,l(7),n||o(!1),(T=r==null?void 0:r.end)==null||T.call(r,n))}})):n?(a(3),f.nextFrame(()=>h())):void 0},[t,n,e,f]),t?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function hB(t,{prepare:e,run:n,done:r,inFlight:i}){let o=pi();return gB(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{o.add(pB(t,r)),n()}),o.dispose}function pB(t,e){let n=lB(e),r=pi();if(!t)return r.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(t),[s,a]=[i,o].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,h)=>h-f);return d}),l=s+a;if(l!==0){let c=r.group(d=>{let f=d.setTimeout(()=>{n(),d.dispose()},l);d.addEventListener(t,"transitionrun",h=>{h.target===h.currentTarget&&(f(),d.addEventListener(t,"transitioncancel",g=>{g.target===g.currentTarget&&(n(),c())}))})});r.addEventListener(t,"transitionend",d=>{d.target===d.currentTarget&&(n(),r.dispose())})}else n();return r.dispose}function gB(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function tv(t,e){let n=N.useRef([]),r=ze(t);N.useEffect(()=>{let i=[...n.current];for(let[o,s]of e.entries())if(n.current[o]!==s){let a=r(e,i);return n.current=e,a}},[r,...e])}let Hd=N.createContext(null);Hd.displayName="OpenClosedContext";var Fn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Fn||{});function Wd(){return N.useContext(Hd)}function mB({value:t,children:e}){return G.createElement(Hd.Provider,{value:t},e)}function vB({children:t}){return G.createElement(Hd.Provider,{value:null},t)}function yB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Or=[];yB(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Or[0]===e.target)return;let n=e.target;n=n.closest(Lc),Or.unshift(n??e.target),Or=Or.filter(r=>r!=null&&r.isConnected),Or.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function mb(t){let e=ze(t),n=N.useRef(!1);N.useEffect(()=>(n.current=!1,()=>{n.current=!0,zd(()=>{n.current&&e()})}),[e])}function _B(){let t=typeof document>"u";return"useSyncExternalStore"in Mu?(e=>e.useSyncExternalStore)(Mu)(()=>()=>{},()=>!1,()=>!t):!1}function Il(){let t=_B(),[e,n]=N.useState(Bi.isHandoffComplete);return e&&Bi.isHandoffComplete===!1&&n(!1),N.useEffect(()=>{e!==!0&&n(!0)},[e]),N.useEffect(()=>Bi.handoff(),[]),t?!1:e}let vb=N.createContext(!1);function EB(){return N.useContext(vb)}function hE(t){return G.createElement(vb.Provider,{value:t.force},t.children)}function wB(t){let e=EB(),n=N.useContext(_b),r=Tl(t),[i,o]=N.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Bi.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return N.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),N.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),i}let yb=N.Fragment,SB=Xt(function(t,e){let n=t,r=N.useRef(null),i=rr(N4(d=>{r.current=d}),e),o=Tl(r),s=wB(r),[a]=N.useState(()=>{var d;return Bi.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),l=N.useContext(zp),c=Il();return $t(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),$t(()=>{if(a&&l)return l.register(a)},[l,a]),mb(()=>{var d;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((d=s.parentElement)==null||d.removeChild(s)))}),c?!s||!a?null:td.createPortal(bn({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:yb,name:"Portal"}),a):null});function TB(t,e){let n=rr(e),{enabled:r=!0,...i}=t;return r?G.createElement(SB,{...i,ref:n}):bn({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:yb,name:"Portal"})}let IB=N.Fragment,_b=N.createContext(null);function bB(t,e){let{target:n,...r}=t,i={ref:rr(e)};return G.createElement(_b.Provider,{value:n},bn({ourProps:i,theirProps:r,defaultTag:IB,name:"Popover.Group"}))}let zp=N.createContext(null);function AB(){let t=N.useContext(zp),e=N.useRef([]),n=ze(o=>(e.current.push(o),t&&t.register(o),()=>r(o))),r=ze(o=>{let s=e.current.indexOf(o);s!==-1&&e.current.splice(s,1),t&&t.unregister(o)}),i=N.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,N.useMemo(()=>function({children:o}){return G.createElement(zp.Provider,{value:i},o)},[i])]}let CB=Xt(TB),Eb=Xt(bB),PB=Object.assign(CB,{Group:Eb});function xB(t,e=typeof document<"u"?document.defaultView:null,n){let r=ms(t,"escape");gb(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===lb.Escape&&n(i))})}function DB(){var t;let[e]=N.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=N.useState((t=e==null?void 0:e.matches)!=null?t:!1);return $t(()=>{if(!e)return;function i(o){r(o.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function RB({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Tl(n),i=ze(()=>{var o,s;let a=[];for(let l of t)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:i,contains:ze(o=>i().some(s=>s.contains(o)))}}let wb=N.createContext(null);function pE({children:t,node:e}){let[n,r]=N.useState(null),i=Sb(e??n);return G.createElement(wb.Provider,{value:i},t,i===null&&G.createElement($p,{features:Fc.Hidden,ref:o=>{var s,a;if(o){for(let l of(a=(s=jd(o))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){r(l);break}}}}))}function Sb(t=null){var e;return(e=N.useContext(wb))!=null?e:t}function nv(){let t=N.useRef(!1);return $t(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ta=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ta||{});function kB(){let t=N.useRef(0);return pb(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Tb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let NB="div";var xi=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(xi||{});function OB(t,e){let n=N.useRef(null),r=rr(n,e),{initialFocus:i,initialFocusFallback:o,containers:s,features:a=15,...l}=t;Il()||(a=0);let c=Tl(n);LB(a,{ownerDocument:c});let d=BB(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:o});$B(a,{ownerDocument:c,container:n,containers:s,previousActiveElement:d});let f=kB(),h=ze(_=>{let y=n.current;y&&(S=>S())(()=>{li(f.current,{[ta.Forwards]:()=>{_a(y,ur.First,{skipElements:[_.relatedTarget,o]})},[ta.Backwards]:()=>{_a(y,ur.Last,{skipElements:[_.relatedTarget,o]})}})})}),g=ms(!!(a&2),"focus-trap#tab-lock"),v=Zm(),T=N.useRef(!1),C={ref:r,onKeyDown(_){_.key=="Tab"&&(T.current=!0,v.requestAnimationFrame(()=>{T.current=!1}))},onBlur(_){if(!(a&4))return;let y=Tb(s);n.current instanceof HTMLElement&&y.add(n.current);let S=_.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(Ib(y,S)||(T.current?_a(n.current,li(f.current,{[ta.Forwards]:()=>ur.Next,[ta.Backwards]:()=>ur.Previous})|ur.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&hr(_.target)))}};return G.createElement(G.Fragment,null,g&&G.createElement($p,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Fc.Focusable}),bn({ourProps:C,theirProps:l,defaultTag:NB,name:"FocusTrap"}),g&&G.createElement($p,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Fc.Focusable}))}let VB=Xt(OB),MB=Object.assign(VB,{features:xi});function FB(t=!0){let e=N.useRef(Or.slice());return tv(([n],[r])=>{r===!0&&n===!1&&zd(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Or.slice())},[t,Or,e]),ze(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function LB(t,{ownerDocument:e}){let n=!!(t&8),r=FB(n);tv(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&hr(r())},[n]),mb(()=>{n&&hr(r())})}function BB(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let o=N.useRef(null),s=ms(!!(t&1),"focus-trap#initial-focus"),a=nv();return tv(()=>{if(t===0)return;if(!s){i!=null&&i.current&&hr(i.current);return}let l=n.current;l&&zd(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){o.current=c;return}}else if(l.contains(c)){o.current=c;return}if(r!=null&&r.current)hr(r.current);else{if(t&16){if(_a(l,ur.First|ur.AutoFocus)!==jp.Error)return}else if(_a(l,ur.First)!==jp.Error)return;if(i!=null&&i.current&&(hr(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=e==null?void 0:e.activeElement})},[i,s,t]),o}function $B(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let o=nv(),s=!!(t&4);gb(e==null?void 0:e.defaultView,"focus",a=>{if(!s||!o.current)return;let l=Tb(r);n.current instanceof HTMLElement&&l.add(n.current);let c=i.current;if(!c)return;let d=a.target;d&&d instanceof HTMLElement?Ib(l,d)?(i.current=d,hr(d)):(a.preventDefault(),a.stopPropagation(),hr(c)):hr(i.current)},!0)}function Ib(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function bb(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Cb)!==N.Fragment||G.Children.count(t.children)===1}let Gd=N.createContext(null);Gd.displayName="TransitionContext";var UB=(t=>(t.Visible="visible",t.Hidden="hidden",t))(UB||{});function jB(){let t=N.useContext(Gd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function zB(){let t=N.useContext(qd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let qd=N.createContext(null);qd.displayName="NestingContext";function Kd(t){return"children"in t?Kd(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Ab(t,e){let n=no(t),r=N.useRef([]),i=nv(),o=Zm(),s=ze((g,v=Br.Hidden)=>{let T=r.current.findIndex(({el:C})=>C===g);T!==-1&&(li(v,{[Br.Unmount](){r.current.splice(T,1)},[Br.Hidden](){r.current[T].state="hidden"}}),o.microTask(()=>{var C;!Kd(r)&&i.current&&((C=n.current)==null||C.call(n))}))}),a=ze(g=>{let v=r.current.find(({el:T})=>T===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>s(g,Br.Unmount)}),l=N.useRef([]),c=N.useRef(Promise.resolve()),d=N.useRef({enter:[],leave:[]}),f=ze((g,v,T)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([C])=>C!==g)),e==null||e.chains.current[v].push([g,new Promise(C=>{l.current.push(C)})]),e==null||e.chains.current[v].push([g,new Promise(C=>{Promise.all(d.current[v].map(([_,y])=>y)).then(()=>C())})]),v==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>T(v)):T(v)}),h=ze((g,v,T)=>{Promise.all(d.current[v].splice(0).map(([C,_])=>_)).then(()=>{var C;(C=l.current.shift())==null||C()}).then(()=>T(v))});return N.useMemo(()=>({children:r,register:a,unregister:s,onStart:f,onStop:h,wait:c,chains:d}),[a,s,r,f,h,d,c])}let Cb=N.Fragment,Pb=Mc.RenderStrategy;function HB(t,e){var n,r;let{transition:i=!0,beforeEnter:o,afterEnter:s,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:f,entered:h,leave:g,leaveFrom:v,leaveTo:T,...C}=t,_=N.useRef(null),y=bb(t),S=rr(...y?[_,e]:e===null?[]:[e]),x=(n=C.unmount)==null||n?Br.Unmount:Br.Hidden,{show:O,appear:M,initial:b}=jB(),[E,I]=N.useState(O?"visible":"hidden"),P=zB(),{register:D,unregister:R}=P;$t(()=>D(_),[D,_]),$t(()=>{if(x===Br.Hidden&&_.current){if(O&&E!=="visible"){I("visible");return}return li(E,{hidden:()=>R(_),visible:()=>D(_)})}},[E,_,D,R,O,x]);let A=Il();$t(()=>{if(y&&A&&E==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,E,A,y]);let ne=b&&!M,he=M&&O&&b,pe=N.useRef(!1),ve=Ab(()=>{pe.current||(I("hidden"),R(_))},P),z=ze(Qe=>{pe.current=!0;let Oe=Qe?"enter":"leave";ve.onStart(_,Oe,Be=>{Be==="enter"?o==null||o():Be==="leave"&&(a==null||a())})}),X=ze(Qe=>{let Oe=Qe?"enter":"leave";pe.current=!1,ve.onStop(_,Oe,Be=>{Be==="enter"?s==null||s():Be==="leave"&&(l==null||l())}),Oe==="leave"&&!Kd(ve)&&(I("hidden"),R(_))});N.useEffect(()=>{y&&i||(z(O),X(O))},[O,y,i]);let K=!(!i||!y||!A||ne),[,oe]=fB(K,_,O,{start:z,end:X}),le=Pi({ref:S,className:((r=Bp(C.className,he&&c,he&&d,oe.enter&&c,oe.enter&&oe.closed&&d,oe.enter&&!oe.closed&&f,oe.leave&&g,oe.leave&&!oe.closed&&v,oe.leave&&oe.closed&&T,!oe.transition&&O&&h))==null?void 0:r.trim())||void 0,...dB(oe)}),_e=0;return E==="visible"&&(_e|=Fn.Open),E==="hidden"&&(_e|=Fn.Closed),oe.enter&&(_e|=Fn.Opening),oe.leave&&(_e|=Fn.Closing),G.createElement(qd.Provider,{value:ve},G.createElement(mB,{value:_e},bn({ourProps:le,theirProps:C,defaultTag:Cb,features:Pb,visible:E==="visible",name:"Transition.Child"})))}function WB(t,e){let{show:n,appear:r=!1,unmount:i=!0,...o}=t,s=N.useRef(null),a=bb(t),l=rr(...a?[s,e]:e===null?[]:[e]);Il();let c=Wd();if(n===void 0&&c!==null&&(n=(c&Fn.Open)===Fn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=N.useState(n?"visible":"hidden"),h=Ab(()=>{n||f("hidden")}),[g,v]=N.useState(!0),T=N.useRef([n]);$t(()=>{g!==!1&&T.current[T.current.length-1]!==n&&(T.current.push(n),v(!1))},[T,n]);let C=N.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);db(n,s,()=>f("hidden")),$t(()=>{n?f("visible"):!Kd(h)&&s.current!==null&&f("hidden")},[n,h]);let _={unmount:i},y=ze(()=>{var x;g&&v(!1),(x=t.beforeEnter)==null||x.call(t)}),S=ze(()=>{var x;g&&v(!1),(x=t.beforeLeave)==null||x.call(t)});return G.createElement(qd.Provider,{value:h},G.createElement(Gd.Provider,{value:C},bn({ourProps:{..._,as:N.Fragment,children:G.createElement(xb,{ref:l,..._,...o,beforeEnter:y,beforeLeave:S})},theirProps:{},defaultTag:N.Fragment,features:Pb,visible:d==="visible",name:"Transition"})))}function GB(t,e){let n=N.useContext(Gd)!==null,r=Wd()!==null;return G.createElement(G.Fragment,null,!n&&r?G.createElement(Hp,{ref:e,...t}):G.createElement(xb,{ref:e,...t}))}let Hp=Xt(WB),xb=Xt(HB),rv=Xt(GB),qB=Object.assign(Hp,{Child:rv,Root:Hp});var KB=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(KB||{}),QB=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(QB||{});let YB={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},iv=N.createContext(null);iv.displayName="DialogContext";function Qd(t){let e=N.useContext(iv);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qd),n}return e}function XB(t,e){return li(e.type,YB,t,e)}let gE=Xt(function(t,e){let n=N.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:s,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:d=!1,...f}=t,h=N.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Wd();i===void 0&&g!==null&&(i=(g&Fn.Open)===Fn.Open);let v=N.useRef(null),T=rr(v,e),C=Tl(v),_=i?0:1,[y,S]=N.useReducer(XB,{titleId:null,descriptionId:null,panelRef:N.createRef()}),x=ze(()=>o(!1)),O=ze(K=>S({type:0,id:K})),M=Il()?_===0:!1,[b,E]=AB(),I={get current(){var K;return(K=y.panelRef.current)!=null?K:v.current}},P=Sb(),{resolveContainers:D}=RB({mainTreeNode:P,portals:b,defaultContainers:[I]}),R=g!==null?(g&Fn.Closing)===Fn.Closing:!1;z4(c||R?!1:M,{allowed:ze(()=>{var K,oe;return[(oe=(K=v.current)==null?void 0:K.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:ze(()=>{var K;return[(K=P==null?void 0:P.closest("body > *:not(#headlessui-portal-root)"))!=null?K:null]})}),tB(M,D,K=>{K.preventDefault(),x()}),xB(M,C==null?void 0:C.defaultView,K=>{K.preventDefault(),K.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),aB(c||R?!1:M,C,D),db(M,v,x);let[A,ne]=O4(),he=N.useMemo(()=>[{dialogState:_,close:x,setTitleId:O,unmount:d},y],[_,y,x,O,d]),pe=N.useMemo(()=>({open:_===0}),[_]),ve={ref:T,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:_===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":A,unmount:d},z=!DB(),X=xi.None;return M&&!c&&(X|=xi.RestoreFocus,X|=xi.TabLock,l&&(X|=xi.AutoFocus),z&&(X|=xi.InitialFocus)),G.createElement(vB,null,G.createElement(hE,{force:!0},G.createElement(PB,null,G.createElement(iv.Provider,{value:he},G.createElement(Eb,{target:v},G.createElement(hE,{force:!1},G.createElement(ne,{slot:pe},G.createElement(E,null,G.createElement(MB,{initialFocus:s,initialFocusFallback:v,containers:D,features:X},G.createElement($4,{value:x},bn({ourProps:ve,theirProps:f,slot:pe,defaultTag:JB,features:ZB,visible:_===0,name:"Dialog"})))))))))))}),JB="div",ZB=Mc.RenderStrategy|Mc.Static;function e$(t,e){let{transition:n=!1,open:r,...i}=t,o=Wd(),s=t.hasOwnProperty("open")||o!==null,a=t.hasOwnProperty("onClose");if(!s&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?G.createElement(pE,null,G.createElement(qB,{show:r,transition:n,unmount:i.unmount},G.createElement(gE,{ref:e,...i}))):G.createElement(pE,null,G.createElement(gE,{ref:e,open:r,...i}))}let t$="div";function n$(t,e){let n=N.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=t,[{dialogState:s,unmount:a},l]=Qd("Dialog.Panel"),c=rr(e,l.panelRef),d=N.useMemo(()=>({open:s===0}),[s]),f=ze(g=>{g.stopPropagation()}),h={ref:c,id:r,onClick:f};return G.createElement(i?rv:N.Fragment,{...i?{unmount:a}:{}},bn({ourProps:h,theirProps:o,slot:d,defaultTag:t$,name:"Dialog.Panel"}))}let r$="div";function i$(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:o}]=Qd("Dialog.Backdrop"),s=N.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0};return G.createElement(n?rv:N.Fragment,{...n?{unmount:o}:{}},bn({ourProps:a,theirProps:r,slot:s,defaultTag:r$,name:"Dialog.Backdrop"}))}let o$="h2";function s$(t,e){let n=N.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:o,setTitleId:s}]=Qd("Dialog.Title"),a=rr(e);N.useEffect(()=>(s(r),()=>s(null)),[r,s]);let l=N.useMemo(()=>({open:o===0}),[o]);return bn({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:o$,name:"Dialog.Title"})}let a$=Xt(e$),Db=Xt(n$),l$=Xt(i$),Rb=Xt(s$),u$=Object.assign(a$,{Panel:Db,Title:Rb,Description:L4});const c$=({open:t,setOpen:e})=>{const{register:n,handleSubmit:r,reset:i}=I4(),{createNewTodo:o}=YI(),s=a=>{o(a),e(!1),i()};return fe.jsxs(u$,{open:t,onClose:()=>e(!1),className:"relative z-10",children:[fe.jsx(l$,{transition:!0,className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),fe.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:fe.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:fe.jsx(Db,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:w-full sm:max-w-lg",children:fe.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:fe.jsx("div",{className:"",children:fe.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[fe.jsx(Rb,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Nueva Tarea"}),fe.jsx("div",{className:"mt-2",children:fe.jsxs("form",{onSubmit:r(s),children:[fe.jsxs("div",{className:"mb-4",children:[fe.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Titulo"}),fe.jsx("input",{...n("title",{required:"El titulo es obligatorio"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),fe.jsxs("div",{className:"mb-6",children:[fe.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcin"}),fe.jsx("input",{...n("description",{required:"La descripcin es obligatoria"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),fe.jsxs("div",{className:"flex justify-end gap-4",children:[fe.jsx("button",{type:"button",onClick:()=>e(!1),className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Cancelar"}),fe.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm sm:w-auto",children:"Agregar"})]})]})})]})})})})})})]})},d$=()=>{const[t,e]=G.useState(!1);return fe.jsxs("div",{className:"min-h-screen bg-slate-300 p-8",children:[fe.jsxs("div",{className:"flex justify-between items-center mb-8",children:[fe.jsx("div",{className:"flex-1 flex justify-center",children:fe.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white",children:"Lista de tareas"})}),fe.jsx("button",{className:" text-white px-4 py-2 rounded hover:bg-blue-600 transition",onClick:()=>e(!0),children:fe.jsx("img",{src:i4,alt:"",width:50})})]}),fe.jsx("div",{className:"flex justify-center items-center",children:fe.jsx(r4,{})}),fe.jsx(c$,{open:t,setOpen:e})]})},f$=jL({reducer:{setlistSlice:t4}});PS(document.getElementById("root")).render(fe.jsx(hL,{store:f$,children:fe.jsx(d$,{})}));
